jn.define("call:followup/audioplayer",((t,a,e)=>{const s=t("native/media").AudioPlayer;const{Button:i,ButtonSize:r,ButtonDesign:n,Icon:o,Ellipsize:v}=t("ui-system/form/buttons/button");const{Color:l}=t("tokens");class d extends LayoutComponent{constructor(t={}){super(t);this.trackUrl=t.trackUrl;this.player=null;this.state={currentSeconds:0,trackWidth:null,duration:0,currentSpeed:1,isPlaying:false,isReady:false};this.player=new s({uri:this.trackUrl});this.player.on("timeupdate",(t=>{this.setState({currentSeconds:t.currentTime})})).on("ready",(t=>{this.setState({isReady:true,duration:t.duration})}))}formatTime(t){const a=Math.floor(t/60);const e=t%60;return`${a.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}setTime(t){this.player.setSeek(t)}renderProgressWave(){const t=this.state.currentSeconds/this.state.duration*100;return`<svg width="188" height="17" viewBox="0 0 188 17" fill="none" xmlns="http://www.w3.org/2000/svg"><linearGradient id="halfGradient" x1="0" x2="1" y1="0" y2="0"><stop offset='${Number.isNaN(t)?0:t}%' stop-color="#11A9D9"/><stop stop-color="#D1D1D1"/></linearGradient><path d="M0 7a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V7ZM3 7a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V7ZM6 7a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V7ZM9 5a1 1 0 0 1 2 0v7a1 1 0 1 1-2 0V5ZM12 2.5a1 1 0 1 1 2 0v12a1 1 0 1 1-2 0v-12ZM15 5a1 1 0 1 1 2 0v7a1 1 0 1 1-2 0V5ZM18 4.5a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0v-8ZM21 5a1 1 0 1 1 2 0v7a1 1 0 1 1-2 0V5ZM24 7a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0V7ZM27 7a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0V7ZM30 2a1 1 0 1 1 2 0v13a1 1 0 1 1-2 0V2ZM33 4.5a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0v-8ZM36 5a1 1 0 1 1 2 0v7a1 1 0 1 1-2 0V5ZM39 2.5a1 1 0 1 1 2 0v12a1 1 0 1 1-2 0v-12ZM42 7a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0V7ZM45 6a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V6ZM48 5a1 1 0 1 1 2 0v7a1 1 0 1 1-2 0V5ZM51 6a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V6ZM54 4a1 1 0 1 1 2 0v9a1 1 0 1 1-2 0V4ZM57 8a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0V8ZM60 7a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0V7ZM63 5a1 1 0 1 1 2 0v7a1 1 0 1 1-2 0V5ZM66 7a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0V7ZM69 6a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V6ZM72 7a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0V7ZM75 5a1 1 0 1 1 2 0v7a1 1 0 1 1-2 0V5ZM78 4.5a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0v-8ZM81 8a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0V8ZM84 6.5a1 1 0 1 1 2 0v4a1 1 0 1 1-2 0v-4ZM87 5a1 1 0 1 1 2 0v7a1 1 0 1 1-2 0V5ZM90 1a1 1 0 1 1 2 0v15a1 1 0 1 1-2 0V1ZM93 1a1 1 0 1 1 2 0v15a1 1 0 1 1-2 0V1ZM96 7a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0V7ZM99 7a1 1 0 1 1 2 0v3a1 1 0 0 1-2 0V7ZM102 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM105 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM108 7a1 1 0 0 1 2 0v3a1 1 0 0 1-2 0V7ZM111 2.5a1 1 0 0 1 2 0v12a1 1 0 0 1-2 0v-12ZM114 2.5a1 1 0 0 1 2 0v12a1 1 0 0 1-2 0v-12ZM117 3a1 1 0 0 1 2 0v11a1 1 0 0 1-2 0V3ZM120 3a1 1 0 0 1 2 0v11a1 1 0 0 1-2 0V3ZM123 7a1 1 0 0 1 2 0v3a1 1 0 0 1-2 0V7ZM126 2.5a1 1 0 0 1 2 0v12a1 1 0 0 1-2 0v-12ZM129 4.5a1 1 0 0 1 2 0v8a1 1 0 0 1-2 0v-8ZM132 2.5a1 1 0 0 1 2 0v12a1 1 0 0 1-2 0v-12ZM135 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM138 8a1 1 0 0 1 2 0v1a1 1 0 0 1-2 0V8ZM141 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM144 6.5a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4ZM147 3a1 1 0 0 1 2 0v11a1 1 0 0 1-2 0V3ZM150 1a1 1 0 0 1 2 0v15a1 1 0 0 1-2 0V1ZM153 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM156 4.5a1 1 0 0 1 2 0v8a1 1 0 0 1-2 0v-8ZM159 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM162 7a1 1 0 0 1 2 0v3a1 1 0 0 1-2 0V7ZM165 4a1 1 0 0 1 2 0v9a1 1 0 0 1-2 0V4ZM168 8a1 1 0 0 1 2 0v1a1 1 0 0 1-2 0V8ZM171 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM174 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM177 8a1 1 0 0 1 2 0v1a1 1 0 0 1-2 0V8ZM180 5a1 1 0 0 1 2 0v7a1 1 0 0 1-2 0V5ZM183 6.5a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4ZM186 3a1 1 0 0 1 2 0v11a1 1 0 0 1-2 0V3Z" fill="url(#halfGradient)"/></svg>`}render(){return View({style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between"}},this.state.isReady?i({testId:"button-play",onClick:()=>{if(this.state.isPlaying){this.player.pause();this.setState({isPlaying:false});return}this.player.play();this.setState({isPlaying:true})},disabled:false,rightIcon:this.state.isPlaying?o.PAUSE:o.PLAY,size:r.M,design:n.FILLED,rounded:true,ellipsize:v.END}):Loader({style:{width:40,height:40},tintColor:l.accentMainPrimaryalt.toHex(),animating:true,size:"large"}),View({style:{width:"60%"}},View({style:{position:"relative",height:17},ref:t=>{this.audioTrack=t},onLayout:t=>{this.state.trackWidth=t.width},onTouchesBegan:()=>{},onTouchesEnded:t=>{if(this.state.isReady){const a=t.x/this.state.trackWidth*this.state.duration;this.player.setSeek(a)}}},Image({style:{position:"absolute",width:"100%",height:17,top:0,left:0,zIndex:1},svg:{content:this.renderProgressWave()}})),View({style:{marginTop:5}},Text({style:{fontSize:10,color:l.chatOtherBase1_2.toHex(),fontWeight:"400"},text:this.formatTime(this.state.currentSeconds)}))),View({style:{width:60}},i({testId:"button-speed",onClick:()=>{if(this.state.currentSpeed===1){this.setState({currentSpeed:1.5});this.player.setSpeed(this.state.currentSpeed);return}if(this.state.currentSpeed===1.5){this.setState({currentSpeed:2});this.player.setSpeed(this.state.currentSpeed);return}this.setState({currentSpeed:1});this.player.setSpeed(this.state.currentSpeed)},text:`${this.state.currentSpeed}x`,disabled:false,size:r.S,design:n.OUTLINE,rounded:true,ellipsize:v.END})))}}e.exports={Audioplayer:d}}));
//# sourceMappingURL=extension.map.js