this.BX=this.BX||{};(function(e,t,s,o){"use strict";class i{constructor(e){this.popup=null;this.personalMobile=t.Type.isStringFilled(e.personalMobile)?e.personalMobile:"";this.initAppsInstall()}initAppsInstall(){const e=document.querySelector("[data-role='profile-android-app']");if(t.Type.isDomNode(e)){e.addEventListener("click",(()=>{this.showSmsPopup(this.personalMobile)}))}const s=document.querySelector("[data-role='profile-ios-app']");if(t.Type.isDomNode(s)){s.addEventListener("click",(()=>{this.showSmsPopup(this.personalMobile)}))}}showSmsPopup(e){this.popup=s.PopupManager.create({id:"intranet-apps-widget-sms-popup",className:"intranet-apps-widget-popup",titleBar:t.Loc.getMessage("INTRANET_APPS_WIDGET_INSTALL"),cacheable:false,maxWidth:450,contentColor:"white",content:t.Dom.create("div",{children:[t.Dom.create("div",{props:{className:"intranet-apps-widget-popup-title"},html:t.Loc.getMessage("INTRANET_APPS_WIDGET_PHONE")}),t.Dom.create("div",{props:{className:"ui-ctl ui-ctl-textbox ui-ctl-wa"},children:[t.Dom.create("input",{props:{value:e,className:"ui-ctl-element",type:"text"},events:{input:t=>{e=t.target.value}}})]}),t.Dom.create("div",{props:{className:"intranet-apps-widget-popup-text"},html:t.Loc.getMessage("INTRANET_APPS_WIDGET_INSTALL_TEXT")})]}),closeIcon:true,contentPadding:10,buttons:[new o.CreateButton({text:t.Loc.getMessage("INTRANET_APPS_WIDGET_SEND"),className:"ui-btn-primary",events:{click:s=>{s.setWaiting();const o=s.context;t.ajax.runAction("intranet.controller.sms.sendsmsforapp",{data:{phone:e}}).then((()=>{o.close()}),(()=>{o.close()}))}}})]});this.popup.show()}}e.AppsWidget=i})(this.BX.Intranet=this.BX.Intranet||{},BX,BX.Main,BX.UI);
//# sourceMappingURL=script.map.js