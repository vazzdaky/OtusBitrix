{"version":3,"file":"script.js","sources":["src/logo.js","src/culture.js","src/index.js"],"sourcesContent":["export class Logo\n{\n\tconstructor(parent)\n\t{\n\t\tthis.ajaxPath = parent.ajaxPath;\n\n\t\tif (BX(\"configLogoPostForm\") && BX(\"configLogoPostForm\").client_logo)\n\t\t{\n\t\t\tBX.bind(BX(\"configLogoPostForm\").client_logo, \"change\", () => {\n\t\t\t\tthis.LogoChange();\n\t\t\t});\n\t\t}\n\n\t\tif (BX(\"configDeleteLogo\"))\n\t\t{\n\t\t\tBX.bind(BX(\"configDeleteLogo\"), \"click\", () => {\n\t\t\t\tthis.LogoDelete(BX(\"configDeleteLogo\"));\n\t\t\t});\n\t\t}\n\n\t\tif (BX(\"configLogoRetinaPostForm\") && BX(\"configLogoRetinaPostForm\").client_logo_retina)\n\t\t{\n\t\t\tBX.bind(BX(\"configLogoRetinaPostForm\").client_logo_retina, \"change\", () => {\n\t\t\t\tthis.LogoChange(\"retina\");\n\t\t\t});\n\t\t}\n\n\t\tif (BX(\"configDeleteLogoretina\"))\n\t\t{\n\t\t\tBX.bind(BX(\"configDeleteLogoretina\"), \"click\", () => {\n\t\t\t\tthis.LogoDelete(BX(\"configDeleteLogoretina\"), \"retina\");\n\t\t\t});\n\t\t}\n\t}\n\n\tLogoChange(mode)\n\t{\n\t\tmode = (mode == \"retina\" ? \"retina\" : \"\");\n\n\t\tBX('configWaitLogo' + mode).style.display='inline-block';\n\t\tBX.ajax.submit(\n\t\t\tBX(mode == \"retina\" ? 'configLogoRetinaPostForm' : 'configLogoPostForm'),\n\t\t\tfunction(reply)\n\t\t\t{\n\t\t\t\ttry {\n\t\t\t\t\tvar json = JSON.parse(reply);\n\n\t\t\t\t\tif (json.error)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX('config_logo_error_block').style.display = 'block';\n\t\t\t\t\t\tvar error_block = BX.findChild(BX('config_logo_error_block'), {class: 'content-edit-form-notice-text'}, true, false);\n\t\t\t\t\t\terror_block.innerHTML = '<span class=\\'content-edit-form-notice-icon\\'></span>'+json.error;\n\t\t\t\t\t}\n\t\t\t\t\telse if (json.path)\n\t\t\t\t\t{\n\t\t\t\t\t\tBX('config_logo_error_block').style.display = 'none';\n\t\t\t\t\t\tBX('configImgLogo' + mode).src = json.path;\n\t\t\t\t\t\tBX('configBlockLogo' + mode).style.display = 'inline-block';\n\t\t\t\t\t\tBX('configDeleteLogo' + mode).style.display = 'inline-block';\n\t\t\t\t\t}\n\t\t\t\t\tBX('configWaitLogo' + mode).style.display='none';\n\t\t\t\t} catch (e) {\n\t\t\t\t\tBX('configWaitLogo' + mode).style.display='none';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tLogoDelete(curLink, mode)\n\t{\n\t\tmode = (mode == \"retina\" ? \"retina\" : \"\");\n\n\t\tif (confirm(BX.message(\"LogoDeleteConfirm\")))\n\t\t{\n\t\t\tBX('configWaitLogo' + mode).style.display='inline-block';\n\n\t\t\tBX.ajax.post(\n\t\t\t\tthis.ajaxPath,\n\t\t\t\t{\n\t\t\t\t\tclient_delete_logo: 'Y',\n\t\t\t\t\tsessid : BX.bitrix_sessid(),\n\t\t\t\t\tmode: mode\n\t\t\t\t},\n\t\t\t\tfunction(){\n\n\t\t\t\t\tBX('configBlockLogo' + mode).style.display = 'none';\n\t\t\t\t\tcurLink.style.display = 'none';\n\t\t\t\t\tBX('config_error_block').style.display = 'none';\n\t\t\t\t\tBX('configWaitLogo' + mode).style.display='none';\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n}","import {Event, Type} from 'main.core';\n\nexport class Culture\n{\n\tconstructor(parent)\n\t{\n\t\tthis.cultureList = parent.cultureList;\n\t\tthis.selectorNode = document.querySelector(\"[data-role='culture-selector']\");\n\t\tthis.shortDateNode = document.querySelector(\"[data-role='culture-short-date-format']\");\n\t\tthis.longDateNode = document.querySelector(\"[data-role='culture-long-date-format']\");\n\n\t\tif (Type.isDomNode(this.selectorNode))\n\t\t{\n\t\t\tEvent.bind(this.selectorNode, 'change', () => {\n\t\t\t\tthis.changeFormatExample(this.selectorNode.value);\n\t\t\t});\n\t\t}\n\t}\n\n\tchangeFormatExample(cultureId)\n\t{\n\t\tif (!Type.isDomNode(this.shortDateNode) || !Type.isDomNode(this.longDateNode))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.shortDateNode.textContent = this.cultureList[cultureId].SHORT_DATE_FORMAT;\n\t\tthis.longDateNode.textContent = this.cultureList[cultureId].LONG_DATE_FORMAT;\n\t}\n}","import {Reflection, Tag} from 'main.core';\nimport {Logo} from './logo';\nimport {Culture} from './culture';\n\nconst namespace = Reflection.namespace('BX.Intranet.Configs');\n\nclass IpSettingsClass\n{\n\tconstructor(arCurIpRights)\n\t{\n\t\tthis.arCurIpRights = arCurIpRights;\n\n\t\tvar deleteButtons = document.querySelectorAll(\"[data-role='ip-right-delete']\");\n\t\tdeleteButtons.forEach(function (button) {\n\t\t\tBX.bind(button, \"click\", function () {\n\t\t\t\tthis.DeleteIpAccessRow(button);\n\t\t\t}.bind(this));\n\t\t}.bind(this));\n\t}\n\n\tDeleteIpAccessRow(ob)\n\t{\n\t\tvar tdObj = ob.parentNode.parentNode;\n\t\tBX.remove(ob.parentNode);\n\t\tvar allInputBlocks = BX.findChildren(tdObj, {tagName:'div'}, true);\n\t\tif (allInputBlocks.length <= 0)\n\t\t{\n\t\t\tvar deleteRight = tdObj.parentNode.getAttribute(\"data-bx-right\");\n\t\t\tvar arCurIpRightsNew = [];\n\t\t\tfor(var i = 0; i < this.arCurIpRights.length; i++)\n\t\t\t\tif (this.arCurIpRights[i] != deleteRight)\n\t\t\t\t\tarCurIpRightsNew.push(this.arCurIpRights[i]);\n\t\t\tthis.arCurIpRights = arCurIpRightsNew;\n\n\t\t\tBX.remove(tdObj.parentNode);\n\t\t}\n\t}\n\n\tShowIpAccessPopup(val)\n\t{\n\t\tval = val || [];\n\n\t\tBX.Access.Init({\n\t\t\tother: {\n\t\t\t\tdisabled: false,\n\t\t\t\tdisabled_g2: true,\n\t\t\t\tdisabled_cr: true\n\t\t\t},\n\t\t\tgroups: { disabled: true },\n\t\t\tsocnetgroups: { disabled: true }\n\t\t});\n\n\t\tvar startValue = {};\n\t\tfor(var i = 0; i < val.length; i++)\n\t\t\tstartValue[val[i]] = true;\n\n\t\tBX.Access.SetSelected(startValue);\n\n\t\tBX.Access.ShowForm({\n\t\t\tcallback: (arRights) => {\n\t\t\t\tvar pr = false;\n\n\t\t\t\tfor(var provider in arRights)\n\t\t\t\t{\n\t\t\t\t\tpr = BX.Access.GetProviderName(provider);\n\t\t\t\t\tfor(var right in arRights[provider])\n\t\t\t\t\t{\n\t\t\t\t\t\tconst onInputClickHandler = (event) => {\n\t\t\t\t\t\t\tthis.addInputForIp(childBlockInput);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst childBlockInput = Tag.render`\n\t\t\t\t\t\t\t<input type=\"text\" name=\"ip_access_rights_${right}[]\" size=\"30\"\n\t\t\t\t\t\t\t\tonclick=\"${onInputClickHandler}\"\n\t\t\t\t\t\t\t>\t\n\t\t\t\t\t\t`;\n\n\t\t\t\t\t\tconst onCloseClickHandler = (event) => {\n\t\t\t\t\t\t\tthis.DeleteIpAccessRow(childBlockClose);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst childBlockClose = Tag.render`\n\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\tclass=\"access-delete\" \n\t\t\t\t\t\t\t\ttitle=\"${BX.message('SLToAllDel')}\" \n\t\t\t\t\t\t\t\thref=\"javascript:void(0);\"\n\t\t\t\t\t\t\t\tonclick=\"${onCloseClickHandler}\"\n\t\t\t\t\t\t\t></a>\t\t\n\t\t\t\t\t\t`;\n\n\t\t\t\t\t\tconst insertBlock = BX.create('tr', {\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\"data-bx-right\" : right\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tBX.create('td', {\n\t\t\t\t\t\t\t\t\thtml: (pr.length > 0 ? pr + ': ' : '') + BX.util.htmlspecialchars(arRights[provider][right].name) + '&nbsp;',\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t'className': 'content-edit-form-field-name'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tBX.create('td', {\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t'className': 'content-edit-form-field-input',\n\t\t\t\t\t\t\t\t\t\t'colspan': 2\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\tchildBlockInput,\n\t\t\t\t\t\t\t\t\t\t\t\tchildBlockClose\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tBX('ip_add_right_button').parentNode.insertBefore(insertBlock, BX('ip_add_right_button'));\n\t\t\t\t\t\tthis.arCurIpRights.push(right);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\taddInputForIp(input)\n\t{\n\t\tvar inputParent = input.parentNode;\n\t\tif (BX.nextSibling(inputParent))\n\t\t\treturn;\n\n\t\tvar newInputBlock = BX.clone(inputParent);\n\t\tvar newInput = BX.firstChild(newInputBlock);\n\t\tnewInput.value = \"\";\n\t\tnewInput.onclick = () => {this.addInputForIp(newInput)};\n\t\tconst nextInput = BX.nextSibling(newInput);\n\t\tnextInput.onclick = () => {this.DeleteIpAccessRow(nextInput)};\n\t\tinputParent.parentNode.appendChild(newInputBlock);\n\t}\n}\nnamespace.IpSettingsClass = IpSettingsClass;\n\nclass Functions\n{\n\tconstructor(params)\n\t{\n\t\tthis.ajaxPath = params.ajaxPath || '';\n\t\tthis.addressFormatList = params.addressFormatList || {};\n\t\tthis.cultureList = params.cultureList || {};\n\n\t\tnew Logo(this);\n\t\tnew Culture(this);\n\n\t\tvar toAllCheckBox = BX('allow_livefeed_toall');\n\t\tvar defaultCont = BX('DEFAULT_all');\n\n\t\tif (toAllCheckBox && defaultCont)\n\t\t{\n\t\t\tBX.bind(toAllCheckBox, 'click', BX.delegate(function(e) {\n\t\t\t\tdefaultCont.style.display = (this.checked ? '' : 'none');\n\t\t\t}, toAllCheckBox));\n\t\t}\n\n\t\tvar rightsCont = BX('RIGHTS_all');\n\t\tif (toAllCheckBox && rightsCont)\n\t\t{\n\t\t\tBX.bind(toAllCheckBox, 'click', BX.delegate(function(e) {\n\t\t\t\trightsCont.style.display = (this.checked ? '' : 'none');\n\t\t\t}, toAllCheckBox));\n\t\t}\n\n\t\t//im chat\n\t\tvar toChatAllCheckBox = BX('allow_general_chat_toall');\n\t\tvar chatRightsCont = BX('chat_rights_all');\n\t\tif (toChatAllCheckBox && chatRightsCont)\n\t\t{\n\t\t\tBX.bind(toChatAllCheckBox, 'click', function() {\n\t\t\t\tchatRightsCont.style.display = (this.checked ? '' : 'none');\n\t\t\t});\n\t\t}\n\n\t\tvar mpUserInstallChechBox= BX('mp_allow_user_install');\n\t\tvar mpUserInstallCont = BX('mp_user_install');\n\t\tif (mpUserInstallChechBox && mpUserInstallCont)\n\t\t{\n\t\t\tBX.bind(mpUserInstallChechBox, 'click', function() {\n\t\t\t\tmpUserInstallCont.style.display = (this.checked ? '' : 'none');\n\t\t\t});\n\t\t}\n\n\t\tvar addressFormatSelect = BX('location_address_format_select');\n\n\t\tif(addressFormatSelect)\n\t\t{\n\t\t\tBX.bind(addressFormatSelect, 'change', () => {\n\t\t\t\tvar addressFormatDescription = BX('location_address_format_description');\n\t\t\t\taddressFormatDescription.innerHTML = this.addressFormatList[addressFormatSelect.value];\n\t\t\t});\n\t\t}\n\n\t\tif (BX.type.isDomNode((BX('smtp_use_auth'))))\n\t\t{\n\t\t\tBX.bind(BX('smtp_use_auth'), 'change', BX.proxy(function ()\n\t\t\t{\n\t\t\t\tthis.showHideSmtpAuth();\n\t\t\t}, this));\n\t\t}\n\t}\n\n\tsubmitForm (button)\n\t{\n\t\tBX.addClass(button, 'webform-button-wait webform-button-active');\n\t\tBX.submit(BX('configPostForm'));\n\t}\n\n\totpSwitchOffInfo(elem)\n\t{\n\t\tif (!elem.checked)\n\t\t{\n\t\t\tBX.PopupWindowManager.create('otpSwitchOffInfo', elem, {\n\t\t\t\tautoHide: true,\n\t\t\t\toffsetLeft: -100,\n\t\t\t\toffsetTop: 15,\n\t\t\t\toverlay : false,\n\t\t\t\tdraggable: {restrict:true},\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tcloseIcon: { right : '12px', top : '10px'},\n\t\t\t\tcontent: '<div style=\"padding: 15px; width: 300px; font-size: 13px\">' + BX.message('CONFIG_OTP_SECURITY_SWITCH_OFF_INFO') + '</div>'\n\t\t\t}).show();\n\t\t}\n\t}\n\n\tonGdprChange(element)\n\t{\n\t\tvar items = document.querySelectorAll(\"[data-role='gdpr-data']\");\n\t\tfor (var i=0; i<items.length; i++)\n\t\t{\n\t\t\titems[i].style.visibility = element.checked ? 'visible' : 'collapse';\n\t\t}\n\t}\n\n\tadminOtpIsRequiredInfo(elem)\n\t{\n\t\tBX.PopupWindowManager.create('adminOtpIsRequiredInfo', elem, {\n\t\t\tautoHide: true,\n\t\t\toffsetLeft: -100,\n\t\t\toffsetTop: 15,\n\t\t\toverlay : false,\n\t\t\tdraggable: {restrict:true},\n\t\t\tcloseByEsc: true,\n\t\t\tcloseIcon: { right : '12px', top : '10px'},\n\t\t\tcontent: '<div style=\"padding: 15px; width: 300px; font-size: 13px\">' + BX.message('CONFIG_OTP_ADMIN_IS_REQUIRED_INFO') + '</div>'\n\t\t}).show();\n\t}\n\n\tshowDiskExtendedFullTextInfo(event, elem)\n\t{\n\t\tevent.stopPropagation;\n\t\tevent.preventDefault();\n\t\tBX.PopupWindowManager.create('diskExtendedFullTextInfo', elem, {\n\t\t\tautoHide: true,\n\t\t\toffsetLeft: -100,\n\t\t\toffsetTop: 15,\n\t\t\toverlay : false,\n\t\t\tdraggable: {restrict:true},\n\t\t\tcloseByEsc: true,\n\t\t\tcloseIcon: { right : '12px', top : '10px'},\n\t\t\tcontent: '<div style=\"padding: 15px; width: 300px; font-size: 13px\">' + BX.message('CONFIG_DISK_EXTENDED_FULLTEXT_INFO') + '</div>'\n\t\t}).show();\n\t}\n\n\tgeoDataSwitch(element)\n\t{\n\t\tif (element.checked)\n\t\t{\n\t\t\telement.checked = false;\n\n\t\t\tBX.UI.Dialogs.MessageBox.show({\n\t\t\t\t'modal': true,\n\t\t\t\t'minWidth': BX.message('CONFIG_COLLECT_GEO_DATA_CONFIRM').length > 400 ? 640 : 480,\n\t\t\t\t'title': BX.message('CONFIG_COLLECT_GEO_DATA'),\n\t\t\t\t'message': BX.message('CONFIG_COLLECT_GEO_DATA_CONFIRM'),\n\t\t\t\t'buttons': BX.UI.Dialogs.MessageBoxButtons.OK_CANCEL,\n\t\t\t\t'okCaption': BX.message('CONFIG_COLLECT_GEO_DATA_OK'),\n\t\t\t\t'onOk': function ()\n\t\t\t\t{\n\t\t\t\t\telement.checked = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nnamespace.Functions = Functions;"],"names":["Logo","constructor","parent","ajaxPath","BX","client_logo","bind","LogoChange","LogoDelete","client_logo_retina","mode","style","display","ajax","submit","reply","json","JSON","parse","error","error_block","findChild","class","innerHTML","path","src","e","curLink","confirm","message","post","client_delete_logo","sessid","bitrix_sessid","Culture","cultureList","selectorNode","document","querySelector","shortDateNode","longDateNode","Type","isDomNode","Event","changeFormatExample","value","cultureId","textContent","SHORT_DATE_FORMAT","LONG_DATE_FORMAT","namespace","Reflection","IpSettingsClass","arCurIpRights","deleteButtons","querySelectorAll","forEach","button","DeleteIpAccessRow","ob","tdObj","parentNode","remove","allInputBlocks","findChildren","tagName","length","deleteRight","getAttribute","arCurIpRightsNew","i","push","ShowIpAccessPopup","val","Access","Init","other","disabled","disabled_g2","disabled_cr","groups","socnetgroups","startValue","SetSelected","ShowForm","callback","arRights","pr","provider","GetProviderName","right","onInputClickHandler","event","addInputForIp","childBlockInput","Tag","render","onCloseClickHandler","childBlockClose","insertBlock","create","attrs","children","html","util","htmlspecialchars","name","props","insertBefore","input","inputParent","nextSibling","newInputBlock","clone","newInput","firstChild","onclick","nextInput","appendChild","Functions","params","addressFormatList","toAllCheckBox","defaultCont","delegate","checked","rightsCont","toChatAllCheckBox","chatRightsCont","mpUserInstallChechBox","mpUserInstallCont","addressFormatSelect","addressFormatDescription","type","proxy","showHideSmtpAuth","submitForm","addClass","otpSwitchOffInfo","elem","PopupWindowManager","autoHide","offsetLeft","offsetTop","overlay","draggable","restrict","closeByEsc","closeIcon","top","content","show","onGdprChange","element","items","visibility","adminOtpIsRequiredInfo","showDiskExtendedFullTextInfo","stopPropagation","preventDefault","geoDataSwitch","UI","Dialogs","MessageBox","MessageBoxButtons","OK_CANCEL"],"mappings":"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"}