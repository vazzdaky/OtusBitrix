this.BX=this.BX||{};this.BX.Intranet=this.BX.Intranet||{};(function(e,s,t,a,i,l,o,r,n,c,d,m){"use strict";class _{}_.eventNameSpace="BX.Intranet.Userprofile:";let v=e=>e,u,p;class h{constructor(){}static getOpenSliderFunction(e){if(n.Type.isStringFilled(e)){return()=>{d.EventEmitter.emit(d.EventEmitter.GLOBAL_TARGET,_.eventNameSpace+"onNeedToHide");BX.SidePanel.Instance.open(e,{cacheable:false,data:{},width:500})}}return()=>{}}static showData(e){e.value=parseInt(e.value||0);const s=n.Tag.render(u||(u=v`
			<div class="system-auth-form__item system-auth-form__scope --vertical" id="user-indicator-pulse">
				<div class="system-auth-form__item-block --margin-bottom">
					<div class="system-auth-form__stress-widget">
						<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>
						<div class="system-auth-form__stress-widget--content">
							<div class="system-auth-form__stress-widget--content-title">${0}</div>
							<div data-role="value" class="system-auth-form__stress-widget--content-progress ${0}">0</div>
						</div>
					</div>
					<div class="system-auth-form__item-container --stress-widget-sp">
						<div class="system-auth-form__item-block --center --width-100">
							<span class="system-auth-form__stress-widget--status  --flex --${0}">${0}</span>
							<span class="system-auth-form__icon-help" onclick="${0}"></span>
						</div>
						<div class="system-auth-form__item-title --link-dotted" onclick="${0}">${0}</div>
					</div>
				</div>
				<div class="system-auth-form__item-block --flex --center">
					<div class="system-auth-form__stress-widget--message">${0}</div>
				</div>
			</div>
		`),n.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),e.value>0?"":"--empty",n.Text.encode(e.type),n.Text.encode(e.typeDescription),this.getOpenSliderFunction(e.url.result),this.getOpenSliderFunction(e.url.check),n.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),n.Text.encode(e.comment));setTimeout((()=>{const t=setInterval((e=>{e.current++;e.node.innerHTML=e.current;if(e.current>=e.end){clearInterval(t)}}),600/e.value,{current:0,end:e.value,node:s.querySelector('[data-role="value"]')});s.querySelector('[data-role="value-degree"]').style.transform="rotate("+1.8*e.value+"deg)"}),1e3);return s}static showEmpty({url:{check:e}}){return n.Tag.render(p||(p=v`
			<div class="system-auth-form__item system-auth-form__scope --vertical --empty-stress --clickable" onclick="${0}">
				<div class="system-auth-form__item-block --margin-bottom">
					<div class="system-auth-form__stress-widget">
						<div data-role="value-degree" class="system-auth-form__stress-widget--arrow" style="transform: rotate(90deg);"></div>
						<div class="system-auth-form__stress-widget--content">
							<div class="system-auth-form__stress-widget--content-title">${0}</div>
							<div data-role="value" class="system-auth-form__stress-widget--content-progress --empty">?</div>
						</div>
					</div>
					<div class="system-auth-form__item-container --stress-widget-sp">
						<div class="system-auth-form__stress-widget--message">${0}</div>
					</div>
				</div>
				<div class="system-auth-form__item-block --flex --center">
					<div class="system-auth-form__item-title --link-dotted">${0}</div>
				</div>
				<div class="system-auth-form__item-new">
					<div class="system-auth-form__item-new--title">${0}</div>
				</div>
			</div>`),this.getOpenSliderFunction(e),n.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_INDICATOR_TEXT"),n.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_TITLE"),n.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_NORESULT_BUTTON"),n.Loc.getMessage("INTRANET_USER_PROFILE_STRESSLEVEL_RESULT_COME_ON"))}static getPromise({signedParameters:e,componentName:s,userId:t,data:a}){return new Promise(((i,l)=>{const o=a?Promise.resolve({data:a}):n.ajax.runAction("socialnetwork.api.user.stresslevel.get",{signedParameters:e,data:{c:s,fields:{userId:t}}});o.then((({data:e})=>{if(e&&e.id!==undefined&&e.value!==undefined){return i(this.showData(e))}const s=n.Loc.getMessage("USER_ID")===t?this.showEmpty(e):document.createElement("DIV");return i(s)})).catch((e=>{i(this.showData({id:undefined,value:undefined,urls:{check:undefined}}))}))}))}}let b=e=>e,g;var L=babelHelpers.classPrivateFieldLooseKey("params");var f=babelHelpers.classPrivateFieldLooseKey("container");class P extends d.EventEmitter{constructor(e){super();Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,f,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,L)[L]=Object.assign({},e);babelHelpers.classPrivateFieldLooseBase(this,L)[L].lightning=String(e.id).indexOf("light:")===0?"light":String(e.id).indexOf("dark:")===0?"dark":null;this.applyTheme=this.applyTheme.bind(this);this.setEventNamespace(_.eventNameSpace);d.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(({data:{id:e,theme:s}})=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L].id=e;babelHelpers.classPrivateFieldLooseBase(this,L)[L].lightning=String(e).indexOf("light:")===0?"light":String(e).indexOf("dark:")===0?"dark":null;babelHelpers.classPrivateFieldLooseBase(this,L)[L].title=s.title;babelHelpers.classPrivateFieldLooseBase(this,L)[L].previewImage=s.previewImage;babelHelpers.classPrivateFieldLooseBase(this,L)[L].previewColor=s.previewColor;this.applyTheme()}))}applyTheme(){const e=this.getContainer();if(n.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,L)[L].previewImage)&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].lightning){e.style.removeProperty("backgroundImage");e.style.removeProperty("backgroundSize");e.style.backgroundImage='url("'+babelHelpers.classPrivateFieldLooseBase(this,L)[L].previewImage+'")';e.style.backgroundSize="cover"}else{e.style.background="none"}if(n.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,L)[L].previewColor)){this.getContainer().style.backgroundColor=babelHelpers.classPrivateFieldLooseBase(this,L)[L].previewColor}if(!babelHelpers.classPrivateFieldLooseBase(this,L)[L].lightning){e.style.backgroundColor="rgba(255,255,255,1)"}n.Dom.removeClass(e,"--light --dark");n.Dom.addClass(e,"--"+babelHelpers.classPrivateFieldLooseBase(this,L)[L].lightning)}getContainer(){if(babelHelpers.classPrivateFieldLooseBase(this,f)[f]){return babelHelpers.classPrivateFieldLooseBase(this,f)[f]}const e=()=>{BX.Intranet.Bitrix24.ThemePicker.Singleton.showDialog(false);d.EventEmitter.emit(d.EventEmitter.GLOBAL_TARGET,_.eventNameSpace+":onOpen")};babelHelpers.classPrivateFieldLooseBase(this,f)[f]=n.Tag.render(g||(g=b`
			<div class="system-auth-form__item system-auth-form__scope --border ${0} --padding-sm">
				<div class="system-auth-form__item-logo">
					<div data-role="preview-color" class="system-auth-form__item-logo--image --theme"></div>
				</div>
				<div class="system-auth-form__item-container --flex --column">
					<div class="system-auth-form__item-title --white-space --block">
						<span data-role="title">${0}</span>
					</div>
					<div class="system-auth-form__item-content --margin-top-auto --center --center-force">
						<div class="ui-qr-popupcomponentmaker__btn" onclick="${0}">${0}</div>
					</div>
				</div>
			</div>`),babelHelpers.classPrivateFieldLooseBase(this,L)[L].lightning?"--"+babelHelpers.classPrivateFieldLooseBase(this,L)[L].lightning:"",n.Loc.getMessage("AUTH_THEME_DIALOG"),e,n.Loc.getMessage("INTRANET_USER_PROFILE_CHANGE"));setTimeout(this.applyTheme,0);return babelHelpers.classPrivateFieldLooseBase(this,f)[f]}static getPromise(){return new Promise(((e,s)=>{n.ajax.runComponentAction("bitrix:intranet.user.profile.button","getThemePickerData",{mode:"class"}).then((s=>{const t=new this(s.data);e(t.getContainer())})).catch(s)}))}}let E=e=>e,y,T,I,F,H,R,B;var O=babelHelpers.classPrivateFieldLooseKey("renderUsers");class S{constructor(e){Object.defineProperty(this,O,{value:N});this.data=e;this.onclickHandle=this.onclickHandle.bind(this)}showData(){const{myPosition:e,userList:s,range:t}=babelHelpers.classPrivateFieldLooseBase(this,O)[O]();let a;if(!this.data["ENABLED"]){a=n.Tag.render(y||(y=E`
			<div class="system-auth-form__item system-auth-form__scope --without-stat">
				<div class="system-auth-form__item-container --flex --column">
					<div class="system-auth-form__item-title">${0}</div>
					<div class="system-auth-form__item-container --center">
						<div class="system-auth-form__item-title --lighter" data-role="empty-info">${0}</div>
					</div>
				</div>
			</div>
		`),n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),n.Loc.getMessage("INTRANET_USER_PROFILE_DISABLED"))}else if(t>0&&e>0){a=n.Tag.render(T||(T=E`
			<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="${0}">
				<div class="system-auth-form__item-container">
					<div class="system-auth-form__item-title --without-margin">${0}</div>
					<div class="system-auth-form__item-title --link-light --margin-s">
						<span>${0}</span>
						<span class="system-auth-form__icon-help" data-hint="${0}" data-hint-no-icon></span>
					</div>
					<div class="system-auth-form__item-title --link-light" data-role="empty-info">${0}</div>

					<div class="system-auth-form__item-title --white-space --margin-xl">
						<span>${0}</span>
						<span class="system-auth-form__ustat-icon --up"></span>
					</div>
					<div class="system-auth-form__userlist">
						${0}
					</div>
				</div>
			</div>
		`),this.onclickHandle,n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),n.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"),n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":e,"#AMONG#":t}),s)}else{const e=t>0?this.onclickHandle:()=>{};a=n.Tag.render(I||(I=E`
			<div class="system-auth-form__item system-auth-form__scope --without-stat ${0}" onclick="${0}">
				<div class="system-auth-form__item-container --flex --column">
					<div class="system-auth-form__item-title">${0}</div>
					<div class="system-auth-form__item-container --center">
						<div class="system-auth-form__item-title --lighter" data-role="empty-info">${0}</div>
					</div>
				</div>
			</div>
		`),t>0?"--clickable":"",e,n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY_BRIEF"))}BX.UI.Hint.init(a);return a}onclickHandle(e){d.EventEmitter.emit(_.eventNameSpace+"onNeedToHide");if(window["openIntranetUStat"]){openIntranetUStat(e)}}showWideData(){const{myPosition:e,userList:s,range:t}=babelHelpers.classPrivateFieldLooseBase(this,O)[O]();const a=n.Tag.render(F||(F=E`
			<div class="system-auth-form__item system-auth-form__scope --center --padding-ustat ${0}">
				<div class="system-auth-form__item-image">
					<div class="system-auth-form__item-image--src --ustat"></div>
				</div>
				<div class="system-auth-form__item-container --overflow">
					<div class="system-auth-form__item-title --xl --without-margin">${0}</div>
				</div>
				<div class="system-auth-form__item-container --block">
					<div class="system-auth-form__item-title --link-light" data-role="empty-info">${0}</div>
					<div class="system-auth-form__item-container--inline" data-role="my-position">
						<div class="system-auth-form__item-title --link-light --without-margin --margin-right">
							${0}
						</div>
						<div class="system-auth-form__item-title --white-space --margin-xl">
							<span>${0}</span>
							<span class="system-auth-form__ustat-icon --up"></span>
						</div>
					</div>
					<div class="system-auth-form__userlist" data-role="user-list">
						${0}
					</div>
				</div>
				<div class="system-auth-form__icon-help --absolute-right-bottom" data-hint="${0}" data-hint-no-icon></div>
			</div>
		`),t>0?"--clickable":"--without-stat",n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_TITLE"),n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_IS_EMPTY"),n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_RATING"),n.Loc.getMessage("INTRANET_USER_PROFILE_PULSE_MY_POSITION",{"#POSITION#":e,"#AMONG#":t}),s,n.Loc.getMessage("INTRANET_USTAT_COMPANY_HELP_RATING"));if(t>0){a.addEventListener("click",this.onclickHandle)}return a}static getPromise({userId:e,isNarrow:s,data:t}){return new Promise(((e,a)=>{(t?Promise.resolve({data:t}):n.ajax.runComponentAction("bitrix:intranet.ustat.department","getJson",{mode:"class",data:{}})).then((({data:t})=>{const a=new this(t);e(s?a.showData():a.showWideData())})).catch((s=>{s=n.Type.isArray(s)?s:[s];const t=document.createElement("ul");s.forEach((({message:e})=>{const s=document.createElement("li");s.innerHTML=e;s.className="ui-alert-message";t.appendChild(s)}));e(n.Tag.render(H||(H=E`
						<div class="ui-alert ui-alert-danger">
							${0}
						</div>`),t))}))}))}}function N(){const e=document.createDocumentFragment();let s=parseInt(this.data["USERS_RATING"]["position"]);let t=0;const a=n.Type.isPlainObject(this.data["USERS_RATING"]["top"])?Object.values(this.data["USERS_RATING"]["top"]):n.Type.isArray(this.data["USERS_RATING"]["top"])&&this.data["USERS_RATING"]["top"].length>0?[...this.data["USERS_RATING"]["top"]]:[{USER_ID:n.Loc.getMessage("USER_ID"),ACTIVITY:0}];const i=s>5?[...a.slice(0,3),...a.slice(-1),null]:a;i.forEach(((s,a)=>{if(s===null){e.appendChild(n.Tag.render(R||(R=E`<div class="system-auth-form__userlist-item --list"></div>`)));return}let i=s["ACTIVITY"];let l="";if(this.data["USERS_INFO"][s["USER_ID"]]){i=[this.data["USERS_INFO"][s["USER_ID"]]["FULL_NAME"],": ",s["ACTIVITY"]].join("");l=String(this.data["USERS_INFO"][s["USER_ID"]]["AVATAR_SRC"]).length>0?this.data["USERS_INFO"][s["USER_ID"]]["AVATAR_SRC"]:null}const o=String(s["USER_ID"])===String(n.Loc.getMessage("USER_ID"));if(o){t=s["ACTIVITY"]}e.appendChild(n.Tag.render(B||(B=E`
						<div title="${0}" class="system-auth-form__userlist-item ui-icon ui-icon ui-icon-common-user">
							<i ${0}></i>
						</div>
					`),n.Text.encode(i),l?`style="background-image: url('${encodeURI(l)}');background-size: cover;"`:""))}));return{userList:e,myPosition:s,range:parseInt(this.data["USERS_RATING"]["range"]),myActivity:t}}let A=e=>e,U,w,k,M,$,C;var D=babelHelpers.classPrivateFieldLooseKey("config");var x=babelHelpers.classPrivateFieldLooseKey("widget");var K=babelHelpers.classPrivateFieldLooseKey("isActive");var j=babelHelpers.classPrivateFieldLooseKey("isAvailable");var X=babelHelpers.classPrivateFieldLooseKey("isConfigured");var G=babelHelpers.classPrivateFieldLooseKey("getMainButton");var Y=babelHelpers.classPrivateFieldLooseKey("getBottomButton");var W=babelHelpers.classPrivateFieldLooseKey("getLockIcon");var V=babelHelpers.classPrivateFieldLooseKey("showLogoutPopup");var q=babelHelpers.classPrivateFieldLooseKey("prepareDescriptionLoginHistory");var Q=babelHelpers.classPrivateFieldLooseKey("getLoader");var z=babelHelpers.classPrivateFieldLooseKey("prepareDateTimeForLoginHistory");class J{constructor(e,s){Object.defineProperty(this,V,{value:le});Object.defineProperty(this,W,{value:ie});Object.defineProperty(this,Y,{value:ae});Object.defineProperty(this,G,{value:te});Object.defineProperty(this,X,{value:se});Object.defineProperty(this,j,{value:ee});Object.defineProperty(this,K,{value:Z});Object.defineProperty(this,D,{writable:true,value:void 0});Object.defineProperty(this,x,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,D)[D]=e;babelHelpers.classPrivateFieldLooseBase(this,x)[x]=s}handlerLogoutButton(){if(babelHelpers.classPrivateFieldLooseBase(this,K)[K]()){babelHelpers.classPrivateFieldLooseBase(this,V)[V]()}}getContainer(){const e=()=>{if(babelHelpers.classPrivateFieldLooseBase(this,K)[K]()){babelHelpers.classPrivateFieldLooseBase(this,x)[x].getPopup().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,D)[D].url,{allowChangeHistory:false})}else if(!babelHelpers.classPrivateFieldLooseBase(this,j)[j]()){babelHelpers.classPrivateFieldLooseBase(this,x)[x].getPopup().close();BX.UI.InfoHelper.show("limit_office_login_history")}};let s=n.Tag.render(U||(U=A`
				<div class="system-auth-form__item system-auth-form__scope --vertical --padding-sm">
					<div class="system-auth-form__item-container --center ${0}">
						<div class="system-auth-form__item-logo">
							<div class="system-auth-form__item-logo--image ${0}" onclick="${0}">
								<i></i>
							</div>
						</div>
						<div class="system-auth-form__item-container --center">
							<div class="system-auth-form__item-title ${0}" onclick="${0}">${0}</div>
							${0}
						</div>
						<div class="system-auth-form__item-content">
							${0}
						</div>
					</div>
					<div class="system-auth-form__visited">
					</div>
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,K)[K]()?"--border":"",babelHelpers.classPrivateFieldLooseBase(this,K)[K]()?"--history":"--history-gray",e,babelHelpers.classPrivateFieldLooseBase(this,K)[K]()?"--sm --link":"--light",e,n.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,W)[W](),babelHelpers.classPrivateFieldLooseBase(this,G)[G](),babelHelpers.classPrivateFieldLooseBase(this,Y)[Y](e));const t=s.querySelector(".system-auth-form__visited");if(babelHelpers.classPrivateFieldLooseBase(this,K)[K]()){const s=babelHelpers.classPrivateFieldLooseBase(J,Q)[Q]();s.show(t);n.ajax.runComponentAction("bitrix:intranet.user.login.history","getListLastLogin",{mode:"class",data:{limit:1}}).then((a=>{s.hide();const i=a.data;const l=Object.keys(i);l.forEach((s=>{const a=babelHelpers.classPrivateFieldLooseBase(J,q)[q](i[s]["DEVICE_PLATFORM"],i[s]["GEOLOCATION"],i[s]["BROWSER"]);const l=babelHelpers.classPrivateFieldLooseBase(J,z)[z](i[s]["LOGIN_DATE"]);const o=n.Tag.render(w||(w=A`
						<div class="system-auth-form__visited-item">
							<div data-hint='${0}' class="system-auth-form__visited-icon --${0}" onclick="${0}" data-hint-no-icon></div>
							<script>
								BX.ready(() => {
									BX.UI.Hint.init(document.querySelector(".system-auth-form__visited-icon --${0}"));
								})
							</script>
							<div class="system-auth-form__visited-text" onclick="${0}">${0}</div>
							<div class="system-auth-form__visited-time" onclick="${0}">${0}</div>
						</div>
					`),n.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_THIS_DEVICE_DESCRIPTION"),i[s]["DEVICE_TYPE"],e,i[s]["DEVICE_TYPE"],e,a,e,l);n.Dom.append(o,t)}))})).catch((()=>{s.hide()}))}return s}}function Z(){return babelHelpers.classPrivateFieldLooseBase(this,D)[D].isAvailableUserLoginHistory&&babelHelpers.classPrivateFieldLooseBase(this,D)[D].isConfiguredUserLoginHistory}function ee(){return babelHelpers.classPrivateFieldLooseBase(this,D)[D].isAvailableUserLoginHistory}function se(){return babelHelpers.classPrivateFieldLooseBase(this,D)[D].isConfiguredUserLoginHistory}function te(){const e=()=>{babelHelpers.classPrivateFieldLooseBase(this,V)[V]()};const s=()=>{babelHelpers.classPrivateFieldLooseBase(this,x)[x].getPopup().close();BX.Helper.show("redirect=detail&code=16615982")};if(babelHelpers.classPrivateFieldLooseBase(this,K)[K]()){return n.Tag.render(k||(k=A`
				<div class="ui-qr-popupcomponentmaker__btn" onclick=\"${0}\">${0}</div>
			`),e,n.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE"))}else if(!babelHelpers.classPrivateFieldLooseBase(this,X)[X]()){return n.Tag.render(M||(M=A`
				<div class='system-auth-form__settings' onclick="${0}">${0}</div>
			`),s,n.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE"))}return null}function ae(e){if(babelHelpers.classPrivateFieldLooseBase(this,K)[K]()){return n.Tag.render($||($=A`
				<div class="system-auth-form__item-container">
					<div class="system-auth-form__show-history" onclick="${0}">
						${0}
					</div>
				</div>
			`),e,n.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_SHOW_FULL_LIST"))}return null}function ie(){const e=()=>{babelHelpers.classPrivateFieldLooseBase(this,x)[x].getPopup().close();BX.UI.InfoHelper.show("limit_office_login_history")};if(!babelHelpers.classPrivateFieldLooseBase(this,j)[j]()){return n.Tag.render(C||(C=A`
				<div class="system-auth-form__item-title-logo --lock" onclick="${0}">
					<i></i>
				</div>
			`),e)}return null}function le(){BX.UI.Dialogs.MessageBox.show({message:n.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_WITHOUT_THIS_MESSAGE"),title:n.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_TITLE"),buttons:BX.UI.Dialogs.MessageBoxButtons.YES_CANCEL,minWidth:400,popupOptions:{contentBackground:"transparent",autoHide:true,closeByEsc:true,padding:0,background:"",events:{onShow:()=>{babelHelpers.classPrivateFieldLooseBase(this,x)[x].getPopup().getPopup().setAutoHide(false)},onPopupClose:()=>{babelHelpers.classPrivateFieldLooseBase(this,x)[x].getPopup().getPopup().setAutoHide(true)}}},onYes:e=>{n.ajax.runComponentAction("bitrix:intranet.user.profile.password","logout",{mode:"ajax"}).then((()=>{e.close();BX.UI.Notification.Center.notify({content:n.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_WITHOUT_THIS_RESULT"),autoHideDelay:1800})})).catch((()=>{e.close();BX.UI.Notification.Center.notify({content:n.Loc.getMessage("INTRANET_USER_PROFILE_HISTORY_BUTTON_LOGOUT_ALL_DEVICE_ERROR"),autoHideDelay:3600})}))}})}function oe(e,s,t){const a=[];if(t){a.push(t)}if(s){a.push(s)}if(e){a.push(e)}return a.join(", ")}function re(){return new i.Loader({size:20,mode:"inline"})}function ne(e){const s=[["-","d.m.Y H:i:s"],["s","sago"],["i","iago"],["H","Hago"],["d","dago"],["m","mago"]];return" - "+BX.date.format(s,new Date(e),new Date)}Object.defineProperty(J,z,{value:ne});Object.defineProperty(J,Q,{value:re});Object.defineProperty(J,q,{value:oe});let ce=e=>e,de,me;var _e=babelHelpers.classPrivateFieldLooseKey("hidden");var ve=babelHelpers.classPrivateFieldLooseKey("disabled");var ue=babelHelpers.classPrivateFieldLooseKey("cache");var pe=babelHelpers.classPrivateFieldLooseKey("salaryVacationMenu");var he=babelHelpers.classPrivateFieldLooseKey("getMenuButton");var be=babelHelpers.classPrivateFieldLooseKey("getDisabledHintHtml");class ge{static async load(){try{const{SalaryVacationMenu:e}=await n.Runtime.loadExtension("humanresources.hcmlink.salary-vacation-menu");babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=new e;await babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].load();babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]=babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].isHidden();babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].isDisabled()}catch(e){}}static getLayout(){if(babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]){return null}const e=babelHelpers.classPrivateFieldLooseBase(this,ve)[ve];return babelHelpers.classPrivateFieldLooseBase(this,ue)[ue].remember("hcmLinkSalaryVacationLayout",(()=>{const s=n.Tag.render(de||(de=ce`
				<div class="system-auth-form__scope system-auth-form__hcmlink ${0}"
					${0}
					data-hint-no-icon
					data-hint-html
					data-hint-interactivity
				>
					<div class="system-auth-form__item-container --flex" style="flex-direction:row;">
						<div class="system-auth-form__item-logo">
							<div class="system-auth-form__item-logo--image --hcmlink">
								<i></i>
							</div>
						</div>
						<div class="system-auth-form__item-title">
							<span>${0}</span>
						</div>
						${0}
					</div>
				</div>
			`),e?"--disabled":"",e?`data-hint="${babelHelpers.classPrivateFieldLooseBase(this,be)[be]()}"`:"",n.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_HCMLINK_SALARY_VACATION"),babelHelpers.classPrivateFieldLooseBase(ge,he)[he]());if(!e){n.Dom.addClass(s,"--clickable");n.Event.bind(s,"click",(()=>{var e;(e=babelHelpers.classPrivateFieldLooseBase(this,pe)[pe])==null?void 0:e.show(babelHelpers.classPrivateFieldLooseBase(this,he)[he]())}))}return s}))}static closeWidget(){var e;(e=Os.getInstance())==null?void 0:e.hide()}}function Le(){return babelHelpers.classPrivateFieldLooseBase(this,ue)[ue].remember("hcmLinkSalaryVacationMenuButton",(()=>n.Tag.render(me||(me=ce`
				<div class="system-auth-form__btn--hcmlink ui-icon-set --chevron-right"></div>
			`))))}function fe(){return n.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_HCMLINK_SALARY_VACATION_DISABLED",{"[LINK]":`\n\t\t\t\t<a target='_self'\n\t\t\t\t\tonclick='(() => {\n\t\t\t\t\t\tBX.Intranet.UserProfile.Widget.getInstance()?.hide();\n\t\t\t\t\t\tBX.Helper.show(\`redirect=detail&code=23343028\`);\n\t\t\t\t\t})()'\n\t\t\t\t\tstyle='cursor:pointer;'\n\t\t\t\t>\n\t\t\t`,"[/LINK]":"</a>"})}Object.defineProperty(ge,be,{value:fe});Object.defineProperty(ge,he,{value:Le});Object.defineProperty(ge,_e,{writable:true,value:true});Object.defineProperty(ge,ve,{writable:true,value:false});Object.defineProperty(ge,ue,{writable:true,value:new o.MemoryCache});Object.defineProperty(ge,pe,{writable:true,value:void 0});let Pe=e=>e,Ee,ye;const Te={category:"documents",c_section:"ava_menu",type:"from_employee"};var Ie=babelHelpers.classPrivateFieldLooseKey("b2eEmployeeSignSettings");var Fe=babelHelpers.classPrivateFieldLooseKey("container");var He=babelHelpers.classPrivateFieldLooseKey("cache");var Re=babelHelpers.classPrivateFieldLooseKey("getLayout");var Be=babelHelpers.classPrivateFieldLooseKey("onCreateDocumentBtnClick");class Oe{static async getPromise(e){const{B2EEmployeeSignSettings:s}=await n.Runtime.loadExtension("sign.v2.b2e.sign-settings-employee");babelHelpers.classPrivateFieldLooseBase(Oe,Ie)[Ie]=new s(babelHelpers.classPrivateFieldLooseBase(Oe,Fe)[Fe].id,Te);try{await ge.load()}catch(e){}return babelHelpers.classPrivateFieldLooseBase(Oe,Re)[Re](e)}}function Se(e){const s=e?" --lock":"";return babelHelpers.classPrivateFieldLooseBase(this,He)[He].remember("layout",(()=>{const t=n.Tag.render(ye||(ye=Pe`
				<div>
					<div class="system-auth-form__scope system-auth-form__sign">
						<div class="system-auth-form__item-container --flex" style="flex-direction:row;">
							<div class="system-auth-form__item-logo">
								<div class="system-auth-form__item-logo--image --sign">
									<i></i>
								</div>
							</div>
							<div class="system-auth-form__item-title">
								<span>${0}</span>
								<span class="system-auth-form__item-title --link-light --margin-s">
									${0}
								</span>
							</div>
							<div class="system-auth-form__btn--sign ui-popupcomponentmaker__btn --medium --border${0}" onclick="${0}">
								${0}
							</div>
						</div>
					</div>
					${0}
				</div>
			`),n.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_TITLE"),n.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_TITLE_HINT"),s,(()=>babelHelpers.classPrivateFieldLooseBase(Oe,Be)[Be](e)),n.Loc.getMessage("INTRANET_USER_PROFILE_SIGNDOCUMENT_CREATE_DOCUMENT"),ge.getLayout());if(BX.UI.Hint){BX.UI.Hint.init(t)}return t}))}function Ne(e){d.EventEmitter.emit(Oe,Oe.events.onDocumentCreateBtnClick);if(e){top.BX.UI.InfoHelper.show("limit_office_e_signature");return}const s=babelHelpers.classPrivateFieldLooseBase(Oe,Fe)[Fe];BX.SidePanel.Instance.open("sign-b2e-settings-init-by-employee",{width:750,cacheable:false,contentCallback:()=>{s.innerHTML="";return s},events:{onLoad:()=>{babelHelpers.classPrivateFieldLooseBase(Oe,Ie)[Ie].clearCache();babelHelpers.classPrivateFieldLooseBase(Oe,Ie)[Ie].render()}}})}Object.defineProperty(Oe,Be,{value:Ne});Object.defineProperty(Oe,Re,{value:Se});Oe.events={onDocumentCreateBtnClick:"onDocumentCreateBtnClick"};Object.defineProperty(Oe,Ie,{writable:true,value:void 0});Object.defineProperty(Oe,Fe,{writable:true,value:n.Tag.render(Ee||(Ee=Pe`<div id="sign-b2e-employee-settings-container"></div>`))});Object.defineProperty(Oe,He,{writable:true,value:new o.MemoryCache});let Ae=e=>e,Ue,we,ke,Me,$e,Ce;class De{constructor(e=false,s){this.isSingle=e;this.config=s}getContainer(){const e=this.config.IS_ACTIVE==="Y";const s=()=>{d.EventEmitter.emit(d.EventEmitter.GLOBAL_TARGET,_.eventNameSpace+":onOpen");if(String(this.config.URL).length>0){n.Uri.addParam(this.config.URL,{page:"otpConnected"});BX.SidePanel.Instance.open(n.Uri.addParam(this.config.URL,{page:"otpConnected"}),{width:1100})}else{console.error("Otp page is not defined. Check the component params")}};const t=e?n.Tag.render(Ue||(Ue=Ae`<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="${0}">${0}</div>`),s,n.Loc.getMessage("INTRANET_USER_PROFILE_TURNED_ON")):n.Tag.render(we||(we=Ae`<div class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" onclick="${0}">${0}</div>`),s,n.Loc.getMessage("INTRANET_USER_PROFILE_TURN_ON"));const a=()=>{top.BX.Helper.show("redirect=detail&code=17728602");d.EventEmitter.emit(d.EventEmitter.GLOBAL_TARGET,_.eventNameSpace+":onOpen")};if(this.isSingle!==true){return n.Tag.render(ke||(ke=Ae`
				<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ${0}">
					<div class="system-auth-form__item-logo">
						<div class="system-auth-form__item-logo--image --authentication"></div>
					</div>
					<div class="system-auth-form__item-container --flex --column --flex-start">
						<div class="system-auth-form__item-title --without-margin --block">
							${0}
							<span class="system-auth-form__icon-help --inline" onclick="${0}"></span>
						</div>
						${0}
						<div class="system-auth-form__item-content --margin-top-auto --center --center-force">
							${0}
						</div>
					</div>
					${0}
				</div>
			`),e?" --active":"",n.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),a,e?n.Tag.render(Me||(Me=Ae`
								<div class="system-auth-form__item-title --link-dotted" onclick="${0}">${0}</div>
							`),s,n.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE")):"",t,e?"":`\n\t\t\t\t\t\t<div class="system-auth-form__item-new">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">${n.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE")}</div>\n\t\t\t\t\t\t</div>`)}let i=null;const l=e=>{e.stopPropagation();const t=[{text:n.Loc.getMessage("INTRANET_USER_PROFILE_CONFIGURE"),onclick:()=>{i.close();s()}}];i=i||new c.Menu(`menu-otp-${n.Text.getRandom()}`,e.target,t,{className:"system-auth-form__popup",angle:true,offsetLeft:10,autoHide:true,events:{onShow:e=>{d.EventEmitter.emit(d.EventEmitter.GLOBAL_TARGET,_.eventNameSpace+":showOtpMenu",new d.BaseEvent({data:{popup:e.target}}))}}});i.toggle()};return n.Tag.render($e||($e=Ae`
				<div class="system-auth-form__item system-auth-form__scope --padding-sm-all ${0} --vertical --center">
					<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">
						<div class="system-auth-form__item-logo--image --authentication"></div>
					</div>
					<div class="system-auth-form__item-container --flex">
						<div class="system-auth-form__item-title --light --center --s">
							${0}
							 <span class="system-auth-form__icon-help" onclick="${0}"></span> 
						</div>
					</div>
					${0}
					<div class="system-auth-form__item-container --flex --column --space-around">
						<div class="system-auth-form__item-content --flex --display-flex">
							${0}
						</div>
					</div>
					${0}
				</div>
		`),e?" --active":"",n.Loc.getMessage("INTRANET_USER_PROFILE_OTP_MESSAGE"),a,e?n.Tag.render(Ce||(Ce=Ae`<div class="system-auth-form__config --absolute" onclick="${0}"></div>`),l):"",t,e?"":`\n\t\t\t\t\t\t<div class="system-auth-form__item-new system-auth-form__item-new-icon --ssl">\n\t\t\t\t\t\t\t<div class="system-auth-form__item-new--title">${n.Loc.getMessage("INTRANET_USER_PROFILE_OTP_TITLE")}</div>\n\t\t\t\t\t\t</div>`)}}let xe=e=>e,Ke,je,Xe,Ge,Ye,We,Ve,qe,Qe,ze,Je,Ze,es,ss,ts,as;const is=Symbol("user.widget");var ls=babelHelpers.classPrivateFieldLooseKey("container");var os=babelHelpers.classPrivateFieldLooseKey("popup");var rs=babelHelpers.classPrivateFieldLooseKey("profile");var ns=babelHelpers.classPrivateFieldLooseKey("features");var cs=babelHelpers.classPrivateFieldLooseKey("cache");var ds=babelHelpers.classPrivateFieldLooseKey("desktopDownloadLinks");var ms=babelHelpers.classPrivateFieldLooseKey("networkProfileUrl");var _s=babelHelpers.classPrivateFieldLooseKey("getProfileContainer");var vs=babelHelpers.classPrivateFieldLooseKey("getPopupContainer");var us=babelHelpers.classPrivateFieldLooseKey("setEventHandlers");var ps=babelHelpers.classPrivateFieldLooseKey("getb24NetPanelContainer");var hs=babelHelpers.classPrivateFieldLooseKey("getAdminPanelContainer");var bs=babelHelpers.classPrivateFieldLooseKey("getThemeContainer");var gs=babelHelpers.classPrivateFieldLooseKey("getMaskContainer");var Ls=babelHelpers.classPrivateFieldLooseKey("getCompanyPulse");var fs=babelHelpers.classPrivateFieldLooseKey("savePhoto");var Ps=babelHelpers.classPrivateFieldLooseKey("getSignDocument");var Es=babelHelpers.classPrivateFieldLooseKey("getStressLevel");var ys=babelHelpers.classPrivateFieldLooseKey("getQrContainer");var Ts=babelHelpers.classPrivateFieldLooseKey("getDeskTopContainer");var Is=babelHelpers.classPrivateFieldLooseKey("getOTPContainer");var Fs=babelHelpers.classPrivateFieldLooseKey("getLoginHistoryContainer");var Hs=babelHelpers.classPrivateFieldLooseKey("getBindings");var Rs=babelHelpers.classPrivateFieldLooseKey("getNotificationContainer");var Bs=babelHelpers.classPrivateFieldLooseKey("getLogoutContainer");class Os extends d.EventEmitter{constructor(e,{profile:{ID:s,FULL_NAME:t,PHOTO:a,MASK:i,STATUS:l,STATUS_CODE:o,URL:r,WORK_POSITION:c},component:{componentName:d,signedParameters:m},features:v,desktopDownloadLinks:u,networkProfileUrl:p}){super();Object.defineProperty(this,Bs,{value:Vs});Object.defineProperty(this,Rs,{value:Ws});Object.defineProperty(this,Hs,{value:Ys});Object.defineProperty(this,Fs,{value:Gs});Object.defineProperty(this,Is,{value:Xs});Object.defineProperty(this,Ts,{value:js});Object.defineProperty(this,ys,{value:Ks});Object.defineProperty(this,Es,{value:xs});Object.defineProperty(this,Ps,{value:Ds});Object.defineProperty(this,fs,{value:Cs});Object.defineProperty(this,Ls,{value:$s});Object.defineProperty(this,gs,{value:Ms});Object.defineProperty(this,bs,{value:ks});Object.defineProperty(this,hs,{value:ws});Object.defineProperty(this,ps,{value:Us});Object.defineProperty(this,us,{value:As});Object.defineProperty(this,vs,{value:Ns});Object.defineProperty(this,_s,{value:Ss});Object.defineProperty(this,ls,{writable:true,value:void 0});Object.defineProperty(this,os,{writable:true,value:void 0});Object.defineProperty(this,rs,{writable:true,value:null});Object.defineProperty(this,ns,{writable:true,value:{}});Object.defineProperty(this,cs,{writable:true,value:new n.Cache.MemoryCache});Object.defineProperty(this,ds,{writable:true,value:void 0});Object.defineProperty(this,ms,{writable:true,value:void 0});this.setEventNamespace(_.eventNameSpace);babelHelpers.classPrivateFieldLooseBase(this,us)[us]();babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]=e;babelHelpers.classPrivateFieldLooseBase(this,rs)[rs]={ID:s,FULL_NAME:t,PHOTO:a,MASK:i,STATUS:l,STATUS_CODE:o,URL:r,WORK_POSITION:c};babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]=v;if(!n.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].browser)){babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].browser=n.Browser.isLinux()?"Linux":n.Browser.isWin()?"Windows":"MacOs"}babelHelpers.classPrivateFieldLooseBase(this,ds)[ds]=u;babelHelpers.classPrivateFieldLooseBase(this,ms)[ms]=p;babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].set("componentParams",{componentName:d,signedParameters:m});this.hide=this.hide.bind(this)}toggle(){if(this.getPopup().isShown()){this.hide()}else{this.show()}}hide(){this.getPopup().close()}show(){this.getPopup().show()}getPopup(){var e,s;if(babelHelpers.classPrivateFieldLooseBase(this,os)[os]){return babelHelpers.classPrivateFieldLooseBase(this,os)[os]}this.emit("init");let a=n.Type.isNull(babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps]())?null:{html:babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps]()};let i=[babelHelpers.classPrivateFieldLooseBase(this,_s)[_s](),babelHelpers.classPrivateFieldLooseBase(this,hs)[hs]()?{html:babelHelpers.classPrivateFieldLooseBase(this,hs)[hs](),backgroundColor:"#fafafa"}:null,a,[{html:babelHelpers.classPrivateFieldLooseBase(this,bs)[bs](),marginBottom:24,overflow:true,minHeight:"63px"},{html:babelHelpers.classPrivateFieldLooseBase(this,gs)[gs](),backgroundColor:"#fafafa"}],babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls](!!babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]())?[{html:babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls](!!babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]()),overflow:true,marginBottom:24,flex:babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]()?.5:1,minHeight:babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]()?"115px":"56px"},babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]()]:null,babelHelpers.classPrivateFieldLooseBase(this,Is)[Is](babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]()===null)&&babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]()?[{flex:.5,html:babelHelpers.classPrivateFieldLooseBase(this,ys)[ys](.7),minHeight:"190px"},[{html:babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts](),displayBlock:true},babelHelpers.classPrivateFieldLooseBase(this,Is)[Is](false)]]:babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]()||babelHelpers.classPrivateFieldLooseBase(this,Is)[Is](true)?[{html:babelHelpers.classPrivateFieldLooseBase(this,ys)[ys](2),flex:2},(e=babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]())!=null?e:babelHelpers.classPrivateFieldLooseBase(this,Is)[Is](true)]:babelHelpers.classPrivateFieldLooseBase(this,ys)[ys](0),babelHelpers.classPrivateFieldLooseBase(this,Fs)[Fs](),{html:babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs](),backgroundColor:"#fafafa"},babelHelpers.classPrivateFieldLooseBase(this,ps)[ps]()?{html:babelHelpers.classPrivateFieldLooseBase(this,ps)[ps](),marginBottom:24,backgroundColor:"#fafafa"}:null,[{html:(s=babelHelpers.classPrivateFieldLooseBase(this,Rs)[Rs]())!=null?s:null,backgroundColor:"#fafafa"},{html:babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs](),backgroundColor:"#fafafa"}]];const l=e=>{const s=[];if(n.Type.isArray(e)){for(let t=0;t<e.length;t++){if(n.Type.isArray(e[t])){const a=l(e[t]);if(a!==null){if(n.Type.isArray(a)&&a.length===1){s.push(a[0])}else{s.push(a)}}}else if(e[t]!==null){s.push(e[t])}}}return s.length<=0?null:s.length===1?s[0]:s};i=l(i);const o=(e,s,t)=>{if(n.Type.isArray(e)){return{html:e.map(o)}}return{flex:e["flex"]||0,html:e["html"]||e,backgroundColor:e["backgroundColor"]||null,disabled:e["disabled"]||null,overflow:e["overflow"]||null,marginBottom:e["marginBottom"]||null,displayBlock:e["displayBlock"]||null,minHeight:e["minHeight"]||null,secondary:e["secondary"]||false}};babelHelpers.classPrivateFieldLooseBase(this,os)[os]=new t.PopupComponentsMaker({target:babelHelpers.classPrivateFieldLooseBase(this,ls)[ls],content:i.map(o),width:400,offsetTop:-14});d.EventEmitter.subscribe("BX.Main.InterfaceButtons:onMenuShow",this.hide);d.EventEmitter.subscribe(_.eventNameSpace+"onNeedToHide",this.hide);return babelHelpers.classPrivateFieldLooseBase(this,os)[os]}static init(e,s){if(e[is]){return}const t=()=>{if(!e["popupSymbol"]){e["popupSymbol"]=new this(e,s)}e["popupSymbol"].toggle();this.instance=e["popupSymbol"]};e[is]=true;e.addEventListener("click",t)}static getInstance(){return this.instance}}function Ss(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("profile",(()=>{const e=e=>{this.hide();return BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].URL)};let t=null;let a=null;if(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].STATUS_CODE==="collaber"){t=new s.AvatarRoundGuest({size:36,userpicPath:encodeURI(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].PHOTO),baseColor:"#19cc45"});a=t.getContainer()}else{a=n.Tag.render(Ke||(Ke=xe`
					<span class="system-auth-form__profile-avatar--image"
						${0}>
					</span>
				`),babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].PHOTO?`\n\t\t\t\t\t\t\tstyle="background-size: cover; background-image: url('${encodeURI(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].PHOTO)}')"`:"")}const i=n.Tag.render(je||(je=xe`
				<div class="system-auth-form__profile-name">${0}</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].FULL_NAME);d.EventEmitter.subscribe(d.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Avatar:changed",(({data:[{url:e,userId:s}]})=>{if(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].ID>0&&s&&babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].ID.toString()===s.toString()){babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].PHOTO=e;if(t){t.setUserPic(e)}}}));d.EventEmitter.subscribe(d.EventEmitter.GLOBAL_TARGET,"BX.Intranet.UserProfile:Name:changed",(({data:[{fullName:e}]})=>{babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].FULL_NAME=e;i.innerHTML=e;babelHelpers.classPrivateFieldLooseBase(this,ls)[ls].querySelector("#user-name").innerHTML=e}));let l=n.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].WORK_POSITION)?n.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].WORK_POSITION):"";if(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].STATUS&&(babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].STATUS!=="collaber"||l==="")&&n.Loc.hasMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].STATUS)){l=n.Loc.getMessage("INTRANET_USER_PROFILE_"+babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].STATUS)}return n.Tag.render(Xe||(Xe=xe`
				<div class="system-auth-form__item system-auth-form__scope --clickable" onclick="${0}">
					<div class="system-auth-form__profile">
						<div class="system-auth-form__profile-avatar">
							${0}
						</div>
						<div class="system-auth-form__profile-content --margin--right">
							${0}
							<div class="system-auth-form__profile-position">${0}</div>
						</div>
						<div class="system-auth-form__profile-controls">
							<span class="ui-qr-popupcomponentmaker__btn --large --border" >
								${0}
							</span>
					 		<!-- <span class="ui-qr-popupcomponentmaker__btn --large --success">any text</span> -->
						</div>
					</div>
				</div>
			`),e,a,i,l,n.Loc.getMessage("INTRANET_USER_PROFILE_PROFILE"))}))}function Ns(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("popup-container",(()=>this.getPopup().getPopup().getPopupContainer()))}function As(){const e=e=>{console.log(e);if(e.data.popup){setTimeout((()=>{n.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,vs)[vs](),"click",(()=>{e.data.popup.close()}))}),100)}};this.subscribe("init",(()=>{d.EventEmitter.subscribe(d.EventEmitter.GLOBAL_TARGET,_.eventNameSpace+":onOpen",this.hide);this.subscribe("bindings:open",e);d.EventEmitter.subscribe(d.EventEmitter.GLOBAL_TARGET,_.eventNameSpace+":showOtpMenu",e)}))}function Us(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("b24netPanel",(()=>{if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["b24netPanel"]!=="Y"){return null}return n.Tag.render(Ge||(Ge=xe`
				<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="${0}">
					<div class="system-auth-form__item-logo">
						<div class="system-auth-form__item-logo--image --network"></div>
					</div>
					<div class="system-auth-form__item-container --center">
						<div class="system-auth-form__item-title --light">${0}</div>
					</div>
					<div class="system-auth-form__item-container --block">
						<div class="ui-qr-popupcomponentmaker__btn">${0}</div>
					</div>
				</a>
			`),babelHelpers.classPrivateFieldLooseBase(this,ms)[ms],n.Loc.getMessage("AUTH_PROFILE_B24NET_MSGVER_1"),n.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function ws(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("adminPanel",(()=>{if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["adminPanel"]!=="Y"){return null}return n.Tag.render(Ye||(Ye=xe`
				<a class="system-auth-form__item system-auth-form__scope --center --padding-sm --clickable" href="/bitrix/admin/">
					<div class="system-auth-form__item-logo">
						<div class="system-auth-form__item-logo--image --admin-panel"></div>
					</div>
					<div class="system-auth-form__item-container --center">
						<div class="system-auth-form__item-title --light">${0}</div>
					</div>
					<div class="system-auth-form__item-container --block">
						<div class="ui-qr-popupcomponentmaker__btn">${0}</div>
					</div>
				</a>
			`),n.Loc.getMessage("INTRANET_USER_PROFILE_ADMIN_PANEL"),n.Loc.getMessage("INTRANET_USER_PROFILE_GOTO"))}))}function ks(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("themePicker",(()=>P.getPromise()))}function Ms(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("Mask",(()=>n.Tag.render(We||(We=xe`
				<div class="system-auth-form__item system-auth-form__scope --padding-sm">
					<div class="system-auth-form__item-logo">
						<div class="system-auth-form__item-logo--image --mask"></div>
					</div>
					<div class="system-auth-form__item-container">
						<div class="system-auth-form__item-title">
							<span>${0}</span>
							<span style="cursor: default" class="system-auth-form__icon-help"></span>
						</div>
						<div class="system-auth-form__item-content --center --center-force">
							<div class="ui-qr-popupcomponentmaker__btn --disabled">${0}</div>
						</div>
					</div>
					<div class="system-auth-form__item-new --soon">
						<div class="system-auth-form__item-new--title">${0}</div>
					</div>
				</div>
			`),n.Loc.getMessage("INTRANET_USER_PROFILE_MASKS"),n.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"),n.Loc.getMessage("INTRANET_USER_PROFILE_SOON"))))}function $s(e){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getCompanyPulse",(()=>{if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].pulse==="Y"&&babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].ID>0&&babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].ID===n.Loc.getMessage("USER_ID")){return new Promise((s=>{n.ajax.runComponentAction("bitrix:intranet.user.profile.button","getUserStatComponent",{mode:"class"}).then((t=>{BX.Runtime.html(null,t.data.html).then((()=>{var t;s(S.getPromise({userId:babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].ID,isNarrow:e,data:(t=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["pulseData"])!=null?t:null}))}))}))}))}return null}))}function Cs(e){n.ajax.runComponentAction(babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].get("componentParams").componentName,"loadPhoto",{signedParameters:babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].get("componentParams").signedParameters,mode:"ajax",data:e}).then(function(e){if(e.data){(top||window).BX.onCustomEvent("BX.Intranet.UserProfile:Avatar:changed",[{url:e.data,userId:babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].ID}])}}.bind(this),function(e){console.log("response: ",e)}.bind(this))}function Ds(){if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["signDocument"]["available"]!=="Y"){return null}const e=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["signDocument"]["locked"]==="Y";return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getSignDocument",(()=>{d.EventEmitter.subscribe(Oe,Oe.events.onDocumentCreateBtnClick,(()=>this.hide()));return Oe.getPromise(e)}))}function xs(){if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["stressLevel"]!=="Y"){return null}return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getStressLevel",(()=>{var e;return h.getPromise({signedParameters:babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].get("componentParams").signedParameters,componentName:babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].get("componentParams").componentName,userId:babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].ID,data:(e=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["stressLevelData"])!=null?e:null})}))}function Ks(e){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getQrContainer",(()=>new Promise(((s,t)=>{BX.loadExt(["ui.qrauthorization","qrcode"]).then((()=>{const t=()=>{this.hide();new r.QrAuthorization({title:n.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_TITLE2"),content:n.Loc.getMessage("INTRANET_USER_PROFILE_QRCODE_BODY2"),intent:"profile"}).show()};const a=e=>{top.BX.Helper.show("redirect=detail&code=22218950");this.hide();e.preventDefault();e.stopPropagation();return false};let i;if(e!==2&&e!==0){i=n.Tag.render(Ve||(Ve=xe`
					<div class="system-auth-form__item system-auth-form__scope" style="padding: 10px 14px">
						<div class="system-auth-form__item-container --center --column --center">
							<div class="system-auth-form__item-title --center --margin-xl">${0}</div>
							<div class="system-auth-form__qr" style="margin-bottom: 12px">
							</div>
							<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="${0}">${0}</div>
						</div>
						<div class="system-auth-form__icon-help --absolute" onclick="${0}" title="${0}"></div>
					</div>
				`),n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),t,n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR_SMALL"),a,n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"))}else if(e===0){i=n.Tag.render(qe||(qe=xe`
					<div class="system-auth-form__item system-auth-form__scope --padding-qr-xl">
						<div class="system-auth-form__item-container --column --flex --flex-start">
							<div class="system-auth-form__item-title --l">${0}</div>
							<div class="system-auth-form__item-title --link-dotted" onclick="${0}">
								${0}
							</div>
							<div class="ui-qr-popupcomponentmaker__btn --large --border" style="margin-top: auto" onclick="${0}">
								${0}
							</div>
						</div>
						<div class="system-auth-form__item-container --qr">
							<div class="system-auth-form__qr --full-size"></div>
						</div>
					</div>
				`),n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2"),a,n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),t,n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}else{i=n.Tag.render(Qe||(Qe=xe`
					<div class="system-auth-form__item system-auth-form__scope --padding-mid-qr">
						<div class="system-auth-form__item-container --column --flex --flex-start">
							<div class="system-auth-form__item-title --block">
								${0}
								<span class="system-auth-form__icon-help --inline" onclick="${0}" title="${0}"></span>
							</div>
							<div class="ui-qr-popupcomponentmaker__btn --border" style="margin-top: auto" onclick="${0}">${0}</div>
						</div>
						<div class="system-auth-form__item-container --qr">
							<div class="system-auth-form__qr --size-2"></div>
						</div>
					</div>
				`),n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_TITLE2_SMALL"),a,n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_HOW_DOES_IT_WORK"),t,n.Loc.getMessage("INTRANET_USER_PROFILE_MOBILE_SHOW_QR"))}return s(i)})).catch(t)}))))}function js(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getDeskTopContainer",(()=>{let e=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["appInstalled"]["APP_MAC_INSTALLED"]==="Y";let s="--apple";let t=n.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_APPLE");let a=babelHelpers.classPrivateFieldLooseBase(this,ds)[ds].macos;const i={DEB:{text:n.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD_LINUX_DEB"),href:babelHelpers.classPrivateFieldLooseBase(this,ds)[ds].linuxDeb},RPM:{text:n.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD_LINUX_RPM"),href:babelHelpers.classPrivateFieldLooseBase(this,ds)[ds].linuxRpm}};if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].browser==="Windows"){e=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["appInstalled"]["APP_WINDOWS_INSTALLED"]==="Y";s="--windows";t=n.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_WINDOWS");a=babelHelpers.classPrivateFieldLooseBase(this,ds)[ds].windows}let l=e?e=>{e.preventDefault();e.stopPropagation();return false}:()=>{this.hide();return true};let o=null;const r=e=>{e.preventDefault();o=o||new c.Menu({className:"system-auth-form__popup",bindElement:e.target,items:[{text:i.DEB.text,href:i.DEB.href,onclick:()=>{o.close()}},{text:i.RPM.text,href:i.RPM.href,onclick:()=>{o.close()}}],angle:true,offsetLeft:10,events:{onShow:()=>{this.getPopup().getPopup().setAutoHide(false)},onClose:()=>{this.getPopup().getPopup().setAutoHide(true)}}});o.toggle()};if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].browser==="Linux"){e=babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["appInstalled"]["APP_LINUX_INSTALLED"]==="Y";s="--linux";t=n.Loc.getMessage("INTRANET_USER_PROFILE_DESKTOP_LINUX");a="";l=e?e=>{e.preventDefault();e.stopPropagation();return false}:r}if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["otp"].IS_ENABLED!=="Y"){let o=null;let r=[{text:n.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD"),href:a,onclick:()=>{o.close();this.hide()}}];if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].browser==="Linux"){r=[{text:i.DEB.text,href:i.DEB.href,onclick:()=>{o.close()}},{text:i.RPM.text,href:i.RPM.href,onclick:()=>{o.close()}}]}const d=e=>{o=o||new c.Menu({className:"system-auth-form__popup",bindElement:e.target,items:r,angle:true,offsetLeft:10,events:{onShow:()=>{this.getPopup().getPopup().setAutoHide(false)},onClose:()=>{this.getPopup().getPopup().setAutoHide(true)}}});o.toggle()};return n.Tag.render(ze||(ze=xe`
					<div data-role="desktop-item" class="system-auth-form__item system-auth-form__scope --padding-sm-all ${0} --vertical --center">
						<div class="system-auth-form__item-logo --margin-bottom --center system-auth-form__item-container --flex">
							<div class="system-auth-form__item-logo--image ${0}"></div>
						</div>
						${0}
						<div class="system-auth-form__item-container --flex --center --display-flex">
							<div class="system-auth-form__item-title --light --center --s">${0}</div>
						</div>
						<div class="system-auth-form__item-content --flex --center --display-flex">
							<a class="ui-qr-popupcomponentmaker__btn" style="margin-top: auto" href="${0}" target="_blank" onclick="${0}">
								${0}
							</a>
						</div>
					</div>
				`),e?" --active":"",s,e?n.Tag.render(Je||(Je=xe`<div class="system-auth-form__config --absolute" onclick="${0}"></div>`),d):"",t,a,l,e?n.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):n.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}const d=()=>{const e=n.Tag.render(Ze||(Ze=xe`
					<a href="${0}" class="system-auth-form__item-title --link-dotted">${0}</a>
				`),a,n.Loc.getMessage("INTRANET_USER_PROFILE_DOWNLOAD"));if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].browser==="Linux"){e.addEventListener("click",r)}return e};return n.Tag.render(es||(es=xe`
				<div class="system-auth-form__item system-auth-form__scope --padding-bottom-10 ${0}">
					<div class="system-auth-form__item-logo">
						<div class="system-auth-form__item-logo--image ${0}"></div>
					</div>
					<div class="system-auth-form__item-container">
						<div class="system-auth-form__item-title ${0}">${0}</div>
						${0}
						<div class="system-auth-form__item-content --center --center-force">
							<a class="ui-qr-popupcomponentmaker__btn" href="${0}" target="_blank" onclick="${0}">
								${0}
							</a>
						</div>
					</div>
				</div>
			`),e?" --active":"",s,e?" --without-margin":"--min-height",t,e?d():"",a,l,e?n.Loc.getMessage("INTRANET_USER_PROFILE_INSTALLED"):n.Loc.getMessage("INTRANET_USER_PROFILE_INSTALL"))}))}function Xs(e){if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].otp.IS_ENABLED!=="Y"){return null}return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getOTPContainer",(()=>new De(e,babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].otp).getContainer()))}function Gs(){if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].loginHistory.isHide){return null}return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getLoginHistoryContainer",(()=>{const e=new J(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].loginHistory,this);return{html:e.getContainer(),backgroundColor:"#fafafa"}}))}function Ys(){if(!(n.Type.isPlainObject(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["bindings"])&&n.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["bindings"]["text"])&&n.Type.isArray(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["bindings"]["items"])&&babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["bindings"]["items"].length>0)){return null}return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getBindingsContainer",(()=>{const e=n.Tag.render(ss||(ss=xe`
				<div class="system-auth-form__item --hover system-auth-form__scope --center --padding-sm">
					<div class="system-auth-form__item-logo">
						<div class="system-auth-form__item-logo--image --binding"></div>
					</div>
					<div class="system-auth-form__item-container --center">
						<div class="system-auth-form__item-title --light">${0}</div>
					</div>
					<div data-role="arrow" class="system-auth-form__item-icon --arrow-right"></div>
				</div>
			`),n.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["bindings"]["text"]));e.addEventListener("click",(()=>{this.__bindingsMenu=this.__bindingsMenu||new c.Menu({className:"system-auth-form__popup",bindElement:e.querySelector('[data-role="arrow"]'),items:babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["bindings"]["items"],angle:true,cachable:false,offsetLeft:10,events:{onShow:()=>{this.emit("bindings:open")}}});this.__bindingsMenu.toggle()}));return e}))}function Ws(){if(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns]["im"]!=="Y"){return null}return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getNotificationContainer",(()=>{const e=n.Tag.render(ts||(ts=xe`
				<div class="system-auth-form__item --hover system-auth-form__scope --padding-sm">
					<div class="system-auth-form__item-logo">
						<div class="system-auth-form__item-logo--image --notification"></div>
					</div>
					<div class="system-auth-form__item-container --center">
						<div class="system-auth-form__item-title --light">${0}</div>
					</div>
				</div>
			`),n.Loc.getMessage("AUTH_NOTIFICATION"));e.addEventListener("click",(()=>{this.hide();BXIM.openSettings({onlyPanel:"notify"})}));return e}))}function Vs(){return babelHelpers.classPrivateFieldLooseBase(this,cs)[cs].remember("getLogoutContainer",(()=>{const e=()=>{if(m.DesktopApi.isDesktop()){m.DesktopApi.logout()}else{const e=new n.Uri(window.location.pathname);e.removeQueryParam(["logout","login","back_url_pub","user_lang"]);const s=new n.Uri("/auth/?logout=yes");s.setQueryParam("sessid",BX.bitrix_sessid());s.setQueryParam("backurl",encodeURIComponent(e.toString()));document.location.href=s}};return n.Tag.render(as||(as=xe`
				<div class="system-auth-form__item system-auth-form__scope --padding-sm">
					<div class="system-auth-form__item-logo">
						<div class="system-auth-form__item-logo--image --logout"></div>
					</div>
					<div class="system-auth-form__item-container --center">
						<div class="system-auth-form__item-title --light">${0}</div>
					</div>
					<a onclick="${0}" class="system-auth-form__item-link-all"></a>
				</div>
			`),n.Loc.getMessage("AUTH_LOGOUT"),e)}))}Os.instance=null;e.Widget=Os})(this.BX.Intranet.UserProfile=this.BX.Intranet.UserProfile||{},BX.UI,BX.UI,BX,BX,BX,BX.Cache,BX.UI,BX,BX.Main,BX.Event,BX.Messenger.v2.Lib);
//# sourceMappingURL=script.map.js