this.BX=this.BX||{};(function(e,s,t){"use strict";var a=babelHelpers.classPrivateFieldLooseKey("instance");var i=babelHelpers.classPrivateFieldLooseKey("widgetLoader");var l=babelHelpers.classPrivateFieldLooseKey("isBitrix24");var r=babelHelpers.classPrivateFieldLooseKey("isAdmin");var o=babelHelpers.classPrivateFieldLooseKey("isRequisite");var n=babelHelpers.classPrivateFieldLooseKey("isMainPageAvailable");var d=babelHelpers.classPrivateFieldLooseKey("node");var b=babelHelpers.classPrivateFieldLooseKey("getWidgetLoader");var c=babelHelpers.classPrivateFieldLooseKey("load");class v{constructor(e){Object.defineProperty(this,c,{value:P});Object.defineProperty(this,b,{value:p});Object.defineProperty(this,i,{writable:true,value:void 0});Object.defineProperty(this,l,{writable:true,value:false});Object.defineProperty(this,r,{writable:true,value:false});Object.defineProperty(this,o,{writable:true,value:false});Object.defineProperty(this,n,{writable:true,value:false});Object.defineProperty(this,d,{writable:true,value:false});babelHelpers.classPrivateFieldLooseBase(this,l)[l]=e["isBitrix24"];babelHelpers.classPrivateFieldLooseBase(this,r)[r]=e["isAdmin"];babelHelpers.classPrivateFieldLooseBase(this,o)[o]=e["isRequisite"];babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e["isMainPageAvailable"]}showOnce(e){babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e;const s=babelHelpers.classPrivateFieldLooseBase(this,b)[b]().getPopup();s.show();const t=s.getPopupContainer();if(t.getBoundingClientRect().left<30){t.style.left="30px"}(typeof BX.Intranet.SettingsWidget!=="undefined"?Promise.resolve():babelHelpers.classPrivateFieldLooseBase(this,c)[c]()).then((()=>{if(typeof BX.Intranet.SettingsWidget!=="undefined"){BX.Intranet.SettingsWidget.bindAndShow(e)}}))}static init(e){if(!babelHelpers.classPrivateFieldLooseBase(this,a)[a]){babelHelpers.classPrivateFieldLooseBase(this,a)[a]=new this(e)}return babelHelpers.classPrivateFieldLooseBase(this,a)[a]}}function p(){if(babelHelpers.classPrivateFieldLooseBase(this,i)[i]){return babelHelpers.classPrivateFieldLooseBase(this,i)[i]}const e=new t.WidgetLoader({bindElement:babelHelpers.classPrivateFieldLooseBase(this,d)[d],width:374});e.addHeaderSkeleton();if(babelHelpers.classPrivateFieldLooseBase(this,o)[o]){e.addItemSkeleton(22)}if(babelHelpers.classPrivateFieldLooseBase(this,n)[n]){e.addItemSkeleton(22)}if(babelHelpers.classPrivateFieldLooseBase(this,r)[r]){e.addSplitItemSkeleton(22)}if(babelHelpers.classPrivateFieldLooseBase(this,l)[l]){e.addItemSkeleton(22)}e.addItemSkeleton(22);e.addFooterSkeleton();babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e;return babelHelpers.classPrivateFieldLooseBase(this,i)[i]}function P(){return new Promise((e=>{s.ajax.runComponentAction("bitrix:intranet.settings.widget","getWidgetComponent",{mode:"class"}).then((e=>new Promise((t=>{const a=e.data.assets?e.data.assets.css:[];const i=e.data.assets?e.data.assets.js:[];BX.load(a,(()=>{BX.loadScript(i,(()=>{s.Runtime.html(null,e.data.html).then(t)}))}))})))).then((()=>{if(typeof BX.Intranet.SettingsWidget!=="undefined"){setTimeout((()=>{BX.Intranet.SettingsWidget.bindWidget(babelHelpers.classPrivateFieldLooseBase(this,b)[b]());e()}),0)}}))}))}Object.defineProperty(v,a,{writable:true,value:void 0});e.SettingsWidgetLoader=v})(this.BX.Intranet=this.BX.Intranet||{},BX,BX.Intranet);
//# sourceMappingURL=script.map.js