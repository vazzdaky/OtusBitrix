this.BX=this.BX||{};(function(e,s,t,i,a,l){"use strict";let r=e=>e,n,o;var c=babelHelpers.classPrivateFieldLooseKey("companyId");var d=babelHelpers.classPrivateFieldLooseKey("requisiteId");var b=babelHelpers.classPrivateFieldLooseKey("isConnected");var v=babelHelpers.classPrivateFieldLooseKey("isPublic");var p=babelHelpers.classPrivateFieldLooseKey("publicUrl");var g=babelHelpers.classPrivateFieldLooseKey("editUrl");var u=babelHelpers.classPrivateFieldLooseKey("requisiteElement");var h=babelHelpers.classPrivateFieldLooseKey("requisitesPopup");var P=babelHelpers.classPrivateFieldLooseKey("requisiteButton");var _=babelHelpers.classPrivateFieldLooseKey("updateOptions");var L=babelHelpers.classPrivateFieldLooseKey("updateElement");var H=babelHelpers.classPrivateFieldLooseKey("getRequisiteSettingsButton");var T=babelHelpers.classPrivateFieldLooseKey("getRequisitesPopup");var B=babelHelpers.classPrivateFieldLooseKey("getButtonText");var F=babelHelpers.classPrivateFieldLooseKey("getRequisiteButton");var I=babelHelpers.classPrivateFieldLooseKey("handleButtonOnclick");var f=babelHelpers.classPrivateFieldLooseKey("handleOpenRequisite");var E=babelHelpers.classPrivateFieldLooseKey("handleCreateLanding");var y=babelHelpers.classPrivateFieldLooseKey("createLanding");var w=babelHelpers.classPrivateFieldLooseKey("handleEditRequisite");var m=babelHelpers.classPrivateFieldLooseKey("handleCreateCompany");var N=babelHelpers.classPrivateFieldLooseKey("getRequisites");class S extends t.EventEmitter{constructor(e){super();Object.defineProperty(this,N,{value:U});Object.defineProperty(this,m,{value:x});Object.defineProperty(this,w,{value:$});Object.defineProperty(this,y,{value:D});Object.defineProperty(this,E,{value:k});Object.defineProperty(this,f,{value:W});Object.defineProperty(this,I,{value:K});Object.defineProperty(this,F,{value:G});Object.defineProperty(this,B,{value:j});Object.defineProperty(this,T,{value:C});Object.defineProperty(this,H,{value:A});Object.defineProperty(this,L,{value:R});Object.defineProperty(this,_,{value:O});Object.defineProperty(this,c,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,g,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});if(e){babelHelpers.classPrivateFieldLooseBase(this,_)[_](e);top.BX.addCustomEvent("onLocalStorageSet",(e=>{var s;const t=(s=e==null?void 0:e.key)!=null?s:null;if(t==="onCrmEntityUpdate"||t==="onCrmEntityCreate"||t==="BX.Crm.RequisiteSliderDetails:onSave"){babelHelpers.classPrivateFieldLooseBase(this,N)[N]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L]()}))}}))}}getElement(){if(!babelHelpers.classPrivateFieldLooseBase(this,u)[u]){babelHelpers.classPrivateFieldLooseBase(this,u)[u]=i.Tag.render(n||(n=r`
				<div class="intranet-settings-widget__business-card intranet-settings-widget_box">
					<div class="intranet-settings-widget__business-card_head intranet-settings-widget_inner">
						<div class="intranet-settings-widget_icon-box --gray">
							<div class="ui-icon-set --customer-card-1"></div>
						</div>
						<div class="intranet-settings-widget__title" data-role="requisite-widget-title">
							${0}
						</div>
						<i class="ui-icon-set --help" onclick="BX.Helper.show('redirect=detail&code=18213326')"></i>
					</div>

					<div class="intranet-settings-widget__business-card_footer">
						${0}
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,b)[b]?i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_REQUISITE_SITE_TITLE"):i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_REQUISITE_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,F)[F]().getContainer(),babelHelpers.classPrivateFieldLooseBase(this,c)[c]?babelHelpers.classPrivateFieldLooseBase(this,H)[H]():"")}return babelHelpers.classPrivateFieldLooseBase(this,u)[u]}}function O(e){var s,t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]=(s=e.companyId)!=null?s:0;babelHelpers.classPrivateFieldLooseBase(this,d)[d]=(t=e.requisiteId)!=null?t:0;babelHelpers.classPrivateFieldLooseBase(this,b)[b]=i.Type.isBoolean(e.isConnected)?e.isConnected:false;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=i.Type.isBoolean(e.isPublic)?e.isPublic:false;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=i.Type.isString(e.publicUrl)?e.publicUrl:"";babelHelpers.classPrivateFieldLooseBase(this,g)[g]=i.Type.isString(e.editUrl)?e.editUrl:""}function R(){const e=this.getElement();babelHelpers.classPrivateFieldLooseBase(this,u)[u]=null;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=null;i.Dom.replace(e,this.getElement())}function A(){const e=()=>{babelHelpers.classPrivateFieldLooseBase(this,T)[T]().show()};return i.Tag.render(o||(o=r`
			<span onclick="${0}" class="intranet-settings-widget__requisite-btn">
				<i class='ui-icon-set --more-information'></i>
			</span>
		`),e)}function C(){if(!babelHelpers.classPrivateFieldLooseBase(this,h)[h]){const e=()=>{if(BX.clipboard.copy(babelHelpers.classPrivateFieldLooseBase(this,p)[p])){BX.UI.Notification.Center.notify({content:i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_COPIED_POPUP"),position:"top-left",autoHideDelay:3e3})}};const s=()=>{window.open(babelHelpers.classPrivateFieldLooseBase(this,g)[g],"_blank");babelHelpers.classPrivateFieldLooseBase(this,h)[h].close();$e.close()};let t=null;if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]){t={html:`\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t\t<div class="ui-icon-set --link-3"></div> \n\t\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_COPY_LINK_BUTTON")}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,onclick:e}}let a=null;if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]){a={html:`\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t\t<div class="ui-icon-set --paint-1"></div> \n\t\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${i.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_CUTAWAY_SITE_BUTTON")}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,onclick:s}}const l=()=>{if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]){babelHelpers.classPrivateFieldLooseBase(this,h)[h].close()}$e.close();BX.SidePanel.Instance.open(`/crm/company/details/${babelHelpers.classPrivateFieldLooseBase(this,c)[c]}/?init_mode=edit&rqedit=y`)};const r={html:`\n\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t<div class="ui-icon-set --pencil-40"></div>\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${i.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_REQUISITE_BUTTON")}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`,onclick:l};const n=240;babelHelpers.classPrivateFieldLooseBase(this,h)[h]=BX.PopupMenu.create("requisites-settings",event.currentTarget,[t,r,a],{closeByEsc:true,autoHide:true,width:n,offsetLeft:-72,angle:{offset:n/2-15},events:{onShow:()=>{setTimeout((()=>{i.Event.bindOnce($e.getInstance().getWidget().getPopup().getPopupContainer(),"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,h)[h].close()}))}),0)}}})}return babelHelpers.classPrivateFieldLooseBase(this,h)[h]}function j(){if(babelHelpers.classPrivateFieldLooseBase(this,b)[b]){return i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_REDIRECT_TO_REQUISITE_BUTTON")}if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]>0&&babelHelpers.classPrivateFieldLooseBase(this,d)[d]>0){return i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_CREATE_LANDING")}return i.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_REQUISITE_BUTTON")}function G(){if(!babelHelpers.classPrivateFieldLooseBase(this,P)[P]){babelHelpers.classPrivateFieldLooseBase(this,P)[P]=new BX.UI.Button({id:"requisite-btn",text:babelHelpers.classPrivateFieldLooseBase(this,B)[B](),noCaps:true,onclick:babelHelpers.classPrivateFieldLooseBase(this,I)[I].bind(this),className:"ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light"})}return babelHelpers.classPrivateFieldLooseBase(this,P)[P]}function K(){if(babelHelpers.classPrivateFieldLooseBase(this,b)[b]){babelHelpers.classPrivateFieldLooseBase(this,f)[f]()}else if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]>0){if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]>0){babelHelpers.classPrivateFieldLooseBase(this,E)[E]()}else{babelHelpers.classPrivateFieldLooseBase(this,w)[w]()}}else{babelHelpers.classPrivateFieldLooseBase(this,m)[m]()}}function W(){$e.close();window.open(babelHelpers.classPrivateFieldLooseBase(this,p)[p],"_blank")}function k(){babelHelpers.classPrivateFieldLooseBase(this,F)[F]().setWaiting(true);babelHelpers.classPrivateFieldLooseBase(this,y)[y]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,h)[h]=null;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=null;babelHelpers.classPrivateFieldLooseBase(this,L)[L]();if(!babelHelpers.classPrivateFieldLooseBase(this,v)[v]){const e=new Popup("public-landing-error",this.getElement().querySelector('[data-role="requisite-widget-title"]'),{autoHide:true,closeByEsc:true,angle:true,darkMode:true,content:i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_CREATE_LANDING_ERROR"),events:{onShow:()=>{setTimeout((()=>{i.Event.bindOnce($e.getInstance().getWidget().getPopup().getPopupContainer(),"click",(()=>{e.close()}))}),0)},onClose:()=>{e.destroy()}}});e.show()}}))}function D(){return new Promise((e=>{i.ajax.runComponentAction("bitrix:intranet.settings.widget","createRequisiteLanding",{mode:"class"}).then((({data:{isConnected:s,isPublic:t,publicUrl:i,editUrl:a}})=>{babelHelpers.classPrivateFieldLooseBase(this,b)[b]=s;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=t;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=i;babelHelpers.classPrivateFieldLooseBase(this,g)[g]=a;e()}))}))}function $(){$e.close();BX.SidePanel.Instance.open(`/crm/company/details/${babelHelpers.classPrivateFieldLooseBase(this,c)[c]}/?init_mode=edit&rqedit=y`)}function x(){$e.close();BX.SidePanel.Instance.open("/crm/company/details/0/?mycompany=y&rqedit=y")}function U(){return new Promise((e=>{i.ajax.runComponentAction("bitrix:intranet.settings.widget","getRequisites",{mode:"class"}).then((({data:{requisite:s}})=>{babelHelpers.classPrivateFieldLooseBase(this,_)[_](s);e()}))}))}let M=e=>e,X,q,Q,Y,V,z,J,Z,ee,se,te,ie,ae,le,re;var ne=babelHelpers.classPrivateFieldLooseKey("widgetPopup");var oe=babelHelpers.classPrivateFieldLooseKey("target");var ce=babelHelpers.classPrivateFieldLooseKey("otp");var de=babelHelpers.classPrivateFieldLooseKey("instance");var be=babelHelpers.classPrivateFieldLooseKey("marketUrl");var ve=babelHelpers.classPrivateFieldLooseKey("theme");var pe=babelHelpers.classPrivateFieldLooseKey("holding");var ge=babelHelpers.classPrivateFieldLooseKey("holdingWidget");var ue=babelHelpers.classPrivateFieldLooseKey("isBitrix24");var he=babelHelpers.classPrivateFieldLooseKey("isFreeLicense");var Pe=babelHelpers.classPrivateFieldLooseKey("isAdmin");var _e=babelHelpers.classPrivateFieldLooseKey("requisite");var Le=babelHelpers.classPrivateFieldLooseKey("requisiteSection");var He=babelHelpers.classPrivateFieldLooseKey("settingsUrl");var Te=babelHelpers.classPrivateFieldLooseKey("isRenameable");var Be=babelHelpers.classPrivateFieldLooseKey("mainPage");var Fe=babelHelpers.classPrivateFieldLooseKey("setOptions");var Ie=babelHelpers.classPrivateFieldLooseKey("setHoldingOptions");var fe=babelHelpers.classPrivateFieldLooseKey("getItemsList");var Ee=babelHelpers.classPrivateFieldLooseKey("drawItemsList");var ye=babelHelpers.classPrivateFieldLooseKey("getLinkHeaderIcon");var we=babelHelpers.classPrivateFieldLooseKey("getEditHeaderIcon");var me=babelHelpers.classPrivateFieldLooseKey("getHeader");var Ne=babelHelpers.classPrivateFieldLooseKey("applyTheme");var Se=babelHelpers.classPrivateFieldLooseKey("getFooter");var Oe=babelHelpers.classPrivateFieldLooseKey("prepareElement");var Re=babelHelpers.classPrivateFieldLooseKey("getMainPageElement");var Ae=babelHelpers.classPrivateFieldLooseKey("getRequisitesElement");var Ce=babelHelpers.classPrivateFieldLooseKey("getHoldingsElement");var je=babelHelpers.classPrivateFieldLooseKey("getHoldingWidget");var Ge=babelHelpers.classPrivateFieldLooseKey("getEmptyHoldingsElement");var Ke=babelHelpers.classPrivateFieldLooseKey("getSecurityAndSettingsElement");var We=babelHelpers.classPrivateFieldLooseKey("getSecurityElement");var ke=babelHelpers.classPrivateFieldLooseKey("getGeneralSettingsElement");var De=babelHelpers.classPrivateFieldLooseKey("getMigrateElement");class $e extends t.EventEmitter{constructor(e){super();Object.defineProperty(this,De,{value:ns});Object.defineProperty(this,ke,{value:rs});Object.defineProperty(this,We,{value:ls});Object.defineProperty(this,Ke,{value:as});Object.defineProperty(this,Ge,{value:is});Object.defineProperty(this,je,{value:ts});Object.defineProperty(this,Ce,{value:ss});Object.defineProperty(this,Ae,{value:es});Object.defineProperty(this,Re,{value:Ze});Object.defineProperty(this,Oe,{value:Je});Object.defineProperty(this,Se,{value:ze});Object.defineProperty(this,Ne,{value:Ve});Object.defineProperty(this,me,{value:Ye});Object.defineProperty(this,we,{value:Qe});Object.defineProperty(this,ye,{value:qe});Object.defineProperty(this,Ee,{value:Xe});Object.defineProperty(this,fe,{value:Me});Object.defineProperty(this,Ie,{value:Ue});Object.defineProperty(this,Fe,{value:xe});Object.defineProperty(this,ne,{writable:true,value:void 0});Object.defineProperty(this,oe,{writable:true,value:void 0});Object.defineProperty(this,ce,{writable:true,value:void 0});Object.defineProperty(this,be,{writable:true,value:void 0});Object.defineProperty(this,ve,{writable:true,value:void 0});Object.defineProperty(this,pe,{writable:true,value:null});Object.defineProperty(this,ge,{writable:true,value:void 0});Object.defineProperty(this,ue,{writable:true,value:false});Object.defineProperty(this,he,{writable:true,value:false});Object.defineProperty(this,Pe,{writable:true,value:void 0});Object.defineProperty(this,_e,{writable:true,value:void 0});Object.defineProperty(this,Le,{writable:true,value:void 0});Object.defineProperty(this,He,{writable:true,value:void 0});Object.defineProperty(this,Te,{writable:true,value:void 0});Object.defineProperty(this,Be,{writable:true,value:void 0});this.setEventNamespace("BX.Intranet.SettingsWidget");babelHelpers.classPrivateFieldLooseBase(this,be)[be]=e.marketUrl;babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]=e.isBitrix24;babelHelpers.classPrivateFieldLooseBase(this,he)[he]=e.isFreeLicense;babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]=e.isAdmin;babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]=e.requisite;babelHelpers.classPrivateFieldLooseBase(this,He)[He]=e.settingsPath;babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]=e.isRenameable;babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]=e.mainPage;babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]=new S(e.requisite);babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe](e)}setTarget(e){babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=e;return this}setWidgetLoader(e){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]=new a.PopupComponentsMaker({width:374,popupLoader:e.getPopup(),useAngle:false});babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].getPopup().subscribe("onClose",(()=>{i.Event.unbindAll(this.getWidget().getPopup().getPopupContainer(),"click")}));e.clearBeforeInsertContent();babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee]()}));return this}static bindWidget(e){const s=this.getInstance();if(s){s.setWidgetLoader(e)}return s}static bindAndShow(e){const s=this.getInstance();if(s){i.Event.unbindAll(e);i.Event.bind(e,"click",s.toggle.bind(s,e));s.show(e)}return s}static init(e){if(babelHelpers.classPrivateFieldLooseBase(this,de)[de]===null){babelHelpers.classPrivateFieldLooseBase(this,de)[de]=new this(e)}return babelHelpers.classPrivateFieldLooseBase(this,de)[de]}static getInstance(){return babelHelpers.classPrivateFieldLooseBase(this,de)[de]}static close(){const e=this.getInstance();if(e){e.getWidget().close()}}toggle(e){const s=this.getWidget().getPopup();if(s.isShown()){s.close()}else{this.show(e)}}show(e){const s=this.getWidget().getPopup();s.setBindElement(e);s.show();if(s.getPopupContainer().getBoundingClientRect().left<30){i.Dom.style(s.getPopupContainer(),{left:"30px"})}this.setTarget(e)}getWidget(){return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]}}function xe(e){e.theme?babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=e.theme:null;e.otp?babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=e.otp:null;e.holding?babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie](e.holding):null}function Ue(e){var s,t,a,l;if(!i.Type.isPlainObject(e)){babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=null;return}babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]={isHolding:(s=e.isHolding)!=null?s:false,affiliate:(t=e.affiliate)!=null?t:null,canBeHolding:(a=e.canBeHolding)!=null?a:false,canBeAffiliate:(l=e.canBeAffiliate)!=null?l:false}}function Me(e=false){if(e===true||typeof babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]==="undefined"){return new Promise((e=>{i.ajax.runComponentAction("bitrix:intranet.settings.widget","getData",{mode:"class"}).then((({data:{theme:s,otp:t,holding:i}})=>{babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=s;babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=t;babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie](i);e()}))}))}return Promise.resolve()}function Xe(){const e=this.getWidget().getPopup().getPopupContainer();i.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,me)[me](),e);const s=[babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]&&babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]?babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae]():null,babelHelpers.classPrivateFieldLooseBase(this,Be)[Be].isAvailable?babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]():null,babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]?babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]():null,babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]?babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]():null,babelHelpers.classPrivateFieldLooseBase(this,De)[De]()];s.forEach((s=>{i.Dom.append(s,e)}));i.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Se)[Se](),e)}function qe(){const e=()=>{if(BX.clipboard.copy(window.location.origin)){BX.UI.Notification.Center.notify({content:i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_LINK_COPIED_POPUP"),position:"top-left",autoHideDelay:3e3})}};return i.Tag.render(X||(X=M`<span class='ui-icon-set --link-3 intranet-settings-widget__header-btn' onclick="${0}"></span>`),e)}function Qe(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,He)[He]+"?analyticContext=widget_settings_settings&page=portal&option=subDomainName")};return i.Tag.render(q||(q=M`<span class='ui-icon-set --pencil-40 intranet-settings-widget__header-btn' onclick="${0}"></span>`),e)}function Ye(){const e=i.Tag.render(Q||(Q=M`
				<div class="intranet-settings-widget__header">
					<div class="intranet-settings-widget__header_inner">
						<span class="intranet-settings-widget__header-name">${0}</span>
						${0}
					</div>
				</div>
			`),window.location.host,babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]?babelHelpers.classPrivateFieldLooseBase(this,we)[we]():babelHelpers.classPrivateFieldLooseBase(this,ye)[ye]());babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne](e,babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]);const s=new a.PopupComponentsMakerItem({withoutBackground:true,html:e}).getContainer();i.Dom.addClass(s,"--widget-header");t.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(({data:{theme:s}})=>{babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne](e,s)}));return s}function Ve(e,s){const t=`url('${i.Text.encode(s.previewImage)}')`;i.Dom.style(e,"backgroundImage",t);i.Dom.removeClass(e,"bitrix24-theme-dark bitrix24-theme-light");const a=String(s.id).indexOf("dark:")===0?"bitrix24-theme-dark":"bitrix24-theme-light";i.Dom.addClass(e,a)}function ze(){const e=()=>{this.getWidget().close();BX.UI.InfoHelper.show("info_implementation_request")};const s=i.Tag.render(Y||(Y=M`
			<span class="intranet-settings-widget__footer-item" onclick="${0}">
				${0}
			</span>
		`),e,i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_ORDER_PARTNER_LINK_MSGVER_1"));const t=()=>{if(top.BX.Helper){this.getWidget().close();top.BX.Helper.show("redirect=detail&code=18371844")}};const a=()=>{if(top.BX.Helper){this.getWidget().close();if(babelHelpers.classPrivateFieldLooseBase(this,he)[he]){BX.UI.InfoHelper.show("limit_support_bitrix")}else{BX.Helper.show("redirect=detail&code=12925062")}}};return i.Tag.render(V||(V=M`
				<div class="intranet-settings-widget__footer">
					${0}
					<span class="intranet-settings-widget__footer-item" onclick="${0}">
						${0}
					</span>
					<span class="intranet-settings-widget__footer-item" onclick="${0}">
						${0}
					</span>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]?s:"",t,i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_WHERE_TO_BEGIN_LINK"),a,i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SUPPORT_BUTTON"))}function Je(e){const s=this.getWidget().getItem({html:e});const t=s.getContainer();i.Dom.addClass(t,"--widget-item");return t}function Ze(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,Be)[Be].settingsPath);BX.UI.Analytics.sendData({tool:"landing",category:"vibe",event:"open_settings_main",c_sub_section:"from_widget_vibe_point"})};const t=new s.Label({text:i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_LABEL_NEW"),customClass:"ui-label-new",size:s.LabelSize.SM,fill:true});const a=i.Tag.render(z||(z=M`
			<div class="intranet-settings-widget__label-new">
				${0}
			</div>
		`),t.render());const l=i.Tag.render(J||(J=M`
			<div onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box --green">
						<div class="ui-icon-set --home-page"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
				${0}
			</div>
		`),e,i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_MAIN_PAGE_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,Be)[Be].isNew?a:null);return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](l)}function es(){return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](babelHelpers.classPrivateFieldLooseBase(this,Le)[Le].getElement())}function ss(){if(babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]!==true||babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]===null){return null}if(!i.Type.isPlainObject(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].affiliate)){return babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]()}const e=babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].affiliate;const s=()=>{this.getWidget().close();babelHelpers.classPrivateFieldLooseBase(this,je)[je]().show(babelHelpers.classPrivateFieldLooseBase(this,oe)[oe])};const t=i.Tag.render(Z||(Z=M`
		<div class="intranet-settings-widget__branch" onclick="${0}">
			<div class="intranet-settings-widget__branch-icon_box">
				<div class="ui-icon-set intranet-settings-widget__branch-icon --filial-network"></div>
			</div>
			<div class="intranet-settings-widget__branch_content">
				<div class="intranet-settings-widget__branch-title">
					${0}
				</div>
				<div class="intranet-settings-widget__title">
					${0}
				</div>
			</div>
			<div class="intranet-settings-widget__branch-btn_box">
				<button class="ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light">
					${0}
				</button>
			</div>
		</div>
		`),s,e.isHolding?i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_MAIN_BRANCH"):i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECONDARY_BRANCH"),e.name,i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_BRANCHES"));return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](t)}function ts(){if(!babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]){babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=BX.Intranet.HoldingWidget.getInstance();const e=()=>{babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].getWidget().close();this.show()};const s=i.Tag.render(ee||(ee=M`
				<div class="intranet-settings-widget__close-btn">
					<div onclick="${0}" class="ui-icon-set --arrow-left intranet-settings-widget__close-btn_icon"></div>
					<div class="intranet-settings-widget__close-btn_name">${0}</div>
				</div>
			`),e,i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_BRANCH_LIST"));babelHelpers.classPrivateFieldLooseBase(this,ge)[ge].getWidget().getPopup().getContentContainer().prepend(s)}return babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]}function is(){if(!i.Type.isPlainObject(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe])){return null}const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]?i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_NETWORK"):i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_NETWORK_UNAVAILABLE");const s=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]?i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_SETTINGS"):i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_ABOUT");const t=()=>{this.getWidget().close();if(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].canBeHolding){babelHelpers.classPrivateFieldLooseBase(this,je)[je]().show(babelHelpers.classPrivateFieldLooseBase(this,oe)[oe])}else{BX.UI.InfoHelper.show("limit_office_multiple_branches")}};const a=i.Tag.render(se||(se=M`
			<div class="intranet-settings-widget__branch-lock-icon_box">
				<div class="ui-icon-set intranet-settings-widget__branch-lock-icon --lock"></div>
			</div>
		`));const l=i.Tag.render(te||(te=M`
			<div class="intranet-settings-widget__branch" onclick="${0}">
				<div class="intranet-settings-widget__branch-icon_box">
					<div class="ui-icon-set intranet-settings-widget__branch-icon --filial-network"></div>
					${0}
				</div>
				<div class="intranet-settings-widget__branch_content">
					<div class="intranet-settings-widget__title">${0}</div>
				</div>
				<div class="intranet-settings-widget__branch-btn_box">
					<button class="ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light">${0}</button>
				</div>
			</div>
		`),t,!babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].canBeHolding?a:"",e,s);return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](l)}function as(){return i.Tag.render(ie||(ie=M`
			<div class="intranet-settings-widget_inline-box">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,We)[We](),babelHelpers.classPrivateFieldLooseBase(this,ke)[ke]())}function ls(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,He)[He]+"?page=security&analyticContext=widget_settings_settings")};const s=i.Tag.render(ae||(ae=M`
			<span onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box ${0}">
						<div class="ui-icon-set --shield"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</span>
		`),e,babelHelpers.classPrivateFieldLooseBase(this,ce)[ce].IS_ACTIVE==="Y"?"--green":"--yellow",i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_SECURITY_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](s)}function rs(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,He)[He]+"?analyticContext=widget_settings_settings")};const s=i.Tag.render(le||(le=M`
			<span onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box --gray">
						<div class="ui-icon-set --settings-2"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</span>
		`),e,i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_SETTINGS_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](s)}function ns(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(`${babelHelpers.classPrivateFieldLooseBase(this,be)[be]}category/migration/`)};const s=i.Tag.render(re||(re=M`
			<div onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box --gray">
						<div class="ui-icon-set --market-1"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</div>
		`),e,i.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_MIGRATION_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe](s)}Object.defineProperty($e,de,{writable:true,value:null});e.SettingsWidget=$e})(this.BX.Intranet=this.BX.Intranet||{},BX.UI,BX.Event,BX,BX.UI,BX.Intranet);
//# sourceMappingURL=script.map.js