{"version":3,"file":"script.js","sources":["action-button.js","active-field.js","grid.js","round-chart-field.js"],"sourcesContent":["import { Reflection } from 'main.core';\nimport { SidePanel } from 'ui.sidepanel';\n\nconst namespace = Reflection.namespace('BX.Crm.Copilot.CallAssessmentList');\n\nexport class ActionButton {\n\t#isActive: boolean;\n\n\tconstructor(isActiveCopilot: boolean = true)\n\t{\n\t\tthis.#isActive = isActiveCopilot;\n\t}\n\n\texecute(): void\n\t{\n\t\tif (this.#isActive)\n\t\t{\n\t\t\tif (!SidePanel.Instance)\n\t\t\t{\n\t\t\t\tconsole.error('SidePanel.Instance not found');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tSidePanel.Instance.open(\n\t\t\t\t`/crm/copilot-call-assessment/details/0/`,\n\t\t\t\t{\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\twidth: 700,\n\t\t\t\t\tallowChangeHistory: false,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\ttop.BX.UI?.InfoHelper?.show('limit_v2_crm_copilot_call_assessment_off');\n\t}\n}\n\nnamespace.ActionButton = ActionButton;\n","import { ajax as Ajax, Dom, Loc, Reflection, Runtime, Tag, Text } from 'main.core';\nimport { MessageBox, MessageBoxButtons } from 'ui.dialogs.messagebox';\nimport { UI } from 'ui.notification';\n\nconst namespace = Reflection.namespace('BX.Crm.Copilot.CallAssessmentList');\n\nexport class ActiveField\n{\n\t#id: string;\n\t#targetNode: string;\n\t#checked: boolean;\n\t#readOnly: boolean;\n\n\tconstructor({ id, targetNodeId, checked, readOnly })\n\t{\n\t\tthis.#id = id;\n\t\tthis.#targetNode = document.getElementById(targetNodeId);\n\t\tthis.#checked = checked;\n\t\tthis.#readOnly = readOnly;\n\t}\n\n\tinit(): void\n\t{\n\t\tvoid Runtime.loadExtension('ui.switcher').then((exports) => {\n\t\t\tconst { Switcher } = exports;\n\n\t\t\tthis.switcher = new Switcher({\n\t\t\t\tchecked: this.#checked,\n\t\t\t\tdisabled: this.#readOnly,\n\t\t\t\thandlers: {\n\t\t\t\t\tchecked: (event: PointerEvent) => {\n\t\t\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t\t\tconst popupContainer = Tag.render`\n\t\t\t\t\t\t\t<div class=\"crm-copilot-call-assessment-list-confirm-container\">\n\t\t\t\t\t\t\t\t<div class=\"crm-copilot-call-assessment-list-confirm-title\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('CRM_COPILOT_CALL_ASSESSMENT_LIST_COLUMN_ACTIVITY_CONFIRM_DIALOG_TITLE')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"crm-copilot-call-assessment-list-confirm-message\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`;\n\n\t\t\t\t\t\tMessageBox.show({\n\t\t\t\t\t\t\tmodal: true,\n\t\t\t\t\t\t\tminHeight: 100,\n\t\t\t\t\t\t\tminWidth: 400,\n\t\t\t\t\t\t\tpopupOptions: {\n\t\t\t\t\t\t\t\tcontent: popupContainer,\n\t\t\t\t\t\t\t\tcloseIcon: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbuttons: MessageBoxButtons.OK_CANCEL,\n\t\t\t\t\t\t\tokCaption: Loc.getMessage('CRM_COPILOT_CALL_ASSESSMENT_LIST_COLUMN_ACTIVITY_CONFIRM_DIALOG_OK_BTN'),\n\t\t\t\t\t\t\tonOk: (messageBox) => {\n\t\t\t\t\t\t\t\tmessageBox.close();\n\t\t\t\t\t\t\t\tthis.#changeCallAssessmentActive(false);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonCancel: (messageBox) => {\n\t\t\t\t\t\t\t\tthis.switcher.check(true, false);\n\t\t\t\t\t\t\t\tmessageBox.close();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tunchecked: (event) => {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tthis.#changeCallAssessmentActive(true);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tDom.clean(this.#targetNode);\n\t\t\tthis.switcher.renderTo(this.#targetNode);\n\t\t});\n\t}\n\n\t#changeCallAssessmentActive(isEnabled: boolean): void\n\t{\n\t\tRuntime.throttle(() => {\n\t\t\tAjax\n\t\t\t\t.runAction('crm.copilot.callassessment.active', {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tid: this.#id,\n\t\t\t\t\t\tisEnabled: isEnabled ? 'Y' : 'N',\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.catch((response) => {\n\t\t\t\t\tUI.Notification.Center.notify({\n\t\t\t\t\t\tcontent: Text.encode(response.errors[0].message),\n\t\t\t\t\t\tautoHideDelay: 6000,\n\t\t\t\t\t});\n\n\t\t\t\t\tthrow response;\n\t\t\t\t})\n\t\t\t;\n\t\t}, 100)();\n\t}\n}\n\nnamespace.ActiveField = ActiveField;\n","import { ajax as Ajax, Loc, Reflection, Text } from 'main.core';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { MessageBox, MessageBoxButtons } from 'ui.dialogs.messagebox';\nimport { UI } from 'ui.notification';\n\nconst namespace = Reflection.namespace('BX.Crm.Copilot.CallAssessmentList');\n\nexport class Grid {\n\t#grid = null;\n\t#reloadGridTimeoutId: number = null;\n\n\tconstructor(gridId: string)\n\t{\n\t\tthis.#grid = BX.Main.gridManager.getInstanceById(gridId);\n\t}\n\n\tinit(): void\n\t{\n\t\tthis.#bindEvents();\n\t}\n\n\t#bindEvents(): void\n\t{\n\t\tEventEmitter.subscribe('BX.Crm.Copilot.CallAssessment:onClickDelete', this.#handleItemDelete.bind(this));\n\t}\n\n\t#handleItemDelete(event: BaseEvent): void\n\t{\n\t\tconst id = Text.toInteger(event.data.id);\n\n\t\tif (!id)\n\t\t{\n\t\t\tthis.#showError(Loc.getMessage('CRM_COPILOT_CALL_ASSESSMENT_LIST_NOT_FOUND_MSGVER_1'));\n\n\t\t\treturn;\n\t\t}\n\n\t\tMessageBox.show({\n\t\t\ttitle: Loc.getMessage('CRM_TYPE_ITEM_DELETE_CONFIRMATION_TITLE'),\n\t\t\tmessage: Loc.getMessage('CRM_TYPE_ITEM_DELETE_CONFIRMATION_MESSAGE'),\n\t\t\tmodal: true,\n\t\t\tbuttons: MessageBoxButtons.YES_CANCEL,\n\t\t\tonYes: (messageBox) => {\n\t\t\t\tAjax.runAction(\n\t\t\t\t\t'crm.controller.copilot.callassessment.delete', {\n\t\t\t\t\t\tdata: { id },\n\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\tUI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: Loc.getMessage('CRM_TYPE_ITEM_DELETE_NOTIFICATION')\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.#reloadGridAfterTimeout();\n\t\t\t\t\t}).catch(({ errors }) => {\n\t\t\t\t\t\tthis.#showError(errors[0]?.message ?? Loc.getMessage('CRM_COPILOT_CALL_ASSESSMENT_LIST_ITEM_DELETE_ERROR'));\n\t\t\t\t\t})\n\t\t\t\t;\n\n\t\t\t\tmessageBox.close();\n\t\t\t}\n\t\t});\n\t}\n\n\t#showError(message: string): void\n\t{\n\t\tUI.Notification.Center.notify({\n\t\t\tcontent: Text.encode(message),\n\t\t\tautoHideDelay: 6000,\n\t\t});\n\t}\n\n\t#reloadGridAfterTimeout(): void\n\t{\n\t\tif (!this.#grid)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.#reloadGridTimeoutId > 0)\n\t\t{\n\t\t\tclearTimeout(this.#reloadGridTimeoutId);\n\t\t\tthis.#reloadGridTimeoutId = 0;\n\t\t}\n\n\t\tthis.#reloadGridTimeoutId = setTimeout(() => {\n\t\t\tthis.#grid.reload();\n\t\t}, 1000);\n\t}\n}\n\nnamespace.Grid = Grid;","import { Dom, Event, Loc, Reflection, Tag } from 'main.core';\nimport { ProgressRound } from 'ui.progressround';\n\nconst namespace = Reflection.namespace('BX.Crm.Copilot.CallAssessmentList');\n\ntype Borders = Border[];\n\ntype Border = {\n\tvalue?: number;\n\tcolor: string;\n\tid: string;\n}\n\nconst DEFAULT_BORDER = 'default';\nconst LOW_BORDER = 'lowBorder';\nconst HIGH_BORDER = 'highBorder';\n\nexport class RoundChartField\n{\n\t#id: string;\n\t#targetNode: string;\n\t#borders: ?Borders;\n\t#value: number;\n\t#valueContainer: HTMLElement;\n\n\tconstructor({ id, targetNodeId, borders, value })\n\t{\n\t\tthis.#id = id;\n\t\tthis.#targetNode = document.getElementById(targetNodeId);\n\t\tthis.#borders = borders ?? null;\n\t\tthis.#value = value;\n\t}\n\n\tinit(): void\n\t{\n\t\tif (this.#value === null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#valueContainer = Tag.render`<div></div>`;\n\n\t\tconst content = Tag.render`\n\t\t\t<div class=\"crm-copilot-call-assessment-list-assessment-avg\">\n\t\t\t\t${this.#valueContainer}\n\t\t\t\t<div class=\"crm-copilot-call-assessment-list-assessment-avg-value\">\n\t\t\t\t\t${this.#value}\n\t\t\t\t\t<span class=\"crm-copilot-call-assessment-list-assessment-avg-percent\">%</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tDom.append(content, this.#targetNode);\n\n\t\tconst loader = new ProgressRound({\n\t\t\twidth: 28,\n\t\t\tlineSize: 8,\n\t\t\tcolorBar: this.#getTrackColor(),\n\t\t\tcolorTrack: '#EBF1F6',\n\t\t\trotation: false,\n\t\t\tvalue: this.#value,\n\t\t\tcolor: ProgressRound.Color.SUCCESS,\n\t\t});\n\n\t\tloader.renderTo(this.#valueContainer);\n\n\t\tthis.#bindEvents(content);\n\t}\n\n\t#bindEvents(target: HTMLElement): void\n\t{\n\t\tEvent.bind(target, 'mouseenter', this.#showTooltip.bind(this));\n\t\tEvent.bind(target, 'mouseleave', this.#hideTooltip.bind(this));\n\t}\n\n\t#getTrackColor(): string\n\t{\n\t\tconst highBorder = this.#getBorderById(HIGH_BORDER);\n\t\tif (highBorder && this.#value >= highBorder?.value)\n\t\t{\n\t\t\treturn highBorder.color;\n\t\t}\n\n\t\tconst lowBorder = this.#getBorderById(LOW_BORDER);\n\t\tif (lowBorder && this.#value <= lowBorder?.value)\n\t\t{\n\t\t\treturn lowBorder.color;\n\t\t}\n\n\t\tconst defaultBorder = this.#getBorderById(DEFAULT_BORDER);\n\t\tif (defaultBorder)\n\t\t{\n\t\t\treturn defaultBorder.color;\n\t\t}\n\n\t\tthrow new RangeError('unknown track color');\n\t}\n\n\t#getBorderById(id: string): ?string\n\t{\n\t\treturn this.#borders.find((border) => {\n\t\t\treturn border.id === id;\n\t\t}) ?? null;\n\t}\n\n\t#showTooltip(event: MouseEvent): void\n\t{\n\t\tconst lowBorder = this.#getBorderById(LOW_BORDER);\n\t\tconst highBorder = this.#getBorderById(HIGH_BORDER);\n\n\t\tBX.UI.Hint.show(\n\t\t\tevent.target,\n\t\t\tLoc.getMessage(\n\t\t\t\t'CRM_COPILOT_CALL_ASSESSMENT_LIST_COLUMN_ASSESSMENT_AVG_TOOLTIP',\n\t\t\t\t{\n\t\t\t\t\t'#LOW_BORDER#': lowBorder.value,\n\t\t\t\t\t'#HIGH_BORDER#': highBorder.value,\n\t\t\t\t}\n\t\t\t),\n\t\t\ttrue,\n\t\t);\n\t}\n\n\t#hideTooltip(event: MouseEvent): void\n\t{\n\t\tBX.UI.Hint.hide(event.target);\n\t}\n}\n\nnamespace.RoundChartField = RoundChartField;\n"],"names":["namespace","Reflection","ActionButton","isActiveCopilot","SidePanel","Instance","console","error","open","cacheable","width","allowChangeHistory","top","BX","UI","InfoHelper","show","ActiveField","id","targetNodeId","checked","readOnly","_classPrivateFieldInitSpec","document","getElementById","Runtime","loadExtension","then","exports","Switcher","switcher","disabled","handlers","event","stopPropagation","popupContainer","Tag","render","Loc","getMessage","MessageBox","modal","minHeight","minWidth","popupOptions","content","closeIcon","buttons","MessageBoxButtons","OK_CANCEL","okCaption","onOk","messageBox","close","onCancel","check","unchecked","Dom","clean","renderTo","isEnabled","throttle","Ajax","runAction","data","response","Notification","Center","notify","Text","encode","errors","message","autoHideDelay","Grid","gridId","_classPrivateMethodInitSpec","Main","gridManager","getInstanceById","_classPrivateMethodGet","EventEmitter","subscribe","bind","toInteger","title","YES_CANCEL","onYes","clearTimeout","setTimeout","reload","DEFAULT_BORDER","LOW_BORDER","HIGH_BORDER","RoundChartField","borders","value","append","loader","ProgressRound","lineSize","colorBar","colorTrack","rotation","color","Color","SUCCESS","target","Event","highBorder","lowBorder","defaultBorder","RangeError","find","border","Hint","hide"],"mappings":"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"}