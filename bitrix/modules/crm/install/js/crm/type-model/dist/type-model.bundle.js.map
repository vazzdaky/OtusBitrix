{"version":3,"file":"type-model.bundle.js","sources":["../src/type-model.js"],"sourcesContent":["import { Text, Type } from 'main.core';\nimport { Model } from 'crm.model';\n\nexport type TypeModelData = {\n\tid: ?number,\n\tentityTypeId: ?number,\n\ttitle: ?string,\n\tcreatedBy: ?number,\n\tisCategoriesEnabled?: boolean,\n\tisStagesEnabled?: boolean,\n\tisBeginCloseDatesEnabled?: boolean,\n\tisClientEnabled?: boolean,\n\tisLinkWithProductsEnabled?: boolean,\n\tisCrmTrackingEnabled?: boolean,\n\tisMycompanyEnabled?: boolean,\n\tisDocumentsEnabled?: boolean,\n\tisSourceEnabled?: boolean,\n\tisUseInUserfieldEnabled?: boolean,\n\tisObserversEnabled?: boolean,\n\tisRecyclebinEnabled?: boolean,\n\tisAutomationEnabled?: boolean,\n\tisBizProcEnabled?: boolean,\n\tisSetOpenPermissions?: boolean,\n\tconversionMap?: {\n\t\t//we can't send an empty array via ajax. therefore, it's stored as 'false'\n\t\tsourceTypes: false|number[],\n\t\tdestinationTypes: false|number[]\n\t},\n\tlinkedUserFields?: {[key: string]: Boolean},\n\trelations?: RelationsMap,\n\tcustomSectionId: ?number,\n\tcustomSections: CustomSection[],\n\tisExternal?: boolean,\n\tisSaveFromTypeDetail?: boolean,\n};\n\ndeclare type RelationsMap = {\n\tparent: Relation[],\n\tchild: Relation[],\n}\n\ndeclare type Relation = {\n\tentityTypeId: number,\n\tisChildrenListEnabled?: boolean|null,\n\tisPredefined?: boolean,\n}\n\nexport type ConversionMap = {\n\tsourceTypes: number[],\n\tdestinationTypes: number[],\n};\n\nexport type CustomSection = {\n\tid: number,\n\ttitle: string,\n\tisSelected: boolean,\n};\n\n/**\n * @memberOf BX.Crm.Models\n */\nexport class TypeModel extends Model\n{\n\tconstructor(data: TypeModelData, params: ?{})\n\t{\n\t\tsuper(data, params);\n\t}\n\n\tgetModelName(): string\n\t{\n\t\treturn 'type';\n\t}\n\n\tgetData(): TypeModelData\n\t{\n\t\tconst data = super.getData();\n\t\tif (!Type.isObject(data.linkedUserFields))\n\t\t{\n\t\t\tdata.linkedUserFields = false;\n\t\t}\n\t\tdata.relations = this.getRelations();\n\t\tdata.customSections = this.getCustomSections();\n\n\t\treturn data;\n\t}\n\n\tgetTitle(): ?string\n\t{\n\t\treturn this.data.title;\n\t}\n\n\tsetTitle(title: string)\n\t{\n\t\tthis.data.title = title;\n\t}\n\n\tgetCreatedBy(): ?number\n\t{\n\t\treturn this.data.createdBy;\n\t}\n\n\tgetIsCategoriesEnabled(): boolean\n\t{\n\t\treturn this.data.isCategoriesEnabled;\n\t}\n\n\tsetIsCategoriesEnabled(isCategoriesEnabled: boolean)\n\t{\n\t\tthis.data.isCategoriesEnabled = (isCategoriesEnabled === true);\n\t}\n\n\tgetIsStagesEnabled(): boolean\n\t{\n\t\treturn this.data.isStagesEnabled;\n\t}\n\n\tsetIsStagesEnabled(isStagesEnabled: boolean)\n\t{\n\t\tthis.data.isStagesEnabled = (isStagesEnabled === true);\n\t}\n\n\tgetIsBeginCloseDatesEnabled(): boolean\n\t{\n\t\treturn this.data.isBeginCloseDatesEnabled;\n\t}\n\n\tsetIsBeginCloseDatesEnabled(isBeginCloseDatesEnabled: boolean)\n\t{\n\t\tthis.data.isBeginCloseDatesEnabled = (isBeginCloseDatesEnabled === true);\n\t}\n\n\tgetIsClientEnabled(): boolean\n\t{\n\t\treturn this.data.isBeginCloseDatesEnabled;\n\t}\n\n\tsetIsClientEnabled(isClientEnabled: boolean)\n\t{\n\t\tthis.data.isClientEnabled = (isClientEnabled === true);\n\t}\n\n\tgetIsLinkWithProductsEnabled(): boolean\n\t{\n\t\treturn this.data.isLinkWithProductsEnabled;\n\t}\n\n\tsetIsLinkWithProductsEnabled(isLinkWithProductsEnabled: boolean)\n\t{\n\t\tthis.data.isLinkWithProductsEnabled = (isLinkWithProductsEnabled === true);\n\t}\n\n\tgetIsCrmTrackingEnabled(): boolean\n\t{\n\t\treturn this.data.isCrmTrackingEnabled;\n\t}\n\n\tsetIsCrmTrackingEnabled(isCrmTrackingEnabled: boolean)\n\t{\n\t\tthis.data.isCrmTrackingEnabled = (isCrmTrackingEnabled === true);\n\t}\n\n\tgetIsMycompanyEnabled(): boolean\n\t{\n\t\treturn this.data.isMycompanyEnabled;\n\t}\n\n\tsetIsMycompanyEnabled(isMycompanyEnabled: boolean)\n\t{\n\t\tthis.data.isMycompanyEnabled = (isMycompanyEnabled === true);\n\t}\n\n\tgetIsDocumentsEnabled(): boolean\n\t{\n\t\treturn this.data.isDocumentsEnabled;\n\t}\n\n\tsetIsDocumentsEnabled(isDocumentsEnabled: boolean)\n\t{\n\t\tthis.data.isDocumentsEnabled = (isDocumentsEnabled === true);\n\t}\n\n\tgetIsSourceEnabled(): boolean\n\t{\n\t\treturn this.data.isSourceEnabled;\n\t}\n\n\tsetIsSourceEnabled(isSourceEnabled: boolean)\n\t{\n\t\tthis.data.isSourceEnabled = (isSourceEnabled === true);\n\t}\n\n\tgetIsUseInUserfieldEnabled(): boolean\n\t{\n\t\treturn this.data.isUseInUserfieldEnabled;\n\t}\n\n\tsetIsUseInUserfieldEnabled(isUseInUserfieldEnabled: boolean)\n\t{\n\t\tthis.data.isUseInUserfieldEnabled = (isUseInUserfieldEnabled === true);\n\t}\n\n\tgetIsObserversEnabled(): boolean\n\t{\n\t\treturn this.data.isObserversEnabled;\n\t}\n\n\tsetIsObserversEnabled(isObserversEnabled: boolean)\n\t{\n\t\tthis.data.isObserversEnabled = (isObserversEnabled === true);\n\t}\n\n\tgetIsRecyclebinEnabled(): boolean\n\t{\n\t\treturn this.data.isRecyclebinEnabled;\n\t}\n\n\tsetIsRecyclebinEnabled(isRecyclebinEnabled: boolean)\n\t{\n\t\tthis.data.isRecyclebinEnabled = (isRecyclebinEnabled === true);\n\t}\n\n\tgetIsAutomationEnabled(): boolean\n\t{\n\t\treturn this.data.isAutomationEnabled;\n\t}\n\n\tsetIsAutomationEnabled(isAutomationEnabled: boolean)\n\t{\n\t\tthis.data.isAutomationEnabled = (isAutomationEnabled === true);\n\t}\n\n\tgetIsBizProcEnabled(): boolean\n\t{\n\t\treturn this.data.isBizProcEnabled;\n\t}\n\n\tsetIsBizProcEnabled(isBizProcEnabled: boolean)\n\t{\n\t\tthis.data.isBizProcEnabled = (isBizProcEnabled === true);\n\t}\n\n\tgetIsSetOpenPermissions(): boolean\n\t{\n\t\treturn this.data.isSetOpenPermissions;\n\t}\n\n\tsetIsSetOpenPermissions(isSetOpenPermissions: boolean)\n\t{\n\t\tthis.data.isSetOpenPermissions = (isSetOpenPermissions === true);\n\t}\n\n\tgetLinkedUserFields(): {[key: string]: Boolean}|false\n\t{\n\t\treturn this.data.linkedUserFields;\n\t}\n\n\tsetLinkedUserFields(linkedUserFields: {[key: string]: Boolean})\n\t{\n\t\tthis.data.linkedUserFields = linkedUserFields;\n\t}\n\n\tgetCustomSectionId(): ?number\n\t{\n\t\tif (this.data.hasOwnProperty('customSectionId'))\n\t\t{\n\t\t\treturn Text.toInteger(this.data.customSectionId);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tsetCustomSectionId(customSectionId: number)\n\t{\n\t\tthis.data.customSectionId = customSectionId;\n\t}\n\n\tgetCustomSections(): CustomSection[]|false\n\t{\n\t\tconst customSections = this.data.customSections;\n\t\tif (Type.isArray(customSections) && customSections.length === 0)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn customSections;\n\t}\n\n\tsetCustomSections(customSections: CustomSection[])\n\t{\n\t\tthis.data.customSections = customSections;\n\t}\n\n\tsetIsExternalDynamicalType(isExternal: boolean): void\n\t{\n\t\tthis.data.isExternal = isExternal;\n\t}\n\n\tsetIsSaveFromTypeDetail(isSaveFromTypeDetail: boolean): void\n\t{\n\t\tthis.data.isSaveFromTypeDetail = isSaveFromTypeDetail;\n\t}\n\n\tsetConversionMap({sourceTypes, destinationTypes}: ConversionMap)\n\t{\n\t\tif (!this.data.hasOwnProperty('conversionMap'))\n\t\t{\n\t\t\tthis.data.conversionMap = {};\n\t\t}\n\n\t\tthis.data.conversionMap.sourceTypes = this.normalizeTypes(sourceTypes);\n\t\tthis.data.conversionMap.destinationTypes = this.normalizeTypes(destinationTypes);\n\t}\n\n\tgetConversionMap(): undefined|ConversionMap\n\t{\n\t\tif (Type.isUndefined(this.data.conversionMap))\n\t\t{\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst conversionMap: ConversionMap = Object.assign({}, this.data.conversionMap);\n\n\t\tif (!conversionMap.sourceTypes)\n\t\t{\n\t\t\tconversionMap.sourceTypes = [];\n\t\t}\n\t\tif (!conversionMap.destinationTypes)\n\t\t{\n\t\t\tconversionMap.destinationTypes = [];\n\t\t}\n\n\t\treturn conversionMap;\n\t}\n\n\tsetRelations(relations: RelationsMap): void\n\t{\n\t\tthis.data.relations = relations;\n\t}\n\n\tgetRelations(): ?RelationsMap\n\t{\n\t\tif (!this.data.relations)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!Type.isArray(this.data.relations.parent) || !this.data.relations.parent.length)\n\t\t{\n\t\t\tthis.data.relations.parent = false;\n\t\t}\n\t\tif (!Type.isArray(this.data.relations.child) || !this.data.relations.child.length)\n\t\t{\n\t\t\tthis.data.relations.child = false;\n\t\t}\n\n\t\treturn this.data.relations;\n\t}\n\n\tgetIsCountersEnabled(): boolean {\n\t\treturn this.data.isCountersEnabled\n\t}\n\n\tsetIsCountersEnabled(isCountersEnabled: boolean){\n\t\tthis.data.isCountersEnabled = isCountersEnabled\n\t}\n\n\t/**\n\t * @protected\n\t * @param types\n\t * @return {false|number[]}\n\t */\n\tnormalizeTypes(types: []): false|number[]\n\t{\n\t\tif (!Type.isArrayFilled(types))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tconst arrayOfIntegers = types.map( (element) =>\n\t\t{\n\t\t\treturn parseInt(element, 10);\n\t\t});\n\n\t\treturn arrayOfIntegers.filter( (element) =>\n\t\t{\n\t\t\treturn (element > 0);\n\t\t});\n\t}\n\n\tstatic getBooleanFieldNames(): string[]\n\t{\n\t\treturn [\n\t\t\t'isCategoriesEnabled',\n\t\t\t'isStagesEnabled',\n\t\t\t'isBeginCloseDatesEnabled',\n\t\t\t'isClientEnabled',\n\t\t\t'isLinkWithProductsEnabled',\n\t\t\t'isCrmTrackingEnabled',\n\t\t\t'isMycompanyEnabled',\n\t\t\t'isDocumentsEnabled',\n\t\t\t'isSourceEnabled',\n\t\t\t'isUseInUserfieldEnabled',\n\t\t\t'isObserversEnabled',\n\t\t\t'isRecyclebinEnabled',\n\t\t\t'isAutomationEnabled',\n\t\t\t'isBizProcEnabled',\n\t\t\t'isSetOpenPermissions',\n\t\t\t'isCountersEnabled'\n\t\t];\n\t}\n}\n"],"names":["TypeModel","Model","constructor","data","params","getModelName","getData","Type","isObject","linkedUserFields","relations","getRelations","customSections","getCustomSections","getTitle","title","setTitle","getCreatedBy","createdBy","getIsCategoriesEnabled","isCategoriesEnabled","setIsCategoriesEnabled","getIsStagesEnabled","isStagesEnabled","setIsStagesEnabled","getIsBeginCloseDatesEnabled","isBeginCloseDatesEnabled","setIsBeginCloseDatesEnabled","getIsClientEnabled","setIsClientEnabled","isClientEnabled","getIsLinkWithProductsEnabled","isLinkWithProductsEnabled","setIsLinkWithProductsEnabled","getIsCrmTrackingEnabled","isCrmTrackingEnabled","setIsCrmTrackingEnabled","getIsMycompanyEnabled","isMycompanyEnabled","setIsMycompanyEnabled","getIsDocumentsEnabled","isDocumentsEnabled","setIsDocumentsEnabled","getIsSourceEnabled","isSourceEnabled","setIsSourceEnabled","getIsUseInUserfieldEnabled","isUseInUserfieldEnabled","setIsUseInUserfieldEnabled","getIsObserversEnabled","isObserversEnabled","setIsObserversEnabled","getIsRecyclebinEnabled","isRecyclebinEnabled","setIsRecyclebinEnabled","getIsAutomationEnabled","isAutomationEnabled","setIsAutomationEnabled","getIsBizProcEnabled","isBizProcEnabled","setIsBizProcEnabled","getIsSetOpenPermissions","isSetOpenPermissions","setIsSetOpenPermissions","getLinkedUserFields","setLinkedUserFields","getCustomSectionId","hasOwnProperty","Text","toInteger","customSectionId","setCustomSectionId","isArray","length","setCustomSections","setIsExternalDynamicalType","isExternal","setIsSaveFromTypeDetail","isSaveFromTypeDetail","setConversionMap","sourceTypes","destinationTypes","conversionMap","normalizeTypes","getConversionMap","isUndefined","undefined","Object","assign","setRelations","parent","child","getIsCountersEnabled","isCountersEnabled","setIsCountersEnabled","types","isArrayFilled","arrayOfIntegers","map","element","parseInt","filter","getBooleanFieldNames"],"mappings":"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"}