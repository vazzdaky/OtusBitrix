{"version":3,"file":"badge.bundle.js","sources":["../src/badge.js"],"sourcesContent":["import { Dom, Event, Runtime, Type } from 'main.core';\n\nimport 'ui.design-tokens';\nimport './badge.css';\n\ntype BadgeParams = {\n\thint?: string;\n}\n\nexport class Badge\n{\n\t#target: HTMLElement;\n\n\tconstructor(target: HTMLElement)\n\t{\n\t\tthis.#target = target;\n\t}\n\n\tinit(params: ?BadgeParams = null): void\n\t{\n\t\tconst hint = params?.hint ?? Dom.attr(this.#target, 'data-badgehint');\n\n\t\tif (!Type.isStringFilled(hint))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tDom.addClass(this.#target, '--hint');\n\n\t\tEvent.unbindAll(this.#target, 'mouseover');\n\t\tEvent.unbindAll(this.#target, 'mouseleave');\n\n\t\tEvent.bind(this.#target, 'mouseover', (event) => {\n\t\t\tRuntime.debounce(\n\t\t\t\t() => {\n\t\t\t\t\tBX.UI.Hint.show(this.#target, hint);\n\n\t\t\t\t\t// hide the title in the grid so that it does not overlap the hint\n\t\t\t\t\tconst parentRow = event.target.closest('tr');\n\t\t\t\t\tif (!parentRow)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst title = parentRow.getAttribute('title');\n\t\t\t\t\tif (Type.isStringFilled(title))\n\t\t\t\t\t{\n\t\t\t\t\t\tparentRow.setAttribute('data-title', title);\n\t\t\t\t\t\tparentRow.removeAttribute('title');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t50,\n\t\t\t\tthis,\n\t\t\t)();\n\t\t});\n\n\t\tEvent.bind(this.#target, 'mouseleave', (event) => {\n\t\t\tBX.UI.Hint.hide(this.#target);\n\n\t\t\tconst parentRow = event.target.closest('tr');\n\t\t\tif (!parentRow)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst title = parentRow.getAttribute('data-title');\n\t\t\tif (Type.isStringFilled(title))\n\t\t\t{\n\t\t\t\tparentRow.setAttribute('title', title);\n\t\t\t}\n\n\t\t\tparentRow.removeAttribute('data-title');\n\t\t});\n\t}\n}\n"],"names":["Badge","target","params","hint","Dom","attr","Type","isStringFilled","addClass","Event","unbindAll","bind","event","Runtime","debounce","BX","UI","Hint","show","parentRow","closest","title","getAttribute","setAttribute","removeAttribute","hide"],"mappings":";;;;;;;AAAA,CAGqB;AAMrB,KAAaA,KAAK;GAIjB,eAAYC,MAAmB,EAC/B;KAAA;KAAA;OAAA;OAAA;;KACC,sCAAI,WAAWA,MAAM;;GACrB;KAAA;KAAA,uBAGD;OAAA;SAAA;OAAA,IADKC,MAAoB,uEAAG,IAAI;OAE/B,IAAMC,IAAI,mBAAGD,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEC,IAAI,uDAAIC,aAAG,CAACC,IAAI,mCAAC,IAAI,YAAU,gBAAgB,CAAC;OAErE,IAAI,CAACC,cAAI,CAACC,cAAc,CAACJ,IAAI,CAAC,EAC9B;SACC;;OAGDC,aAAG,CAACI,QAAQ,mCAAC,IAAI,YAAU,QAAQ,CAAC;OAEpCC,eAAK,CAACC,SAAS,mCAAC,IAAI,YAAU,WAAW,CAAC;OAC1CD,eAAK,CAACC,SAAS,mCAAC,IAAI,YAAU,YAAY,CAAC;OAE3CD,eAAK,CAACE,IAAI,mCAAC,IAAI,YAAU,WAAW,EAAE,UAACC,KAAK,EAAK;SAChDC,iBAAO,CAACC,QAAQ,CACf,YAAM;WACLC,EAAE,CAACC,EAAE,CAACC,IAAI,CAACC,IAAI,mCAAC,KAAI,YAAUf,IAAI,CAAC;;;WAGnC,IAAMgB,SAAS,GAAGP,KAAK,CAACX,MAAM,CAACmB,OAAO,CAAC,IAAI,CAAC;WAC5C,IAAI,CAACD,SAAS,EACd;aACC;;WAGD,IAAME,KAAK,GAAGF,SAAS,CAACG,YAAY,CAAC,OAAO,CAAC;WAC7C,IAAIhB,cAAI,CAACC,cAAc,CAACc,KAAK,CAAC,EAC9B;aACCF,SAAS,CAACI,YAAY,CAAC,YAAY,EAAEF,KAAK,CAAC;aAC3CF,SAAS,CAACK,eAAe,CAAC,OAAO,CAAC;;UAEnC,EACD,EAAE,EACF,KAAI,CACJ,EAAE;QACH,CAAC;OAEFf,eAAK,CAACE,IAAI,mCAAC,IAAI,YAAU,YAAY,EAAE,UAACC,KAAK,EAAK;SACjDG,EAAE,CAACC,EAAE,CAACC,IAAI,CAACQ,IAAI,mCAAC,KAAI,WAAS;SAE7B,IAAMN,SAAS,GAAGP,KAAK,CAACX,MAAM,CAACmB,OAAO,CAAC,IAAI,CAAC;SAC5C,IAAI,CAACD,SAAS,EACd;WACC;;SAGD,IAAME,KAAK,GAAGF,SAAS,CAACG,YAAY,CAAC,YAAY,CAAC;SAClD,IAAIhB,cAAI,CAACC,cAAc,CAACc,KAAK,CAAC,EAC9B;WACCF,SAAS,CAACI,YAAY,CAAC,OAAO,EAAEF,KAAK,CAAC;;SAGvCF,SAAS,CAACK,eAAe,CAAC,YAAY,CAAC;QACvC,CAAC;;;GACF;CAAA;;;;;;;;"}