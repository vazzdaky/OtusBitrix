{"version":3,"file":"utils.bundle.js","sources":["../src/user-item.js","../src/color.js","../src/consts.js","../src/node-color.js"],"sourcesContent":["import { memberRoles } from 'humanresources.company-structure.api';\nimport type { Item } from 'ui.entity-selector';\n\nexport type UserData = {\n\tid: number,\n\tavatar: ?string,\n\tname: string,\n\tworkPosition: ?string,\n\trole: string,\n\turl: string,\n\tisInvited: boolean,\n\tnodeId?: number,\n};\n\ntype InvitedUserItem = {\n\tcustomData: {\n\t\temail: string;\n\t\tinvited: boolean;\n\t\tlastName?: string;\n\t\tname?: string;\n\t\tlogin: string;\n\t\tnodeId: number;\n\t},\n\tentityId: string,\n\tentityType: string,\n\tid: number,\n\ttitle: String,\n\ttabs: string[],\n};\n\nexport const getInvitedUserData = (item: InvitedUserItem): UserData => {\n\tconst { id, title, customData } = item;\n\tconst { nodeId } = customData;\n\n\treturn {\n\t\tid,\n\t\tavatar: '',\n\t\tname: title,\n\t\tworkPosition: '',\n\t\trole: memberRoles.employee,\n\t\turl: `/company/personal/user/${id}/`,\n\t\tisInvited: true,\n\t\tnodeId,\n\t};\n};\n\nexport const getUserDataBySelectorItem = (item: Item, role: string): UserData => {\n\tconst { id, avatar, title, customData } = item;\n\titem.setLink(null);\n\tconst link = item.getLink() ?? '';\n\tconst workPosition = customData.get('position') ?? '';\n\tconst isInvited = customData.get('invited') ?? false;\n\n\treturn {\n\t\tid,\n\t\tavatar,\n\t\tname: title.text,\n\t\tworkPosition,\n\t\trole,\n\t\turl: link,\n\t\tisInvited,\n\t};\n};\n","const optionColor = Object.freeze({\n\tpaletteBlue50: {\n\t\ttokenClass: '--ui-color-palette-blue-50',\n\t\tcolor: '#2FC6F6',\n\t},\n\tpaletteGreen55: {\n\t\ttokenClass: '--ui-color-palette-green-55',\n\t\tcolor: '#95C500',\n\t},\n\tpaletteRed40: {\n\t\ttokenClass: '--ui-color-palette-red-40',\n\t\tcolor: '#FF9A97',\n\t},\n\taccentAqua: {\n\t\ttokenClass: '--ui-color-accent-aqua',\n\t\tcolor: '#55D0E0',\n\t},\n\taccentTurquoise: {\n\t\ttokenClass: '--ui-color-accent-turquoise',\n\t\tcolor: '#05b5ab',\n\t},\n\tpaletteOrange40: {\n\t\ttokenClass: '--ui-color-palette-orange-40',\n\t\tcolor: '#FFC34D',\n\t},\n\tlightBlue: {\n\t\ttokenClass: '--ui-color-accent-light-blue',\n\t\tcolor: '#559be6',\n\t},\n\textranetColor: {\n\t\ttokenClass: '--ui-color-extranet',\n\t\tcolor: '#e89b06',\n\t},\n\twhiteBase: {\n\t\ttokenClass: '--ui-color-palette-white-base',\n\t\tcolor: '#FFFFFF',\n\t},\n});\n\nexport const getColorCode = (colorKey) => {\n\tconst colorOption = optionColor[colorKey];\n\tif (colorOption)\n\t{\n\t\treturn document.body\n\t\t\t? getComputedStyle(document.body)?.getPropertyValue(colorOption.tokenClass)\n\t\t\t: colorOption.color\n\t\t;\n\t}\n\n\treturn null;\n};\n","/**\n * Department type. The equivalent of Bitrix\\HumanResources\\Type\\NodeEntityType\n */\nexport const EntityTypes = Object.freeze({\n\tdepartment: 'DEPARTMENT',\n\tteam: 'TEAM',\n\tcompany: 'COMPANY',\n});\n","import { EntityTypes } from './consts';\n\n/**\n * Type for color picker and structure\n */\nexport type NodeColorSettingsType = {\n\tname: string,\n\tpickerColor: string,\n\theadBackground: string,\n\ttreeHeadBackground: string,\n\tnamePlaceholder: string,\n\theadPlaceholder: string,\n\tpreviewBorder: string;\n\tbubbleBackground: string,\n\tfocusedBorderColor: string,\n\texpandedBorderColor: string,\n\tavatarImage: string,\n}\n\nexport type NodeColorNameType = 'blue' | 'green' | 'cyan' | 'orange' | 'purple' | 'pink';\n\nexport const NodeColorsSettingsDict: Record<NodeColorNameType, NodeColorSettingsType> = Object.freeze({\n\tblue: {\n\t\tname: 'blue',\n\t\tpickerColor: 'rgba(0, 117, 255, 1)',\n\t\theadBackground: 'rgba(0, 117, 255, 0.23)',\n\t\ttreeHeadBackground: 'rgba(0, 117, 255, 0.23)',\n\t\tnamePlaceholder: 'rgba(0, 117, 255, 0.12)',\n\t\theadPlaceholder: 'rgba(0, 117, 255, 0.15)',\n\t\tpreviewBorder: 'rgba(0, 117, 255, 0.5)',\n\t\tbubbleBackground: 'rgba(80, 156, 252, 1)',\n\t\tfocusedBorderColor: 'rgba(0, 117, 255, 0.25)',\n\t\texpandedBorderColor: 'rgba(77, 158, 255, 1)',\n\t\tavatarImage: 'placeholder-avatar-blue.svg',\n\t},\n\tgreen: {\n\t\tname: 'green',\n\t\tpickerColor: 'rgba(22, 221, 154, 1)',\n\t\theadBackground: 'rgba(22, 221, 154, 0.23)',\n\t\ttreeHeadBackground: 'rgba(22, 221, 154, 0.27)',\n\t\tnamePlaceholder: 'rgba(22, 221, 154, 0.23)',\n\t\theadPlaceholder: 'rgba(22, 221, 154, 0.2)',\n\t\tpreviewBorder: 'rgba(22, 221, 154, 0.5)',\n\t\tbubbleBackground: 'rgba(22, 221, 154, 1)',\n\t\tfocusedBorderColor: 'rgba(22, 221, 154, 0.25)',\n\t\texpandedBorderColor: 'rgba(22, 221, 154, 1)',\n\t\tavatarImage: 'placeholder-avatar-green.svg',\n\t},\n\tcyan: {\n\t\tname: 'cyan',\n\t\tpickerColor: 'rgba(25, 202, 212, 1)',\n\t\theadBackground: 'rgba(25, 202, 212, 0.23)',\n\t\ttreeHeadBackground: 'rgba(25, 202, 212, 0.27)',\n\t\tnamePlaceholder: 'rgba(25, 202, 212, 0.23)',\n\t\theadPlaceholder: 'rgba(25, 202, 212, 0.2)',\n\t\tpreviewBorder: 'rgba(25, 202, 212, 0.5)',\n\t\tbubbleBackground: 'rgba(25, 202, 212, 1)',\n\t\tfocusedBorderColor: 'rgba(25, 202, 212, 0.25)',\n\t\texpandedBorderColor: 'rgba(25, 202, 212, 1)',\n\t\tavatarImage: 'placeholder-avatar-cyan.svg',\n\t},\n\torange: {\n\t\tname: 'orange',\n\t\tpickerColor: 'rgba(249, 172, 22, 1)',\n\t\theadBackground: 'rgba(249, 172, 22, 0.23)',\n\t\ttreeHeadBackground: 'rgba(249, 172, 22, 0.27)',\n\t\tnamePlaceholder: 'rgba(249, 172, 22, 0.23)',\n\t\theadPlaceholder: 'rgba(249, 172, 22, 0.2)',\n\t\tpreviewBorder: 'rgba(249, 172, 22, 0.5)',\n\t\tbubbleBackground: 'rgba(249, 172, 22, 1)',\n\t\tfocusedBorderColor: 'rgba(249, 172, 22, 0.25)',\n\t\texpandedBorderColor: 'rgba(249, 172, 22, 1)',\n\t\tavatarImage: 'placeholder-avatar-orange.svg',\n\t},\n\tpurple: {\n\t\tname: 'purple',\n\t\tpickerColor: 'rgba(162, 139, 255, 1)',\n\t\theadBackground: 'rgba(162, 139, 255, 0.23)',\n\t\ttreeHeadBackground: 'rgba(162, 139, 255, 0.27)',\n\t\tnamePlaceholder: 'rgba(162, 139, 255, 0.23)',\n\t\theadPlaceholder: 'rgba(162, 139, 255, 0.2)',\n\t\tpreviewBorder: 'rgba(162, 139, 255, 0.5)',\n\t\tbubbleBackground: 'rgba(162, 139, 255, 1)',\n\t\tfocusedBorderColor: 'rgba(162, 139, 255, 0.25)',\n\t\texpandedBorderColor: 'rgba(162, 139, 255, 1)',\n\t\tavatarImage: 'placeholder-avatar-purple.svg',\n\t},\n\tpink: {\n\t\tname: 'pink',\n\t\tpickerColor: 'rgba(242, 126, 189, 1)',\n\t\theadBackground: 'rgba(242, 126, 189, 0.23)',\n\t\ttreeHeadBackground: 'rgba(242, 126, 189, 0.27)',\n\t\tnamePlaceholder: 'rgba(242, 126, 189, 0.23)',\n\t\theadPlaceholder: 'rgba(242, 126, 189, 0.2)',\n\t\tpreviewBorder: 'rgba(242, 126, 189, 0.5)',\n\t\tbubbleBackground: 'rgba(242, 126, 189, 1)',\n\t\tfocusedBorderColor: 'rgba(242, 126, 189, 0.25)',\n\t\texpandedBorderColor: 'rgba(242, 126, 189, 1)',\n\t\tavatarImage: 'placeholder-avatar-pink.svg',\n\t},\n});\n\nexport const getNodeColorSettings = (colorName: string, entityType: string): ?NodeColorSettingsType => {\n\tif (entityType !== EntityTypes.team)\n\t{\n\t\treturn null;\n\t}\n\n\treturn NodeColorsSettingsDict[colorName] ?? NodeColorsSettingsDict.blue;\n};\n"],"names":["getInvitedUserData","item","id","title","customData","nodeId","avatar","name","workPosition","role","memberRoles","employee","url","isInvited","getUserDataBySelectorItem","setLink","link","getLink","get","text","optionColor","Object","freeze","paletteBlue50","tokenClass","color","paletteGreen55","paletteRed40","accentAqua","accentTurquoise","paletteOrange40","lightBlue","extranetColor","whiteBase","getColorCode","colorKey","colorOption","document","body","getComputedStyle","getPropertyValue","EntityTypes","department","team","company","NodeColorsSettingsDict","blue","pickerColor","headBackground","treeHeadBackground","namePlaceholder","headPlaceholder","previewBorder","bubbleBackground","focusedBorderColor","expandedBorderColor","avatarImage","green","cyan","orange","purple","pink","getNodeColorSettings","colorName","entityType"],"mappings":"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"}