{"version":3,"file":"script.map.js","names":["this","BX","Disk","exports","ui_buttons","main_popup","disk_externalLink","disk_sharingLegacyPopup","InvalidTokenError","_Error","babelHelpers","inherits","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","wrapNativeSuper","Error","prototype","name","b64DecodeUnicode","str","decodeURIComponent","atob","replace","m","p","code","charCodeAt","toString","toUpperCase","length","base64UrlDecode","output","err","jwtDecode","token","options","pos","header","part","split","concat","decoded","e","message","JSON","parse","AccessLevel","DashboardFlow","SDKEvents","WebSDK","params","_a","_b","_c","_d","_e","_f","_g","_h","_j","accessLevel","canEditBoard","boardData","jwtParams","user_id","username","avatar_url","access_level","can_edit_board","webhook_url","document_id","download_link","session_id","file_name","readonly","editable","documentId","fileUrl","sessionId","fileName","console","error","boardParams","appUrl","encodeURIComponent","lang","partnerId","ui","colorTheme","openTemplatesModal","compactHeader","showCloseButton","dashboardFlow","undefined","exportAsFile","spinner","userKickable","confirmUserKick","appContainerDomain","window","location","origin","iframeEl","document","createElement","allow","addEventListener","destroy","bind","createClass","key","value","init","container","getElementById","containerId","src","createUrl","style","width","height","border","appendChild","FlipBoard","getBoardMethods","_this","tryToCloseBoard","Promise","resolve","reject","event","data","successCloseApp","errorCloseApp","contentWindow","postMessage","tryToCloseApp","renameBoard","successBoardRenamed","errorBoardRenamed","url","URL","searchParams","set","Date","now","listenBoardEvents","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","waitParams","setParams","boardChanged","events","onBoardChanged","onBoardRenamed","userIsKicked","onUserKicked","userConfirmKickFromBoard","onUserKickConfirmed","removeEventListener","Board","defineProperty","setupSharingButton","ButtonManager","createByUniqId","panelButtonUniqIds","setupSharing","bindEvents","menuWindow","getMenuWindow","extLinkOptions","getMenuItem","onclick","handleClickSharingByExternalLink","removeMenuItem","addMenuItem","sharingOptions","handleClickSharing","menuItem","close","dataset","shouldBlockExternalLinkFeature","eval","blockerExternalLinkFeature","ExternalLink","showPopup","id","LegacyPopup","showSharingDetailWithChangeRights","object","SDK","Flipchart","UI","Main","Sharing"],"sources":["script.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,KAAOF,KAAKC,GAAGC,MAAQ,CAAC,GAC/B,SAAUC,QAAQC,WAAWC,WAAWC,kBAAkBC,yBACvD,aAEA,IAAIC,kBAAiC,SAAUC,GAC7CC,aAAaC,SAASH,EAAmBC,GACzC,SAASD,IACPE,aAAaE,eAAeZ,KAAMQ,GAClC,OAAOE,aAAaG,0BAA0Bb,KAAMU,aAAaI,eAAeN,GAAmBO,MAAMf,KAAMgB,WACjH,CACA,OAAOR,CACT,CAPqC,CAOrBE,aAAaO,gBAAgBC,QAC7CV,kBAAkBW,UAAUC,KAAO,oBACnC,SAASC,iBAAiBC,GACxB,OAAOC,mBAAmBC,KAAKF,GAAKG,QAAQ,QAAQ,SAAUC,EAAGC,GAC/D,IAAIC,EAAOD,EAAEE,WAAW,GAAGC,SAAS,IAAIC,cACxC,GAAIH,EAAKI,OAAS,EAAG,CACnBJ,EAAO,IAAMA,CACf,CACA,MAAO,IAAMA,CACf,IACF,CACA,SAASK,gBAAgBX,GACvB,IAAIY,EAASZ,EAAIG,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KAClD,OAAQS,EAAOF,OAAS,GACtB,KAAK,EACH,MACF,KAAK,EACHE,GAAU,KACV,MACF,KAAK,EACHA,GAAU,IACV,MACF,QACE,MAAM,IAAIhB,MAAM,8CAEpB,IACE,OAAOG,iBAAiBa,EAC1B,CAAE,MAAOC,GACP,OAAOX,KAAKU,EACd,CACF,CACA,SAASE,UAAUC,EAAOC,GACxB,UAAWD,IAAU,SAAU,CAC7B,MAAM,IAAI7B,kBAAkB,4CAC9B,CACA8B,IAAYA,EAAU,CAAC,GACvB,IAAIC,EAAMD,EAAQE,SAAW,KAAO,EAAI,EACxC,IAAIC,EAAOJ,EAAMK,MAAM,KAAKH,GAC5B,UAAWE,IAAS,SAAU,CAC5B,MAAM,IAAIjC,kBAAkB,0CAA0CmC,OAAOJ,EAAM,GACrF,CACA,IAAIK,EACJ,IACEA,EAAUX,gBAAgBQ,EAC5B,CAAE,MAAOI,GACP,MAAM,IAAIrC,kBAAkB,qDAAqDmC,OAAOJ,EAAM,EAAG,MAAMI,OAAOE,EAAEC,QAAS,KAC3H,CACA,IACE,OAAOC,KAAKC,MAAMJ,EACpB,CAAE,MAAOC,GACP,MAAM,IAAIrC,kBAAkB,mDAAmDmC,OAAOJ,EAAM,EAAG,MAAMI,OAAOE,EAAEC,QAAS,KACzH,CACF,CAEA,IAAIG,aACJ,SAAWA,GACTA,EAAY,WAAa,UACzBA,EAAY,YAAc,WAC1BA,EAAY,YAAc,UAC3B,EAJD,CAIGA,cAAgBA,YAAc,CAAC,IAClC,IAAIC,eACJ,SAAWA,GACTA,EAAc,SAAW,OAC1B,EAFD,CAEGA,gBAAkBA,cAAgB,CAAC,IAEtC,IAAIC,WACJ,SAAWA,GACTA,EAAU,cAAgB,gBAC1BA,EAAU,aAAe,YACzBA,EAAU,gBAAkB,eAC5BA,EAAU,iBAAmB,gBAC7BA,EAAU,mBAAqB,kBAC/BA,EAAU,iBAAmB,gBAC7BA,EAAU,eAAiB,cAC3BA,EAAU,uBAAyB,sBACnCA,EAAU,qBAAuB,oBACjCA,EAAU,gBAAkB,eAC5BA,EAAU,4BAA8B,0BACzC,EAZD,CAYGA,YAAcA,UAAY,CAAC,IAE9B,IAAIC,OAAsB,WACxB,SAASA,EAAOC,GACd3C,aAAaE,eAAeZ,KAAMoD,GAClC,IAAIE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EACpC9D,KAAKqD,OAASA,EACd,IAAIU,EACJ,IAAIC,EACJ,IAAIC,EAAY,CAAC,EACjB,IAAIC,EAAY,CACdC,QAAS,GACTC,SAAU,GACVC,WAAY,GACZC,aAAc,OACdC,eAAgB,MAChBC,YAAa,GACbC,YAAa,GACbC,cAAe,GACfC,WAAY,GACZC,UAAW,IAEb,GAAIvB,EAAOhB,MAAO,CAChB,IACE6B,EAAY9B,UAAUiB,EAAOhB,OAC7B0B,EAAcG,EAAUI,eAAiB,OAASrB,YAAY4B,SAAW5B,YAAY6B,SACrFd,EAAeE,EAAUK,eACzBN,EAAUc,WAAab,EAAUO,YACjCR,EAAUe,QAAUd,EAAUQ,cAC9BT,EAAUgB,UAAYf,EAAUS,WAChCV,EAAUiB,SAAWhB,EAAUU,SACjC,CAAE,MAAO/B,GACPsC,QAAQC,MAAM,gBAChB,CACF,CACApF,KAAKqF,YAAc,CACjBC,OAAQC,mBAAmBlC,EAAOiC,QAClCvB,YAAaA,EACbC,aAAcA,EACd3B,MAAOgB,EAAOhB,MACdmD,KAAMnC,EAAOmC,MAAQ,KAErBC,UAAWpC,EAAOoC,WAAa,IAC/BC,GAAI,CACFC,aAAcrC,EAAKD,EAAOqC,MAAQ,MAAQpC,SAAY,OAAS,EAAIA,EAAGqC,aAAe,kBACrFC,uBAAwBrC,EAAKF,EAAOqC,MAAQ,MAAQnC,SAAY,OAAS,EAAIA,EAAGqC,oBAChFC,kBAAmBrC,EAAKH,EAAOqC,MAAQ,MAAQlC,SAAY,OAAS,EAAIA,EAAGqC,eAC3EC,oBAAqBrC,EAAKJ,EAAOqC,MAAQ,MAAQjC,SAAY,OAAS,EAAIA,EAAGqC,iBAC7EC,gBAAiBrC,EAAKL,EAAOqC,MAAQ,MAAQhC,SAAY,OAAS,EAAIA,EAAGqC,gBAAkBC,UAC3FC,eAAgBtC,EAAKN,EAAOqC,MAAQ,MAAQ/B,SAAY,OAAS,EAAIA,EAAGsC,gBAAkB,MAC1FC,SAAUtC,EAAKP,EAAOqC,MAAQ,MAAQ9B,SAAY,OAAS,EAAIA,EAAGsC,QAClEC,cAAetC,EAAKR,EAAOqC,MAAQ,MAAQ7B,SAAY,OAAS,EAAIA,EAAGsC,aACvEC,iBAAkBtC,EAAKT,EAAOqC,MAAQ,MAAQ5B,SAAY,OAAS,EAAIA,EAAGsC,iBAE5EC,mBAAoBC,OAAOC,SAASC,OACpCvC,UAAWA,GAEbjE,KAAKyG,SAAWC,SAASC,cAAc,UACvC3G,KAAKyG,SAASG,MAAQ,kCACtBN,OAAOO,iBAAiB,eAAgB7G,KAAK8G,QAAQC,KAAK/G,MAC5D,CACAU,aAAasG,YAAY5D,EAAQ,CAAC,CAChC6D,IAAK,OACLC,MAAO,SAASC,IACd,IAAIC,EAAYV,SAASW,eAAerH,KAAKqD,OAAOiE,aACpD,IAAKF,EAAW,CACdjC,QAAQC,MAAM,yDAA0DzC,OAAO3C,KAAKqD,OAAOiE,YAAa,yDACxG,MACF,CACAtH,KAAKyG,SAASc,IAAMvH,KAAKwH,YACzBxH,KAAKyG,SAASgB,MAAMC,MAAQ,OAC5B1H,KAAKyG,SAASgB,MAAME,OAAS,OAC7B3H,KAAKyG,SAASgB,MAAMG,OAAS,OAC7BR,EAAUS,YAAY7H,KAAKyG,UAC3BzG,KAAK6G,mBACLP,OAAOwB,UAAY9H,KAAK+H,iBAC1B,GACC,CACDd,IAAK,kBACLC,MAAO,SAASa,IACd,IAAIC,EAAQhI,KACZ,MAAO,CACLiI,gBAAiB,SAASA,IACxB,OAAO,IAAIC,SAAQ,SAAUC,EAASC,GACpC,IAAI9E,EACJgD,OAAOO,iBAAiB,WAAW,SAAUwB,GAC3C,IAAI/E,EAAIC,EACR,KAAMD,EAAK+E,EAAMC,QAAU,MAAQhF,SAAY,OAAS,EAAIA,EAAG+E,SAAWlF,UAAUoF,gBAAiB,CACnGJ,GACF,CACA,KAAM5E,EAAK8E,EAAMC,QAAU,MAAQ/E,SAAY,OAAS,EAAIA,EAAG8E,SAAWlF,UAAUqF,cAAe,CACjGJ,GACF,CACF,KACC9E,EAAK0E,EAAMvB,SAASgC,iBAAmB,MAAQnF,SAAY,OAAS,EAAIA,EAAGoF,YAAY,CACtFL,MAAOlF,UAAUwF,eAChB,IACL,GACF,EACAC,YAAa,SAASA,EAAYxH,GAChC,OAAO,IAAI8G,SAAQ,SAAUC,EAASC,GACpC,IAAI9E,EACJgD,OAAOO,iBAAiB,WAAW,SAAUwB,GAC3C,IAAI/E,EAAIC,EACR,KAAMD,EAAK+E,EAAMC,QAAU,MAAQhF,SAAY,OAAS,EAAIA,EAAG+E,SAAWlF,UAAU0F,oBAAqB,CACvGV,GACF,CACA,KAAM5E,EAAK8E,EAAMC,QAAU,MAAQ/E,SAAY,OAAS,EAAIA,EAAG8E,SAAWlF,UAAU2F,kBAAmB,CACrGV,GACF,CACF,KACC9E,EAAK0E,EAAMvB,SAASgC,iBAAmB,MAAQnF,SAAY,OAAS,EAAIA,EAAGoF,YAAY,CACtFL,MAAOlF,UAAUyF,YACjBN,KAAM,CACJlH,KAAMA,IAEP,IACL,GACF,EAGJ,GACC,CACD6F,IAAK,YACLC,MAAO,SAASM,IACd,IAAIuB,EAAM,IAAIC,IAAI,GAAGrG,OAAO3C,KAAKqD,OAAOiC,QAAQ3C,OAAO3C,KAAKqF,YAAYI,YAAc,IAAM,YAAc,KAC1GsD,EAAIE,aAAaC,IAAI,UAAW,QAChC,GAAIlJ,KAAKqF,YAAYK,GAAGE,mBAAoBmD,EAAIE,aAAaC,IAAI,gBAAiB,QAClF,GAAIlJ,KAAKqF,YAAYK,GAAGQ,SAAWlG,KAAKqF,YAAYK,GAAGQ,UAAY,UAAW6C,EAAIE,aAAaC,IAAI,UAAWlJ,KAAKqF,YAAYK,GAAGQ,SAClI6C,EAAIE,aAAaC,IAAI,KAAMC,KAAKC,MAAMtH,YACtC,OAAOiH,EAAIjH,UACb,GACC,CACDmF,IAAK,mBACLC,MAAO,SAASL,IACdP,OAAOO,iBAAiB,UAAW7G,KAAKqJ,kBAAkBtC,KAAK/G,MACjE,GACC,CACDiH,IAAK,oBACLC,MAAO,SAASmC,EAAkBhB,GAChC,IAAI/E,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIwF,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAChF,KAAM1G,EAAK+E,EAAMC,QAAU,MAAQhF,SAAY,OAAS,EAAIA,EAAG+E,SAAWlF,UAAU8G,WAAY,EAE7F1G,EAAKvD,KAAKyG,SAASgC,iBAAmB,MAAQlF,SAAY,OAAS,EAAIA,EAAGmF,YAAY,CACrFL,MAAOlF,UAAU+G,UACjB5B,KAAMtI,KAAKqF,aACV,IACL,CACA,KAAM7B,EAAK6E,EAAMC,QAAU,MAAQ9E,SAAY,OAAS,EAAIA,EAAG6E,SAAWlF,UAAUgH,aAAc,CAChG,IAAKzG,GAAMD,EAAKzD,KAAKqD,UAAY,MAAQI,SAAY,OAAS,EAAIA,EAAG2G,UAAY,MAAQ1G,SAAY,OAAS,EAAIA,EAAG2G,eAAgB,CACnIrK,KAAKqD,OAAO+G,OAAOC,gBACrB,CACF,CACA,KAAM1G,EAAK0E,EAAMC,QAAU,MAAQ3E,SAAY,OAAS,EAAIA,EAAG0E,SAAWlF,UAAU0F,oBAAqB,CACvG,IAAKhF,GAAMD,EAAK5D,KAAKqD,UAAY,MAAQO,SAAY,OAAS,EAAIA,EAAGwG,UAAY,MAAQvG,SAAY,OAAS,EAAIA,EAAGyG,eAAgB,CACnItK,KAAKqD,OAAO+G,OAAOE,iBAAiBhB,GAAMxF,EAAKuE,EAAMC,QAAU,MAAQxE,SAAY,OAAS,EAAIA,EAAGwE,QAAU,MAAQgB,SAAY,OAAS,EAAIA,EAAGlI,OAAS,GAC5J,CACF,CACA,KAAMmI,EAAKlB,EAAMC,QAAU,MAAQiB,SAAY,OAAS,EAAIA,EAAGlB,SAAWlF,UAAUoH,aAAc,CAChG,IAAKd,GAAMD,EAAKxJ,KAAKqD,UAAY,MAAQmG,SAAY,OAAS,EAAIA,EAAGY,UAAY,MAAQX,SAAY,OAAS,EAAIA,EAAGe,aAAc,EAChIb,GAAMD,EAAK1J,KAAKqD,UAAY,MAAQqG,SAAY,OAAS,EAAIA,EAAGU,UAAY,MAAQT,SAAY,OAAS,EAAIA,EAAGa,cACnH,CACF,CACA,KAAMZ,EAAKvB,EAAMC,QAAU,MAAQsB,SAAY,OAAS,EAAIA,EAAGvB,SAAWlF,UAAUsH,yBAA0B,CAC5G,IAAKX,GAAMD,EAAK7J,KAAKqD,UAAY,MAAQwG,SAAY,OAAS,EAAIA,EAAGO,UAAY,MAAQN,SAAY,OAAS,EAAIA,EAAGY,oBAAqB,EACvIV,GAAMD,EAAK/J,KAAKqD,UAAY,MAAQ0G,SAAY,OAAS,EAAIA,EAAGK,UAAY,MAAQJ,SAAY,OAAS,EAAIA,EAAGU,qBACnH,CACF,CACF,GACC,CACDzD,IAAK,UACLC,MAAO,SAASJ,IACdR,OAAOqE,oBAAoB,UAAW3K,KAAKqJ,kBAC7C,KAEF,OAAOjG,CACT,CA9K0B,GAgL1B,IAAIwH,MAAqB,WACvB,SAASA,MAAMtI,GACb5B,aAAaE,eAAeZ,KAAM4K,OAClClK,aAAamK,eAAe7K,KAAM,qBAAsB,MACxDU,aAAamK,eAAe7K,KAAM,OAAQ,MAC1CA,KAAK8K,mBAAqB1K,WAAW2K,cAAcC,eAAe1I,EAAQ2I,mBAAmBC,cAC7FlL,KAAKsI,KAAOhG,EAAQ2B,UACpBjE,KAAKmL,YACP,CACAzK,aAAasG,YAAY4D,MAAO,CAAC,CAC/B3D,IAAK,aACLC,MAAO,SAASiE,IACd,GAAInL,KAAK8K,mBAAoB,CAC3B,IAAIM,EAAapL,KAAK8K,mBAAmBO,gBACzC,IAAIC,EAAiBF,EAAWG,YAAY,YAAYjJ,QACxDgJ,EAAeE,QAAUxL,KAAKyL,iCAAiC1E,KAAK/G,MACpEoL,EAAWM,eAAe,YAC1BN,EAAWO,YAAYL,GACvB,IAAIM,EAAiBR,EAAWG,YAAY,WAAWjJ,QACvDsJ,EAAeJ,QAAUxL,KAAK6L,mBAAmB9E,KAAK/G,MACtDoL,EAAWM,eAAe,WAC1BN,EAAWO,YAAYC,EACzB,CACF,GACC,CACD3E,IAAK,mCACLC,MAAO,SAASuE,iCAAiCpD,MAAOyD,UACtD9L,KAAK8K,mBAAmBO,gBAAgBU,QACxC,GAAID,SAASE,QAAQC,+BAAgC,CACnDC,KAAKJ,SAASE,QAAQG,4BACtB,MACF,CACA7L,kBAAkB8L,aAAaC,UAAUrM,KAAKsI,KAAKgE,GACrD,GACC,CACDrF,IAAK,qBACLC,MAAO,SAAS2E,IACd7L,KAAK8K,mBAAmBO,gBAAgBU,SACxC,IAAIxL,wBAAwBgM,aAAcC,kCAAkC,CAC1EC,OAAQ,CACNH,GAAItM,KAAKsI,KAAKgE,GACdlL,KAAMpB,KAAKsI,KAAKlH,OAGtB,KAEF,OAAOwJ,KACT,CA/CyB,GAiDzB,IAAI8B,IAAMtJ,OAEVjD,QAAQyK,MAAQA,MAChBzK,QAAQuM,IAAMA,GAElB,EAhUA,CAgUG1M,KAAKC,GAAGC,KAAKyM,UAAY3M,KAAKC,GAAGC,KAAKyM,WAAa,CAAC,EAAG1M,GAAG2M,GAAG3M,GAAG4M,KAAK5M,GAAGC,KAAKD,GAAGC,KAAK4M","ignoreList":[]}