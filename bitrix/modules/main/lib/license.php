<? namespace Bitrix\Main;$GLOBALS['____1737245255']= array(base64_decode('Z'.'mlsZV9l'.'eGlzd'.'HM='),base64_decode('c3R'.'y'.'d'.'G91cHBl'.'cg=='),base64_decode('bW'.'Q1'),base64_decode(''.'bWQ1'),base64_decode(''.'aW5'.'fYXJyYX'.'k'.'='),base64_decode('aW5f'.'YXJy'.'YXk='),base64_decode('aW'.'5f'.'Y'.'XJyYXk'.'='),base64_decode(''.'ZGVmaW5lZA=='),base64_decode('ZG'.'Vm'.'aW5lZA=='),base64_decode('ZGVmaW5'.'l'.'Z'.'A=='),base64_decode(''.'ZmlsZ'.'V9leGl'.'zdHM='),base64_decode('ZmlsZV9leGlzdHM'.'='),base64_decode(''.'Z'.'mlsZV9'.'leGlz'.'dHM='),base64_decode(''.'Zml'.'sZV9le'.'G'.'lzd'.'H'.'M='),base64_decode('ZXh'.'wbG9kZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___226800492')){function ___226800492($_1082268015){static $_1084821367= false; if($_1084821367 == false) $_1084821367=array(''.'L2JpdHJpeC9saWNlbnNl'.'X2t'.'leS5waHA=','','',''.'R'.'EVNTw'.'==','REVNTw==','Qk'.'lUUklY','T'.'E'.'lDRU'.'5D'.'RQ'.'==','R'.'EV'.'NTw==','L2t'.'leV91cGRhd'.'G'.'Uuc'.'Ghw'.'P'.'2xpY2'.'Vuc2Vfa2V5PQ'.'==',''.'Jn'.'RvYmFza2V0PXk'.'mbGF'.'u'.'Zz0=','c'.'nU'.'=','a3o=',''.'Ynk=','aHR0cHM6'.'Ly9k'.'ZXYu'.'MWMtYml0cml4'.'Ln'.'J1'.'L2xlYXJuaW'.'5'.'nL2NvdXJzZS9pb'.'mRleC5waH'.'A/Q09VUlNFX0lEPTEzNSZM'.'RVNT'.'T05fSUQ9'.'MjU3'.'MjA'.'=','aHR0cHM'.'6L'.'y90cmFpbmluZ'.'y5iaXRya'.'Xgy'.'NC5j'.'b20'.'vc3'.'Vwc'.'G'.'9ydC'.'90'.'cm'.'Fpb'.'mluZ'.'y9jb3V'.'y'.'c2UvaW5kZX'.'gucG'.'hw'.'P0'.'N'.'PV'.'VJTRV'.'9JRD0x'.'Nzgm'.'TEV'.'TU09O'.'X0l'.'EP'.'TI'.'1OT'.'MyJ'.'kxFU1NP'.'Tl9'.'Q'.'Q'.'VRIPTE3'.'N'.'T'.'IwLjE3NTYyLjI1OT'.'MwLjI1OTM'.'y','cnU=','Y'.'nk=',''.'a3o=','Z'.'GU'.'=','Z'.'XU=','ZnI=','c'.'Gw=','a'.'X'.'Q=','dWs'.'=','ZXU=','Y29t',''.'ZW4=','R'.'EVNTw='.'=',''.'WQ='.'=','VE'.'lNRUxJTUlUX0'.'V'.'ESVRJT04=','WQ'.'='.'=','RU5'.'D'.'T0RF',''.'WQ==','U2l'.'0ZUV4cGlyZURhdGU=','bWFp'.'bg='.'=','fnN1c'.'H'.'B'.'vcnR'.'fZmluaXNoX2R'.'h'.'dGU=',''.'WS'.'1t'.'LWQ'.'=',''.'W'.'S1tLWQ'.'=','Y'.'ml'.'0cml4'.'MjQ=',''.'bWFpbg'.'==',''.'flB'.'BUkFNX0NMSUVOVF9MQ'.'U5H',''.'a'.'W50cmFuZXQ=','ZW4=','cn'.'U=','b'.'WFpbg==',''.'dm'.'VuZG9y','Yml0cml4X3Bvc'.'nRhbA==',''.'ZW4'.'=','MW'.'NfYml'.'0cm'.'l4X3Bvc'.'nRhb'.'A==','cn'.'U=','L2Jp'.'dHJpeC9'.'t'.'b2R1bGVzL21haW4'.'vbG'.'FuZy9'.'1YQ==','dWE=','L2J'.'pd'.'H'.'J'.'peC9t'.'b'.'2R1bGVzL'.'2'.'1'.'haW4vbGFuZy9ieQ='.'=','Ynk=','L2JpdH'.'J'.'pe'.'C9t'.'b2R1bGVzL2'.'1haW4vbGFu'.'Zy'.'9'.'r'.'e'.'g'.'==',''.'a'.'3o=',''.'L2JpdHJ'.'pe'.'C'.'9tb2R1b'.'GVzL'.'21ha'.'W'.'4vbGF'.'uZy9ydQ==','cn'.'U=','bWFpbg='.'=',''.'flBBUkF'.'N'.'X1'.'B'.'BUlRORV'.'JfSUQ=',''.'b'.'WFpbg==','UEFSQU1'.'f'.'TUFY'.'X1VTR'.'VJT','bWFp'.'bg==','fkNPVU5UX0VYVFJ'.'B','T'.'g==',''.'WQ==','ZXh0cmFuZXQ=','Q'.'U5EIFU'.'u'.'TEFTVF9MT0dJTiA+IA==',''.'QU5E'.'IFUuTEFTVF'.'9MT0dJ'.'T'.'iBJUyBOT'.'1QgTlVMTA==','aW50c'.'m'.'F'.'uZXQ=','ZXh'.'0'.'c'.'m'.'FuZXQ=','ZX'.'h0'.'cmFuZXRfZ3Jvd'.'XA=','bWFp'.'bg==','fm'.'xpY2Vuc2Vfbm'.'FtZQ==','b'.'WFpbg==','fmxp'.'Y2Vuc2'.'V'.'fY29kZXM=','','LA='.'=');return base64_decode($_1084821367[$_1082268015]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1258812213= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1258812213 === null){ $_752160893= Loader::getDocumentRoot(). ___226800492(0); $LICENSE_KEY= ___226800492(1); if($GLOBALS['____1737245255'][0]($_752160893)){ include($_752160893);} $this->_1258812213=($LICENSE_KEY == ___226800492(2) || $GLOBALS['____1737245255'][1]($LICENSE_KEY) == ___226800492(3)? ___226800492(4): $LICENSE_KEY);} return $this->_1258812213;} public function getHashLicenseKey(): string{ return $GLOBALS['____1737245255'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1737245255'][3](___226800492(5). $this->getKey(). ___226800492(6));} public function isDemoKey(): bool{ return $this->getKey() == ___226800492(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___226800492(8). $this->getHashLicenseKey(). ___226800492(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1730311352= $this->getRegion(); if($GLOBALS['____1737245255'][4]($_1730311352,[___226800492(10), ___226800492(11), ___226800492(12)])){ return ___226800492(13);} return ___226800492(14);} public function getRenewalLink(): string{ $_1730311352= $this->getRegion(); if($GLOBALS['____1737245255'][5]($_1730311352,[___226800492(15), ___226800492(16), ___226800492(17), ___226800492(18)])){ return self::URL_RENEWAL_LICENSE[$_1730311352];} if($GLOBALS['____1737245255'][6]($_1730311352,[___226800492(19), ___226800492(20), ___226800492(21), ___226800492(22), ___226800492(23)])){ return self::URL_RENEWAL_LICENSE[___226800492(24)];} return self::URL_RENEWAL_LICENSE[___226800492(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___226800492(26)];} public function isDemo(): bool{ return $GLOBALS['____1737245255'][7](___226800492(27)) && DEMO === ___226800492(28);} public function isTimeBound(): bool{ return $GLOBALS['____1737245255'][8](___226800492(29)) && TIMELIMIT_EDITION === ___226800492(30);} public function isEncoded(): bool{ return $GLOBALS['____1737245255'][9](___226800492(31)) && ENCODE === ___226800492(32);} public function getExpireDate():?Date{ $_975403840= (int)($GLOBALS[___226800492(33)] ?? min(34,0,11.333333333333)); if($_975403840>(126*2-252)){ return Date::createFromTimestamp($_975403840);} return null;} public function getSupportExpireDate():?Date{ $_975403840= Option::get(___226800492(34), ___226800492(35)); if(Date::isCorrect($_975403840, ___226800492(36))){ return new Date($_975403840, ___226800492(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___226800492(38))){ return \CBitrix24::getPortalZone();} $_1730311352= Option::get(___226800492(39), ___226800492(40)); if(!empty($_1730311352)){ return $_1730311352;} $_1730311352= $this->__1210453351(); if(!empty($_1730311352)){ return $_1730311352;} return $this->__497605565();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___226800492(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___226800492(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___226800492(43)];} private function __1210453351():?string{ $_1820552896= Option::get(___226800492(44), ___226800492(45)); if($_1820552896 === ___226800492(46)){ return ___226800492(47);} if($_1820552896 === ___226800492(48)){ return ___226800492(49);} return null;} private function __497605565():?string{ $_581107819= Application::getDocumentRoot(); if($GLOBALS['____1737245255'][10]($_581107819. ___226800492(50))){ return ___226800492(51);} if($GLOBALS['____1737245255'][11]($_581107819. ___226800492(52))){ return ___226800492(53);} if($GLOBALS['____1737245255'][12]($_581107819. ___226800492(54))){ return ___226800492(55);} if($GLOBALS['____1737245255'][13]($_581107819. ___226800492(56))){ return ___226800492(57);} return null;} public function getPartnerId(): int{ return (int)Option::get(___226800492(58), ___226800492(59),(1072/2-536));} public function getMaxUsers(): int{ return (int)Option::get(___226800492(60), ___226800492(61),(964-2*482));} public function isExtraCountable(): bool{ return Option::get(___226800492(62), ___226800492(63), ___226800492(64)) === ___226800492(65) && ModuleManager::isModuleInstalled(___226800492(66));} public function getActiveUsersCount(Date $_1747192047= null): int{ $_580499200= Application::getConnection(); $_2070645144=(962-2*481); if($_1747192047 !== null){  $_1240829033= ___226800492(67).$_580499200->getSqlHelper()->convertToDbDate($_1747192047);} else{  $_1240829033= ___226800492(68);} if(ModuleManager::isModuleInstalled(___226800492(69))){ $_1045453784="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1240829033}
			"; $_2070645144= (int)$_580499200->queryScalar($_1045453784); $_701426690= (int)Option::get(___226800492(70), ___226800492(71)); if($_701426690> min(180,0,60) && $this->isExtraCountable()){ $_1045453784="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_701426690}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1240829033}
							AND D.VALUE_ID IS NULL
					"; $_2070645144 += (int)$_580499200->queryScalar($_1045453784);}} return $_2070645144;}  public function getName(): string{ return Option::get(___226800492(72), ___226800492(73));}  public function getCodes(): array{ $_1458541610= Option::get(___226800492(74), ___226800492(75)); if($_1458541610 != ___226800492(76)){ return $GLOBALS['____1737245255'][14](___226800492(77), $_1458541610);} return[];}}?>