jn.define("bizproc/workflow/info",((t,o,e)=>{const{Color:s}=t("tokens");const{Loc:r}=t("loc");const{NotifyManager:a}=t("notify-manager");const{PureComponent:l}=t("layout/pure-component");const{WorkflowDetailsSkeleton:i}=t("bizproc/skeleton");const{WorkflowDetails:n}=t("bizproc/workflow/details");const{TaskDetails:d}=t("bizproc/task/details");class p extends l{static open(t,o=PageManager){o.openWidget("layout",{modal:true,titleParams:{text:t.title||r.getMessage("M_BP_WORKFLOW_INFO_WIDGET_TITLE"),textColor:s.base4.toHex(),type:"dialog"},backdrop:{mediumPositionPercent:90,onlyMediumPosition:true,swipeAllowed:true,swipeContentAllowed:true,horizontalSwipeAllowed:false,hideNavigationBar:false}}).then((e=>{e.showComponent(new p({uid:t.uid||null,workflowId:t.workflowId||null,parentLayout:o,layout:e,taskId:t.taskId||null,targetUserId:t.targetUserId||null,readOnlyTimeline:t.readOnlyTimeline||false,showNotifications:t.showNotifications||false}))})).catch((()=>{}))}constructor(t){super(t);this.state={workflowId:null,taskId:null}}componentDidMount(){super.componentDidMount();this.#t()}#t(){const t=this.props.targetUserId||0;BX.ajax.runAction("bizprocmobile.Workflow.loadWorkflowInfo",{data:{workflowId:this.props.workflowId,taskId:this.props.taskId,userId:t}}).then((t=>{if(t.data.taskId>0){this.setState({taskId:t.data.taskId})}this.setState({workflowId:t.data.workflowId})})).catch((t=>{if(Array.isArray(t.errors)){a.showErrors(t.errors);return}console.error(t.errors)}))}render(){if(this.state.taskId===null&&this.state.workflowId===null){return i()}if(this.state.taskId>0){return new d({uid:this.props.uid,parentLayout:this.props.parentLayout,layout:this.props.layout,taskId:this.state.taskId,workflowId:this.props.workflowId||null,targetUserId:this.props.targetUserId||null,readOnlyTimeline:this.props.readOnlyTimeline||false,showNotifications:this.props.showNotifications||false})}return new n({parentLayout:this.props.parentLayout,layout:this.props.layout,workflowId:this.state.workflowId})}}e.exports={WorkflowInfo:p}}));
//# sourceMappingURL=extension.map.js