{"version":3,"file":"title.bundle.js","sources":["../src/title-meta.js","../src/title.js"],"sourcesContent":["export const titleMeta = Object.freeze({\n\tid: 'title',\n});\n","import { GrowingTextArea } from 'tasks.v2.component.elements.growing-text-area';\nimport { Model } from 'tasks.v2.const';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { titleMeta } from './title-meta';\nimport './title.css';\n\n// @vue/component\nexport const Title = {\n\tname: 'TaskTitle',\n\tcomponents: {\n\t\tGrowingTextArea,\n\t},\n\tprops: {\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\ttitleMeta,\n\t\t};\n\t},\n\tcomputed: {\n\t\ttask(): TaskModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/getById`](this.taskId);\n\t\t},\n\t\tisEdit(): boolean\n\t\t{\n\t\t\treturn Number.isInteger(this.taskId) && this.taskId > 0;\n\t\t},\n\t\treadonly(): boolean\n\t\t{\n\t\t\treturn !this.task.rights.edit;\n\t\t},\n\t},\n\tmethods: {\n\t\thandleInput(title: string): void\n\t\t{\n\t\t\tif (!this.isEdit)\n\t\t\t{\n\t\t\t\tthis.updateTaskTitle(title);\n\t\t\t}\n\t\t},\n\t\thandleUpdate(title: string): void\n\t\t{\n\t\t\tthis.updateTaskTitle(title);\n\t\t},\n\t\tupdateTaskTitle(title: string): void\n\t\t{\n\t\t\tvoid taskService.update(\n\t\t\t\tthis.taskId,\n\t\t\t\t{ title },\n\t\t\t);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<GrowingTextArea\n\t\t\tclass=\"tasks-field-title\"\n\t\t\t:data-task-id=\"taskId\"\n\t\t\t:data-task-field-id=\"titleMeta.id\"\n\t\t\t:data-task-field-value=\"task.title\"\n\t\t\tdata-field-container\n\t\t\t:initialValue=\"task.title\"\n\t\t\t:placeholderValue=\"loc('TASKS_V2_TITLE_PLACEHOLDER')\"\n\t\t\t:readonly=\"disabled\"\n\t\t\t@input=\"handleInput\"\n\t\t\t@update=\"handleUpdate\"\n\t\t/>\n\t`,\n};\n"],"names":["titleMeta","Object","freeze","id","Title","name","components","GrowingTextArea","props","taskId","type","Number","String","required","disabled","Boolean","default","setup","computed","task","$store","getters","Model","Tasks","isEdit","isInteger","readonly","rights","edit","methods","handleInput","title","updateTaskTitle","handleUpdate","taskService","update","template"],"mappings":";;;;;;;;OAAaA,SAAS,GAAGC,MAAM,CAACC,MAAM,CAAC;GACtCC,EAAE,EAAE;CACL,CAAC,CAAC;;CCMF;AACA,OAAaC,KAAK,GAAG;GACpBC,IAAI,EAAE,WAAW;GACjBC,UAAU,EAAE;sBACXC;IACA;GACDC,KAAK,EAAE;KACNC,MAAM,EAAE;OACPC,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;OACtBC,QAAQ,EAAE;MACV;KACDC,QAAQ,EAAE;OACTJ,IAAI,EAAEK,OAAO;OACbC,OAAO,EAAE;;IAEV;GACDC,KAAK,GACL;KACC,OAAO;OACNjB;MACA;IACD;GACDkB,QAAQ,EAAE;KACTC,IAAI,GACJ;OACC,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,UAAS,CAAC,CAAC,IAAI,CAACd,MAAM,CAAC;MACjE;KACDe,MAAM,GACN;OACC,OAAOb,MAAM,CAACc,SAAS,CAAC,IAAI,CAAChB,MAAM,CAAC,IAAI,IAAI,CAACA,MAAM,GAAG,CAAC;MACvD;KACDiB,QAAQ,GACR;OACC,OAAO,CAAC,IAAI,CAACP,IAAI,CAACQ,MAAM,CAACC,IAAI;;IAE9B;GACDC,OAAO,EAAE;KACRC,WAAW,CAACC,KAAa,EACzB;OACC,IAAI,CAAC,IAAI,CAACP,MAAM,EAChB;SACC,IAAI,CAACQ,eAAe,CAACD,KAAK,CAAC;;MAE5B;KACDE,YAAY,CAACF,KAAa,EAC1B;OACC,IAAI,CAACC,eAAe,CAACD,KAAK,CAAC;MAC3B;KACDC,eAAe,CAACD,KAAa,EAC7B;OACC,KAAKG,iDAAW,CAACC,MAAM,CACtB,IAAI,CAAC1B,MAAM,EACX;SAAEsB;QAAO,CACT;;IAEF;GACDK,QAAQ,EAAG;;;;;;;;;;;;;;CAcZ,CAAC;;;;;;;;;"}