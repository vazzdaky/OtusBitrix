{"version":3,"file":"color.bundle.js","sources":["../src/color.js"],"sourcesContent":["export type ColorComponents = [number, number, number, number];\n\nexport class Color\n{\n\t#limit: number = 255;\n\t#components: ColorComponents;\n\n\tconstructor(color: string)\n\t{\n\t\tthis.#components = this.parse(color);\n\t}\n\n\ttoRgb(): string\n\t{\n\t\tconst [r, g, b, a] = this.#components;\n\n\t\treturn `rgb(${[r, g, b].map((x) => limitComponent(setComponentAlpha(x, a), this.#limit)).join(', ')})`;\n\t}\n\n\ttoRgba(): string\n\t{\n\t\tconst [r, g, b, a] = this.#components.map((x) => limitComponent(x, this.#limit));\n\n\t\treturn `rgba(${r}, ${g}, ${b}, ${a})`;\n\t}\n\n\tsetOpacity(alpha: number): Color\n\t{\n\t\tthis.#components[3] = alpha;\n\n\t\treturn this;\n\t}\n\n\tlimit(limit: number): Color\n\t{\n\t\tthis.#limit = limit;\n\n\t\treturn this;\n\t}\n\n\tisDark(): boolean\n\t{\n\t\tconst [r, g, b] = this.#components;\n\t\tconst brightness = (r * 299 + g * 587 + b * 114) / 1000;\n\n\t\treturn brightness < 170;\n\t}\n\n\tparse(color: string): ColorComponents\n\t{\n\t\tif (color.slice(0, 3) === 'rgb')\n\t\t{\n\t\t\tconst [r, g, b, a] = color.match(/\\d+(\\.\\d+)?/g).map((x) => parseFloat(x));\n\n\t\t\treturn [r, g, b, a ?? 1];\n\t\t}\n\n\t\tconst [r, g, b, a] = color.match(/\\w\\w/g).map((x) => parseInt(x, 16));\n\n\t\treturn [r, g, b, a ?? 1];\n\t}\n}\n\nconst setComponentAlpha = (x: number, a: number) => Math.round((a * (x / 255) + (1 - a)) * 255);\n\nconst limitComponent = (x: number, limit: number) => (x < limit ? x : limit);\n"],"names":["Color","constructor","color","parse","toRgb","r","g","b","a","map","x","limitComponent","setComponentAlpha","join","toRgba","setOpacity","alpha","limit","isDark","brightness","slice","match","parseFloat","parseInt","Math","round"],"mappings":";;;;;;;;;AAEA,CAAO,MAAMA,KAAK,CAClB;GAICC,WAAW,CAACC,KAAa,EACzB;KAAA;OAAA;OAAA,OAJiB;;KAAG;OAAA;OAAA;;KAKnB,4CAAI,8BAAe,IAAI,CAACC,KAAK,CAACD,KAAK,CAAC;;GAGrCE,KAAK,GACL;KACC,MAAM,CAACC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,2CAAG,IAAI,2BAAY;KAErC,OAAQ,OAAM,CAACH,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,CAACE,GAAG,CAAEC,CAAC,IAAKC,cAAc,CAACC,iBAAiB,CAACF,CAAC,EAAEF,CAAC,CAAC,0CAAE,IAAI,kBAAQ,CAAC,CAACK,IAAI,CAAC,IAAI,CAAE,GAAE;;GAGvGC,MAAM,GACN;KACC,MAAM,CAACT,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,GAAG,4CAAI,4BAAaC,GAAG,CAAEC,CAAC,IAAKC,cAAc,CAACD,CAAC,0CAAE,IAAI,kBAAQ,CAAC;KAEhF,OAAQ,QAAOL,CAAE,KAAIC,CAAE,KAAIC,CAAE,KAAIC,CAAE,GAAE;;GAGtCO,UAAU,CAACC,KAAa,EACxB;KACC,4CAAI,4BAAa,CAAC,CAAC,GAAGA,KAAK;KAE3B,OAAO,IAAI;;GAGZC,KAAK,CAACA,KAAa,EACnB;KACC,4CAAI,oBAAUA,KAAK;KAEnB,OAAO,IAAI;;GAGZC,MAAM,GACN;KACC,MAAM,CAACb,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,2CAAG,IAAI,2BAAY;KAClC,MAAMY,UAAU,GAAG,CAACd,CAAC,GAAG,GAAG,GAAGC,CAAC,GAAG,GAAG,GAAGC,CAAC,GAAG,GAAG,IAAI,IAAI;KAEvD,OAAOY,UAAU,GAAG,GAAG;;GAGxBhB,KAAK,CAACD,KAAa,EACnB;KACC,IAAIA,KAAK,CAACkB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,EAC/B;OACC,MAAM,CAACf,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,GAAGN,KAAK,CAACmB,KAAK,CAAC,cAAc,CAAC,CAACZ,GAAG,CAAEC,CAAC,IAAKY,UAAU,CAACZ,CAAC,CAAC,CAAC;OAE1E,OAAO,CAACL,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,WAADA,CAAC,GAAI,CAAC,CAAC;;KAGzB,MAAM,CAACH,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,GAAGN,KAAK,CAACmB,KAAK,CAAC,OAAO,CAAC,CAACZ,GAAG,CAAEC,CAAC,IAAKa,QAAQ,CAACb,CAAC,EAAE,EAAE,CAAC,CAAC;KAErE,OAAO,CAACL,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,WAADA,CAAC,GAAI,CAAC,CAAC;;CAE1B;CAEA,MAAMI,iBAAiB,GAAG,CAACF,CAAS,EAAEF,CAAS,KAAKgB,IAAI,CAACC,KAAK,CAAC,CAACjB,CAAC,IAAIE,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,GAAGF,CAAC,CAAC,IAAI,GAAG,CAAC;CAE/F,MAAMG,cAAc,GAAG,CAACD,CAAS,EAAEO,KAAa,KAAMP,CAAC,GAAGO,KAAK,GAAGP,CAAC,GAAGO,KAAM;;;;;;;;"}