{"version":3,"file":"task-card.bundle.js","sources":["../src/task-card-skeleton.js","../src/task-card.js"],"sourcesContent":["import { Dom, Tag } from 'main.core';\nimport { Circle, Line } from 'ui.system.skeleton';\n\nimport './task-card-skeleton.css';\n\nexport class TaskCardSkeleton\n{\n\t#layout: {\n\t\tcompactCardSkeleton: HTMLElement,\n\t};\n\n\tconstructor()\n\t{\n\t\tthis.#layout = {};\n\t}\n\n\trenderCompactCardSkeleton(): HTMLElement\n\t{\n\t\tthis.#layout.compactCardSkeleton = Tag.render`\n\t\t\t<div class=\"tasks-task-compact-card-skeleton\">\n\t\t\t\t<div class=\"tasks-task-compact-card-skeleton-fields\">\n\t\t\t\t\t<div class=\"tasks-task-compact-card-skeleton-fields-title\">\n\t\t\t\t\t\t${new Line({ width: 240, height: 18, borderRadius: 60 }).render()}\n\t\t\t\t\t\t<div class=\"tasks-task-card-skeleton-group --icons\">\n\t\t\t\t\t\t\t${new Circle({ size: 18 }).render()}\n\t\t\t\t\t\t\t${new Circle({ size: 18 }).render()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tasks-task-compact-card-skeleton-fields-description\">\n\t\t\t\t\t\t${new Line({ width: 80, height: 12, borderRadius: 60 }).render()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tasks-task-compact-card-skeleton-fields-list\">\n\t\t\t\t\t\t<div class=\"tasks-task-compact-card-skeleton-fields-list-row\">\n\t\t\t\t\t\t\t<div class=\"tasks-task-card-skeleton-group\">\n\t\t\t\t\t\t\t\t${new Line({ width: 100, height: 12, borderRadius: 60 }).render()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"tasks-task-card-skeleton-group\">\n\t\t\t\t\t\t\t\t${new Circle({ size: 22 }).render()}\n\t\t\t\t\t\t\t\t${new Line({ width: 130, height: 12, borderRadius: 60 }).render()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"tasks-task-compact-card-skeleton-fields-list-row\">\n\t\t\t\t\t\t\t<div class=\"tasks-task-card-skeleton-group\">\n\t\t\t\t\t\t\t\t${new Line({ width: 100, height: 12, borderRadius: 60 }).render()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"tasks-task-card-skeleton-group\">\n\t\t\t\t\t\t\t\t${new Circle({ size: 22 }).render()}\n\t\t\t\t\t\t\t\t${new Line({ width: 130, height: 12, borderRadius: 60 }).render()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-task-compact-card-skeleton-chips\">\n\t\t\t\t\t${new Line({ height: 34, borderRadius: 8 }).render()}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-task-compact-card-skeleton-footer\">\n\t\t\t\t\t<div class=\"tasks-task-card-skeleton-group\">\n\t\t\t\t\t\t${new Line({ width: 84, height: 34, borderRadius: 8 }).render()}\n\t\t\t\t\t\t${new Line({ width: 84, height: 34, borderRadius: 8 }).render()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style=\"margin-right: 6px;\">\n\t\t\t\t\t\t${new Line({ width: 97, height: 12, borderRadius: 60 }).render()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\treturn this.#layout.compactCardSkeleton;\n\t}\n\n\tremoveCompactCardSkeleton(): void\n\t{\n\t\tDom.remove(this.#layout.compactCardSkeleton);\n\t}\n}\n","import { Dom, Runtime, Tag, Type } from 'main.core';\nimport { EventEmitter, type BaseEvent } from 'main.core.events';\nimport { Popup, PopupManager } from 'main.popup';\n\nimport type { TaskCompactCard } from 'tasks.v2.application.task-compact-card';\nimport { TaskCardSkeleton } from './task-card-skeleton';\nimport './task-card.css';\n\nexport type Params = {\n\ttaskId?: number,\n\tgroupId?: number,\n\tdeadlineTs?: number,\n\tanalytics: AnalyticsParams,\n};\n\nexport type AnalyticsParams = {\n\tcontext: string,\n\tadditionalContext: string,\n\telement: string,\n};\n\nexport class TaskCard\n{\n\t#params: Params;\n\t#compactCardPopup: ?Popup = null;\n\t#layout: {\n\t\tpopupContainer: HTMLElement,\n\t\tcardContainer: HTMLElement,\n\t\tdragHandle: HTMLElement,\n\t};\n\n\t#taskCardSkeleton: TaskCardSkeleton;\n\t#taskCompactCard: ?TaskCompactCard = null;\n\n\tconstructor(params: Params = {})\n\t{\n\t\tthis.#params = params;\n\n\t\tthis.#layout = {};\n\n\t\tthis.#params.taskId = Type.isUndefined(this.#params.taskId) ? 0 : this.#params.taskId;\n\n\t\tthis.#taskCardSkeleton = new TaskCardSkeleton();\n\t}\n\n\tstatic async init(params: Params = {}): Promise\n\t{\n\t\tconst {\n\t\t\ttaskId = null,\n\t\t\tgroupId = null,\n\t\t\tdeadlineTs = null,\n\t\t\tanalytics = {},\n\t\t} = params;\n\n\t\tconst card = (taskId ? 'TaskFullCard' : 'TaskCompactCard');\n\t\tconst extension = {\n\t\t\tTaskFullCard: 'tasks.v2.application.task-full-card',\n\t\t\tTaskCompactCard: 'tasks.v2.application.task-compact-card',\n\t\t};\n\n\t\tconst exports = await Runtime.loadExtension([\n\t\t\t'tasks.v2.core',\n\t\t\textension[card],\n\t\t]);\n\n\t\treturn new (exports[card])({ taskId, groupId, deadlineTs, analytics });\n\t}\n\n\tshowCompactCard(): void\n\t{\n\t\tconst popupId = `tasks-compact-card-${this.#params.taskId}`;\n\n\t\tif (PopupManager.getPopupById(popupId))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#compactCardPopup = new Popup({\n\t\t\tid: popupId,\n\t\t\tcacheable: false,\n\t\t\twidth: 580,\n\t\t\tborderRadius: '16px',\n\t\t\tangle: false,\n\t\t\tcontent: this.#renderPopupContent(),\n\t\t\tcloseByEsc: false,\n\t\t\tautoHide: false,\n\t\t\tcloseIcon: false,\n\t\t\tnoAllPaddings: true,\n\t\t\tcontentBorderRadius: '8px',\n\t\t\tclassName: 'tasks-compact-card-popup',\n\t\t\tevents: {\n\t\t\t\tonPopupAfterClose: async (popup: Popup) => {\n\t\t\t\t\tawait this.#taskCompactCard.unmountCard();\n\n\t\t\t\t\tthis.#unsubscribe(this.#taskCompactCard);\n\n\t\t\t\t\tpopup.destroy();\n\t\t\t\t},\n\t\t\t\tonAfterPopupShow: async (popup: Popup) => {\n\t\t\t\t\tthis.#layout.popupContainer = popup.getPopupContainer();\n\n\t\t\t\t\tthis.#taskCompactCard = await TaskCard.init(this.#params);\n\n\t\t\t\t\tthis.#taskCardSkeleton.removeCompactCardSkeleton();\n\n\t\t\t\t\tawait this.#taskCompactCard.mountCard(this.#layout.cardContainer);\n\n\t\t\t\t\tDom.append(this.#renderDragHandle(), this.#layout.cardContainer);\n\n\t\t\t\t\tthis.#subscribe(this.#taskCompactCard);\n\t\t\t\t},\n\t\t\t},\n\t\t\toverlay: true,\n\t\t\tdraggable: {\n\t\t\t\telement: this.#renderDragHandle(),\n\t\t\t\trestrict: true,\n\t\t\t},\n\t\t});\n\n\t\tthis.#compactCardPopup.show();\n\t}\n\n\t#subscribe(taskCompactCard: TaskCompactCard): void\n\t{\n\t\tEventEmitter.subscribe('BX.Main.Popup:onShow', this.#handlePopupShow);\n\n\t\ttaskCompactCard.subscribe('closeCard', this.#closeCompactCard);\n\t\ttaskCompactCard.subscribe('openFullCard', this.#openFullCard);\n\t\ttaskCompactCard.subscribe('adjustPosition', this.#adjustPosition);\n\t\ttaskCompactCard.subscribe('showOverlay', this.#showOverlay);\n\t\ttaskCompactCard.subscribe('hideOverlay', this.#hideOverlay);\n\t}\n\n\t#unsubscribe(taskCompactCard: TaskCompactCard): void\n\t{\n\t\tEventEmitter.unsubscribe('BX.Main.Popup:onShow', this.#handlePopupShow);\n\n\t\ttaskCompactCard.unsubscribe('closeCard', this.#closeCompactCard);\n\t\ttaskCompactCard.unsubscribe('openFullCard', this.#openFullCard);\n\t\ttaskCompactCard.unsubscribe('adjustPosition', this.#adjustPosition);\n\t\ttaskCompactCard.unsubscribe('showOverlay', this.#showOverlay);\n\t\ttaskCompactCard.unsubscribe('hideOverlay', this.#hideOverlay);\n\t}\n\n\t#renderPopupContent(): HTMLElement\n\t{\n\t\tthis.#layout.cardContainer = Tag.render`\n\t\t\t<div class=\"tasks-task-compact-card-popup-content\">\n\t\t\t\t${this.#taskCardSkeleton.renderCompactCardSkeleton()}\n\t\t\t</div>\n\t\t`;\n\n\t\treturn this.#layout.cardContainer;\n\t}\n\n\t#renderDragHandle(): HTMLElement\n\t{\n\t\tthis.#layout.dragHandle ??= Tag.render`\n\t\t\t<div class=\"tasks-compact-card-popup-drag-handle\"></div>\n\t\t`;\n\n\t\treturn this.#layout.dragHandle;\n\t}\n\n\t#handlePopupShow = (event): void => {\n\t\tthis.#handlePopupShow.openedPopupsCount ??= 0;\n\n\t\tconst popup: Popup = event.getCompatData()[0];\n\n\t\tconst onClose = (): void => {\n\t\t\tpopup.unsubscribe('onClose', onClose);\n\t\t\tpopup.unsubscribe('onDestroy', onClose);\n\n\t\t\tthis.#handlePopupShow.openedPopupsCount--;\n\t\t\tif (this.#handlePopupShow.openedPopupsCount === 0)\n\t\t\t{\n\t\t\t\tDom.removeClass(this.#layout.dragHandle, '--disabled');\n\t\t\t}\n\t\t};\n\n\t\tpopup.subscribe('onClose', onClose);\n\t\tpopup.subscribe('onDestroy', onClose);\n\n\t\tthis.#handlePopupShow.openedPopupsCount++;\n\t\tDom.addClass(this.#layout.dragHandle, '--disabled');\n\t};\n\n\t#closeCompactCard = (): void => {\n\t\tthis.#compactCardPopup.close();\n\t};\n\n\t#openFullCard = async (baseEvent: BaseEvent): void => {\n\t\tconst { TaskFullCard } = await Runtime.loadExtension('tasks.v2.application.task-full-card');\n\n\t\tthis.#params.taskId = baseEvent.getData();\n\n\t\tawait (new TaskFullCard(this.#params)).showCard();\n\n\t\tthis.#closeCompactCard();\n\t};\n\n\t#adjustPosition = (baseEvent: BaseEvent = null): void => {\n\t\tconst { innerPopup, titleFieldHeight, animate } = baseEvent?.getData() ?? {};\n\t\tif (!innerPopup)\n\t\t{\n\t\t\tthis.#compactCardPopup.setOffset({\n\t\t\t\toffsetTop: 0,\n\t\t\t});\n\t\t\tthis.#compactCardPopup.adjustPosition({\n\t\t\t\tforceBindPosition: true,\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst innerPopupContainer = innerPopup.getPopupContainer();\n\n\t\tconst heightDifference = innerPopupContainer.offsetHeight - this.#layout.popupContainer.offsetHeight;\n\t\tconst popupPaddingTop = 20;\n\t\tconst offset = titleFieldHeight + heightDifference / 2 + popupPaddingTop * 2;\n\n\t\tDom.style(this.#layout.popupContainer, '--overlay-offset-top', `-${offset}px`);\n\t\tif (!animate)\n\t\t{\n\t\t\tthis.#compactCardPopup.adjustPosition({\n\t\t\t\tforceBindPosition: true,\n\t\t\t});\n\t\t\tDom.style(this.#layout.popupContainer, 'transition', 'none');\n\t\t\tsetTimeout(() => Dom.style(this.#layout.popupContainer, 'transition', null));\n\t\t}\n\t};\n\n\t#showOverlay = (): void => {\n\t\tthis.#compactCardPopup.adjustPosition({\n\t\t\tforceBindPosition: true,\n\t\t});\n\t\tDom.addClass(this.#compactCardPopup.getPopupContainer(), '--overlay');\n\t};\n\n\t#hideOverlay = (): void => {\n\t\tDom.removeClass(this.#compactCardPopup.getPopupContainer(), '--overlay');\n\t};\n}\n"],"names":["TaskCardSkeleton","constructor","renderCompactCardSkeleton","compactCardSkeleton","Tag","render","Line","width","height","borderRadius","Circle","size","removeCompactCardSkeleton","Dom","remove","TaskCard","params","event","openedPopupsCount","popup","getCompatData","onClose","unsubscribe","removeClass","dragHandle","subscribe","addClass","close","baseEvent","TaskFullCard","Runtime","loadExtension","taskId","getData","showCard","innerPopup","titleFieldHeight","animate","setOffset","offsetTop","adjustPosition","forceBindPosition","innerPopupContainer","getPopupContainer","heightDifference","offsetHeight","popupContainer","popupPaddingTop","offset","style","setTimeout","Type","isUndefined","init","groupId","deadlineTs","analytics","card","extension","TaskCompactCard","exports","showCompactCard","popupId","PopupManager","getPopupById","Popup","id","cacheable","angle","content","closeByEsc","autoHide","closeIcon","noAllPaddings","contentBorderRadius","className","events","onPopupAfterClose","unmountCard","destroy","onAfterPopupShow","mountCard","cardContainer","append","overlay","draggable","element","restrict","show","taskCompactCard","EventEmitter"],"mappings":"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"}