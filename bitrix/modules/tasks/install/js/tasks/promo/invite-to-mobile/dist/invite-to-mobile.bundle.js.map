{"version":3,"file":"invite-to-mobile.bundle.js","sources":["../src/invite-to-mobile.js"],"sourcesContent":["import { Loc } from 'main.core';\nimport { BannerDispatcher } from 'ui.banner-dispatcher';\nimport { MobilePromoter } from 'ui.mobile-promoter';\n\ntype RawInvitationToMobileData = {\n\tappLink: string,\n}\n\nexport class InviteToMobile\n{\n\t#appLink: string;\n\n\tconstructor(data: RawInvitationToMobileData)\n\t{\n\t\tthis.#appLink = data.appLink;\n\t}\n\n\tshow(): void\n\t{\n\t\tBannerDispatcher.normal.toQueue((onDone) => {\n\t\t\tconst promoter = this.#createMobilePromoter();\n\t\t\tconst popup = promoter.getPopup();\n\n\t\t\tpopup.subscribe('onAfterClose', (event) => {\n\t\t\t\tonDone();\n\t\t\t});\n\n\t\t\tpopup.show();\n\t\t});\n\t}\n\n\t#createMobilePromoter(): MobilePromoter\n\t{\n\t\treturn new MobilePromoter({\n\t\t\ttitle: Loc.getMessage('TASKS_PROMO_INVITE_TO_MOBILE_TITLE'),\n\t\t\tposition: {\n\t\t\t\tright: 83,\n\t\t\t\tbottom: 46,\n\t\t\t},\n\t\t\tqrContent: this.#appLink,\n\t\t\tanalytics: { c_section: 'tasks' },\n\t\t});\n\t}\n}\n"],"names":["InviteToMobile","constructor","data","appLink","show","BannerDispatcher","normal","toQueue","onDone","promoter","popup","getPopup","subscribe","event","MobilePromoter","title","Loc","getMessage","position","right","bottom","qrContent","analytics","c_section"],"mappings":";;;;;;CAEoD;CAAA;AAMpD,CAAO,MAAMA,cAAc,CAC3B;GAGCC,WAAW,CAACC,IAA+B,EAC3C;KAAA;OAAA;;KAAA;OAAA;OAAA;;KACC,4CAAI,wBAAYA,IAAI,CAACC,OAAO;;GAG7BC,IAAI,GACJ;KACCC,oCAAgB,CAACC,MAAM,CAACC,OAAO,CAAEC,MAAM,IAAK;OAC3C,MAAMC,QAAQ,2CAAG,IAAI,iDAAwB;OAC7C,MAAMC,KAAK,GAAGD,QAAQ,CAACE,QAAQ,EAAE;OAEjCD,KAAK,CAACE,SAAS,CAAC,cAAc,EAAGC,KAAK,IAAK;SAC1CL,MAAM,EAAE;QACR,CAAC;OAEFE,KAAK,CAACN,IAAI,EAAE;MACZ,CAAC;;CAeJ;CAAC,kCAXA;GACC,OAAO,IAAIU,gCAAc,CAAC;KACzBC,KAAK,EAAEC,aAAG,CAACC,UAAU,CAAC,oCAAoC,CAAC;KAC3DC,QAAQ,EAAE;OACTC,KAAK,EAAE,EAAE;OACTC,MAAM,EAAE;MACR;KACDC,SAAS,0CAAE,IAAI,qBAAS;KACxBC,SAAS,EAAE;OAAEC,SAAS,EAAE;;IACxB,CAAC;CACH;;;;;;;;"}