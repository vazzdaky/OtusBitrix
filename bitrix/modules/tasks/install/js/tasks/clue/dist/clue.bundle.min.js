this.BX=this.BX||{};(function(e,s,t,l,a){"use strict";var i=babelHelpers.classPrivateFieldLooseKey("targetElement");var r=babelHelpers.classPrivateFieldLooseKey("spotlight");class o{constructor(){Object.defineProperty(this,i,{writable:true,value:void 0});Object.defineProperty(this,r,{writable:true,value:null});if(new.target===o){throw new Error("This class is abstract and cannot be instantiated directly")}}getWidth(){return o.WIDTH}getAngleOffset(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i].offsetWidth/2}isAutoHide(){return true}setTargetElement(e){babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e}showLight(){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=new BX.SpotLight({targetElement:babelHelpers.classPrivateFieldLooseBase(this,i)[i],targetVertex:"middle-center",color:this.getSpotlightColor()});babelHelpers.classPrivateFieldLooseBase(this,r)[r].show()}close(){babelHelpers.classPrivateFieldLooseBase(this,r)[r].close()}getIconSrc(){return null}getSpotlightColor(){return null}getConditionColor(){return"primary"}getTitle(){}getText(){}}o.WIDTH=380;o.PATH_TO_IMAGES="/bitrix/js/tasks/clue/images/spot/";class b extends o{getWidth(){return 340}getIconSrc(){return null}getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_COPILOT_ADVICE_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_COPILOT_ADVICE_TEXT")}getSpotlightColor(){return"#8e52ec"}getConditionColor(){return"copilot"}}class c extends o{getIconSrc(){return`${o.PATH_TO_IMAGES}my-tasks.svg`}getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_MY_TASKS_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_MY_TASKS_TEXT")}}class n extends o{getIconSrc(){return`${o.PATH_TO_IMAGES}task-start.svg`}getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_TASK_START_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_TASK_START_TEXT")}}class d extends o{getTitle(){return a.Loc.getMessage("TASKS_CLUE_FLASH_COMMENT_COUNTER_TITLE")}getText(){return a.Loc.getMessage("TASKS_CLUE_FLASH_COMMENT_COUNTER_TEXT")}}var L=babelHelpers.classPrivateFieldLooseKey("params");var T=babelHelpers.classPrivateFieldLooseKey("spot");var g=babelHelpers.classPrivateFieldLooseKey("guide");class h{constructor(e){Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,T,{writable:true,value:null});Object.defineProperty(this,g,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e}show(e,l){babelHelpers.classPrivateFieldLooseBase(this,T)[T]=e;babelHelpers.classPrivateFieldLooseBase(this,T)[T].setTargetElement(l);babelHelpers.classPrivateFieldLooseBase(this,g)[g]=new s.Guide({id:babelHelpers.classPrivateFieldLooseBase(this,L)[L].id,autoSave:babelHelpers.classPrivateFieldLooseBase(this,L)[L].autoSave===true,overlay:babelHelpers.classPrivateFieldLooseBase(this,L)[L].overlay===true,simpleMode:true,onEvents:true,steps:[{target:l,iconSrc:babelHelpers.classPrivateFieldLooseBase(this,T)[T].getIconSrc(),title:babelHelpers.classPrivateFieldLooseBase(this,T)[T].getTitle(),text:babelHelpers.classPrivateFieldLooseBase(this,T)[T].getText(),position:"bottom",condition:{top:true,bottom:false,color:babelHelpers.classPrivateFieldLooseBase(this,T)[T].getConditionColor()}}]});t.BannerDispatcher.normal.toQueue((e=>{const s=babelHelpers.classPrivateFieldLooseBase(this,g)[g].getPopup();const t=()=>{babelHelpers.classPrivateFieldLooseBase(this,T)[T].close();e()};s.setWidth(babelHelpers.classPrivateFieldLooseBase(this,T)[T].getWidth());s.setAngle({offset:babelHelpers.classPrivateFieldLooseBase(this,T)[T].getAngleOffset()});s.setAutoHide(babelHelpers.classPrivateFieldLooseBase(this,T)[T].isAutoHide());s.subscribe("onClose",t);s.subscribe("onDestroy",t);babelHelpers.classPrivateFieldLooseBase(this,T)[T].showLight();babelHelpers.classPrivateFieldLooseBase(this,g)[g].start()}))}isShown(){if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]===null){return false}return babelHelpers.classPrivateFieldLooseBase(this,g)[g].getPopup().isShown()}close(){if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]){babelHelpers.classPrivateFieldLooseBase(this,g)[g].close()}if(babelHelpers.classPrivateFieldLooseBase(this,T)[T]){babelHelpers.classPrivateFieldLooseBase(this,T)[T].close()}}adjustPosition(e){if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]){babelHelpers.classPrivateFieldLooseBase(this,g)[g].getPopup().setBindElement(e);babelHelpers.classPrivateFieldLooseBase(this,g)[g].getPopup().adjustPosition()}if(babelHelpers.classPrivateFieldLooseBase(this,T)[T]){babelHelpers.classPrivateFieldLooseBase(this,T)[T].setTargetElement(e);babelHelpers.classPrivateFieldLooseBase(this,T)[T].showLight()}}}h.SPOT=Object.freeze({MY_TASKS:new c,TASK_START:new n,FLOW_COPILOT_ADVICE:new b,COMMENT_COUNTER:new d});e.Clue=h})(this.BX.Tasks=this.BX.Tasks||{},BX.UI.Tour,BX.UI,BX,BX);
//# sourceMappingURL=clue.bundle.map.js