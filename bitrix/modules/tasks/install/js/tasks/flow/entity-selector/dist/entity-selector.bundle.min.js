this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};(function(e,t,r,n,a,i){"use strict";var o;function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function t(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,r,n){return t[r]=n}}function u(e,t,r,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new L(a||[]);return n(o,"_invoke",{value:F(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function v(){}var b={};c(b,i,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(_([])));w&&w!==t&&r.call(w,i)&&(b=w);var g=v.prototype=p.prototype=Object.create(b);function m(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,i,o,s){var l=h(e[n],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==babelHelpers["typeof"](u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,o,s)}),(function(e){a("throw",e,o,s)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return a("throw",e,o,s)}))}s(l.arg)}var i;n(this,"_invoke",{value:function e(r,n){function o(){return new t((function(e,t){a(r,n,e,t)}))}return i=i?i.then(o,o):o()}})}function F(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return S()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=T(o,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=h(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function T(e,t){var r=t.method,n=e.iterator[r];if(undefined===n)return t.delegate=null,"throw"===r&&e.iterator["return"]&&(t.method="return",t.arg=undefined,T(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=h(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function H(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=undefined,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:undefined,done:!0}}return d.prototype=v,n(g,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new E(u(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(H),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=undefined)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var n=this;function a(e,r){return s.type="throw",s.arg=t,n.next=e,r&&(n.method="next",n.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function e(t,n){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=n,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),f},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),H(n),f}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var i=a.arg;H(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=undefined),f}},e}function l(e,t){c(e,t);t.add(e)}function c(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function u(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var h=new WeakSet;var f=new WeakSet;var p=function(e){babelHelpers.inherits(t,e);function t(){var e;var r;babelHelpers.classCallCheck(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++){a[i]=arguments[i]}r=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(a)));l(babelHelpers.assertThisInitialized(r),f);l(babelHelpers.assertThisInitialized(r),h);return r}babelHelpers.createClass(t,[{key:"render",value:function e(){var t=n.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<span class="ui-selector-footer-link ui-selector-footer-link-add">\n\t\t\t\t',"\n\t\t\t</span>\n\t\t"])),n.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_FOOTER_CREATE_FLOW"));n.Event.bind(t,"click",u(this,h,d).bind(this));return t}}]);return t}(a.DefaultFooter);function d(){var e=this;return new Promise((function(t){top.BX.Runtime.loadExtension("tasks.flow.edit-form").then(function(){var r=babelHelpers.asyncToGenerator(s().mark((function r(n){var a;return s().wrap((function r(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return n.EditForm.createInstance({flowName:"",isFeatureTrialable:e.getOption("isFeatureTrialable"),context:e.getOption("context","")});case 2:a=i.sent;a.subscribe("afterSave",(function(e){t(e.getData())}));a.subscribe("afterClose",(function(e){t()}));case 5:case"end":return i.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())})).then((function(t){if(t){u(e,f,v).call(e,t)}}))}function v(e){var t=this.getDialog().addItem({tabs:"recents",id:e.id,entityId:"flow",title:e.name,customData:{groupId:e.groupId,templateId:e.templateId}});t.select()}var b=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,[{key:"onSelectFlow",value:function e(t,r){throw new Error("AbstractToggleFlow: Calling an abstract changeFlow() without implementation")}},{key:"onDeselectFlow",value:function e(t,r){throw new Error("AbstractToggleFlow: Calling an abstract unChangeFlow() without implementation")}},{key:"showConfirmChangeFlow",value:function e(t,r){BX.UI.Dialogs.MessageBox.show({message:n.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_CHANGE_MESSAGE"),title:n.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_CHANGE_TITLE"),onOk:function e(){t()},okCaption:n.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_CHANGE_OK_CAPTION"),cancelCallback:function e(t){r();t.close()},cancelCaption:n.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_CHANGE_CANCEL_CAPTION"),buttons:BX.UI.Dialogs.MessageBoxButtons.OK_CANCEL,popupOptions:{events:{onPopupClose:function e(){r()}}}})}}]);return e}();var y=Object.freeze({taskView:"taskView",taskEdit:"taskEdit"});function w(e,t){m(e,t);t.add(e)}function g(e,t,r){m(e,t);t.set(e,r)}function m(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function E(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var F=new WeakMap;var T=new WeakSet;var P=new WeakSet;var H=new WeakSet;var L=new WeakSet;var _=new WeakSet;var S=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));w(babelHelpers.assertThisInitialized(r),_);w(babelHelpers.assertThisInitialized(r),L);w(babelHelpers.assertThisInitialized(r),H);w(babelHelpers.assertThisInitialized(r),P);w(babelHelpers.assertThisInitialized(r),T);g(babelHelpers.assertThisInitialized(r),F,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),F,e);return r}babelHelpers.createClass(t,[{key:"onSelectFlow",value:function e(t,r){var n=t.getTarget();var a=t.getData().item;var i=parseInt(a.id,10);var o=parseInt(a.customData.get("groupId"),10);var s=parseInt(a.customData.get("templateId"),10);window.onbeforeunload=function(){};if(E(this,H,I).call(this)){var l=function e(){n.getItem(r).select(true)};this.showConfirmChangeFlow(E(this,T,k).bind(this,i,o,s),l);return}E(this,T,k).call(this,i,o,s)}},{key:"onDeselectFlow",value:function e(t,r){if(r!==null){return}window.onbeforeunload=function(){};if(E(this,H,I).call(this)){var n=function e(){var r=t.getTarget();var n=t.getData().item;r.getItem(n).select(true)};this.showConfirmChangeFlow(E(this,P,x).bind(this),n);return}E(this,P,x).call(this)}}]);return t}(b);function k(e,t,r){var n=new BX.Uri(decodeURI(location.href));n.setQueryParam("FLOW_ID",e);n.setQueryParam("GROUP_ID",t);if(r){n.setQueryParam("TEMPLATE",r)}else{n.removeQueryParam("TEMPLATE")}n.removeQueryParam("EVENT_TYPE");n.removeQueryParam("EVENT_TASK_ID");n.removeQueryParam("EVENT_OPTIONS");n.removeQueryParam("NO_FLOW");var a=babelHelpers.classPrivateFieldGet(this,F).immutable;Object.entries(a).forEach((function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],a=t[1];n.setQueryParam(r,a)}));var i=babelHelpers.classPrivateFieldGet(this,F).isFeatureTrialable?"Y":"N";n.setQueryParams({ta_cat:"task_operations",ta_sec:"flows",ta_sub:"flows_grid",ta_el:"flow_selector",p1:"isDemo_".concat(i)});location.href=n.getPath()+n.getQuery()}function x(){var e=new BX.Uri(decodeURI(location.href));e.removeQueryParam("FLOW_ID","GROUP_ID","TEMPLATE");e.removeQueryParam("EVENT_TYPE");e.removeQueryParam("EVENT_TASK_ID");e.removeQueryParam("EVENT_OPTIONS");e.setQueryParam("NO_FLOW",1);var t=babelHelpers.classPrivateFieldGet(this,F).immutable;Object.entries(t).forEach((function(t){var r=babelHelpers.slicedToArray(t,2),n=r[0],a=r[1];e.setQueryParam(n,a)}));location.href=e.getPath()+e.getQuery()}function I(){var e=E(this,L,G).call(this).trim();var t=e.length>0;if(!t){return false}var r=Number(babelHelpers.classPrivateFieldGet(this,F).taskId)===0;if(r){return true}var n=babelHelpers.classPrivateFieldGet(this,F).taskDescription;return!E(this,_,O).call(this,n).includes(e)}function G(){var e=document.querySelector('[data-bx-id="task-edit-editor-container"]');var t=n.Dom.style(e.querySelector(".bxhtmled-iframe-cnt"),"display")==="none";if(t){var r=e.querySelector(".bxhtmled-textarea");return r.value}var a=e.querySelector(".bx-editor-iframe").contentDocument;return a.body.innerText}function O(e){return e.replaceAll(/\[(user|icon|color|size|url|b|i|u|s)(?:=[^\]]*)?](.*?)\[\/\1]/gi,"$2")}function C(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */C=function t(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function c(e,t,r,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),s=new H(a||[]);return n(o,"_invoke",{value:E(e,r,s)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function f(){}function p(){}function d(){}var v={};l(v,i,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(L([])));y&&y!==t&&r.call(y,i)&&(v=y);var w=d.prototype=f.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){function a(n,i,o,s){var l=u(e[n],e,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==babelHelpers["typeof"](h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,o,s)}),(function(e){a("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return a("throw",e,o,s)}))}s(l.arg)}var i;n(this,"_invoke",{value:function e(r,n){function o(){return new t((function(e,t){a(r,n,e,t)}))}return i=i?i.then(o,o):o()}})}function E(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return _()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=F(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function F(e,t){var r=t.method,n=e.iterator[r];if(undefined===n)return t.delegate=null,"throw"===r&&e.iterator["return"]&&(t.method="return",t.arg=undefined,F(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function H(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=undefined,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:undefined,done:!0}}return p.prototype=d,n(w,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},g(m.prototype),l(m.prototype,o,(function(){return this})),e.AsyncIterator=m,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new m(c(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,H.prototype={constructor:H,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=undefined)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var n=this;function a(e,r){return s.type="throw",s.arg=t,n.next=e,r&&(n.method="next",n.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function e(t,n){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=n,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),h},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var i=a.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=undefined),h}},e}function N(e,t){A(e,t);t.add(e)}function W(e,t,r){A(e,t);t.set(e,r)}function A(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function j(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var D=new WeakMap;var B=new WeakMap;var M=new WeakSet;var R=new WeakSet;var z=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));N(babelHelpers.assertThisInitialized(r),R);N(babelHelpers.assertThisInitialized(r),M);W(babelHelpers.assertThisInitialized(r),D,{writable:true,value:void 0});W(babelHelpers.assertThisInitialized(r),B,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),D,e.taskId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),B,e.flowId);return r}babelHelpers.createClass(t,[{key:"onSelectFlow",value:function e(t,r){var n=t.getData().item;var a=parseInt(n.id,10);j(this,R,Y).call(this,a)}},{key:"onDeselectFlow",value:function e(t,r){var n=t.getData().item;var a=parseInt(n.id,10);if(a===babelHelpers.classPrivateFieldGet(this,B)){j(this,M,X).call(this)}}}]);return t}(b);function X(){j(this,R,Y).call(this,0)}function Y(e){return Q.apply(this,arguments)}function Q(){Q=babelHelpers.asyncToGenerator(C().mark((function e(t){var r;return C().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r=babelHelpers.classPrivateFieldGet(this,B);babelHelpers.classPrivateFieldSet(this,B,t);a.prev=2;a.next=5;return n.ajax.runAction("tasks.task.update",{data:{taskId:babelHelpers.classPrivateFieldGet(this,D),fields:{FLOW_ID:t}}});case 5:a.next=10;break;case 7:a.prev=7;a.t0=a["catch"](2);babelHelpers.classPrivateFieldSet(this,B,r);case 10:case"end":return a.stop()}}),e,this,[[2,7]])})));return Q.apply(this,arguments)}var U=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"get",value:function e(t){switch(t.scope){case y.taskView:return new z(t);default:return new S(t)}}}]);return e}();function K(e,t){q(e,t);t.add(e)}function V(e,t,r){q(e,t);t.set(e,r)}function q(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function $(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var J=new WeakMap;var Z=new WeakMap;var ee=new WeakMap;var te=new WeakMap;var re=new WeakMap;var ne=new WeakSet;var ae=new WeakSet;var ie=new WeakSet;var oe=function(){function e(t){babelHelpers.classCallCheck(this,e);K(this,ie);K(this,ae);K(this,ne);V(this,J,{writable:true,value:void 0});V(this,Z,{writable:true,value:void 0});V(this,ee,{writable:true,value:void 0});V(this,te,{writable:true,value:void 0});V(this,re,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,ee,t.flowParams);babelHelpers.classPrivateFieldSet(this,J,t.isExtranet);babelHelpers.classPrivateFieldSet(this,Z,U.get(t.toggleFlowParams));babelHelpers.classPrivateFieldSet(this,re,null)}babelHelpers.createClass(e,[{key:"show",value:function e(r){if(!babelHelpers.classPrivateFieldGet(this,ee).isFeatureEnabled){t.InfoHelper.show(babelHelpers.classPrivateFieldGet(this,ee).limitCode);return}if(!babelHelpers.classPrivateFieldGet(this,te)){$(this,ne,se).call(this,r)}babelHelpers.classPrivateFieldGet(this,te).show()}}]);return e}();function se(e){var t=this;babelHelpers.classPrivateFieldSet(this,te,new a.Dialog({targetNode:e,width:350,height:400,multiple:false,dropdownMode:true,enableSearch:true,cacheable:true,preselectedItems:[["flow",babelHelpers.classPrivateFieldGet(this,ee).id]],entities:[{id:"flow",options:{onlyActive:true},dynamicLoad:true,dynamicSearch:true}],events:{"Item:onBeforeSelect":function e(r){var n=r.getTarget();babelHelpers.classPrivateFieldSet(t,re,n.getSelectedItems()[0])},"Item:onBeforeDeselect":function e(r){var n=r.getTarget();babelHelpers.classPrivateFieldSet(t,re,n.getSelectedItems()[0]);n.hide()},"Item:onSelect":function e(r){babelHelpers.classPrivateFieldGet(t,Z).onSelectFlow(r,babelHelpers.classPrivateFieldGet(t,re))},"Item:onDeselect":function e(r){setTimeout((function(){var e;var n=r.getTarget();babelHelpers.classPrivateFieldGet(t,Z).onDeselectFlow(r,(e=n.getSelectedItems()[0])!==null&&e!==void 0?e:null)}),100)},"Search:onItemCreateAsync":function e(r){return new Promise((function(e){var n=r.getData(),a=n.searchQuery;var i=r.getTarget();$(t,ae,le).call(t,a.getQuery()).then((function(t){if(t){var r=i.addItem({tabs:"recents",id:t.id,entityId:"flow",title:t.name,customData:{groupId:t.groupId,templateId:t.templateId}});r.select();e()}else{e()}}))}))}},searchOptions:{allowCreateItem:!babelHelpers.classPrivateFieldGet(this,J),footerOptions:{label:BX.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_CREATE_BUTTON")}},recentTabOptions:{stub:"BX.Tasks.Flow.EmptyStub",stubOptions:{showArrow:!babelHelpers.classPrivateFieldGet(this,J)}}}));if(!babelHelpers.classPrivateFieldGet(this,J)){babelHelpers.classPrivateFieldSet(this,te,$(this,ie,ce).call(this,babelHelpers.classPrivateFieldGet(this,te)))}return babelHelpers.classPrivateFieldGet(this,te)}function le(e){var t=this;return n.Runtime.loadExtension("tasks.flow.edit-form").then((function(r){var n;return r.EditForm.createInstance({flowName:e,isFeatureTrialable:babelHelpers.classPrivateFieldGet(t,ee).isFeatureTrialable,context:(n=babelHelpers.classPrivateFieldGet(t,ee).context)!==null&&n!==void 0?n:""})})).then((function(e){return new Promise((function(t){e.subscribe("afterSave",(function(e){t(e.getData())}));e.subscribe("afterClose",(function(){t()}))}))}))}function ce(e){var t;var r=new p(babelHelpers.classPrivateFieldGet(this,te),{isFeatureTrialable:babelHelpers.classPrivateFieldGet(this,ee).isFeatureTrialable,context:(t=babelHelpers.classPrivateFieldGet(this,ee).context)!==null&&t!==void 0?t:""});e.setFooter(r.render());return e}var ue,he;function fe(e,t){de(e,t);t.add(e)}function pe(e,t,r){de(e,t);t.set(e,r)}function de(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function ve(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var be=new WeakMap;var ye=new WeakSet;var we=function(e){babelHelpers.inherits(t,e);function t(e,r){var n;babelHelpers.classCallCheck(this,t);n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e,r));fe(babelHelpers.assertThisInitialized(n),ye);pe(babelHelpers.assertThisInitialized(n),be,{writable:true,value:true});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(n),be,r.showArrow);return n}babelHelpers.createClass(t,[{key:"render",value:function e(){return n.Tag.render(ue||(ue=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="tasks-flow__stub-container">\n\t\t\t    <div class="tasks-flow__stub-title">\n\t\t\t        ','\n\t\t\t    </div>\n\t\t\t    <div class="tasks-flow__stub-icon"></div>\n\t\t\t    <div class="tasks-flow__stub-subtitle-container">\n\t\t\t    \t','\n\t\t\t    \t<div class="tasks-flow__stub-subtitle-text">\n\t\t\t\t \t\t',"\n\t\t\t\t\t</div>\n\t\t\t    </div>\n\t\t\t</div>\n\t\t"])),n.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_STUB_TITLE"),babelHelpers.classPrivateFieldGet(this,be)?ve(this,ye,ge).call(this):"",n.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_STUB_SUBTITLE",{"[helpdesklink]":'<a class="tasks-flow__stub-link" href="javascript:top.BX.Helper.show(\'redirect=detail&code=21307026\');">',"[/helpdesklink]":"</a>"}))}}]);return t}(a.BaseStub);function ge(){return n.Tag.render(he||(he=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="tasks-flow__stub-subtitle-arrow"></div>\n\t\t'])))}function me(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */me=function t(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function e(t,r,n){return t[r]=n}}function c(e,t,r,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),s=new H(a||[]);return n(o,"_invoke",{value:E(e,r,s)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function f(){}function p(){}function d(){}var v={};l(v,i,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(L([])));y&&y!==t&&r.call(y,i)&&(v=y);var w=d.prototype=f.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){function a(n,i,o,s){var l=u(e[n],e,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==babelHelpers["typeof"](h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,o,s)}),(function(e){a("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return a("throw",e,o,s)}))}s(l.arg)}var i;n(this,"_invoke",{value:function e(r,n){function o(){return new t((function(e,t){a(r,n,e,t)}))}return i=i?i.then(o,o):o()}})}function E(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return _()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=F(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function F(e,t){var r=t.method,n=e.iterator[r];if(undefined===n)return t.delegate=null,"throw"===r&&e.iterator["return"]&&(t.method="return",t.arg=undefined,F(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function H(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=undefined,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:undefined,done:!0}}return p.prototype=d,n(w,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},g(m.prototype),l(m.prototype,o,(function(){return this})),e.AsyncIterator=m,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new m(c(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,H.prototype={constructor:H,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=undefined)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var n=this;function a(e,r){return s.type="throw",s.arg=t,n.next=e,r&&(n.method="next",n.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function e(t,n){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=n,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),h},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var i=a.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=undefined),h}},e}function Ee(e,t){Te(e,t);t.add(e)}function Fe(e,t,r){Te(e,t);t.set(e,r)}function Te(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Pe(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var He=new WeakMap;var Le=new WeakMap;var _e=new WeakMap;var Se=new WeakMap;var ke=new WeakMap;var xe=new WeakMap;var Ie=new WeakMap;var Ge=new WeakSet;var Oe=new WeakSet;var Ce=new WeakSet;var Ne=new WeakSet;var We=new WeakSet;var Ae=new WeakSet;var je=new WeakSet;var De=function(){function e(t){babelHelpers.classCallCheck(this,e);Ee(this,je);Ee(this,Ae);Ee(this,We);Ee(this,Ne);Ee(this,Ce);Ee(this,Oe);Ee(this,Ge);Fe(this,He,{writable:true,value:void 0});Fe(this,Le,{writable:true,value:void 0});Fe(this,_e,{writable:true,value:void 0});Fe(this,Se,{writable:true,value:void 0});Fe(this,ke,{writable:true,value:void 0});Fe(this,xe,{writable:true,value:void 0});Fe(this,Ie,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,Le,t.taskId);babelHelpers.classPrivateFieldSet(this,_e,t.isExtranet);babelHelpers.classPrivateFieldSet(this,Se,t.canEditTask);babelHelpers.classPrivateFieldSet(this,ke,t.toggleFlowParams);babelHelpers.classPrivateFieldSet(this,xe,t.flowParams);babelHelpers.classPrivateFieldSet(this,He,i.ButtonManager.createFromNode(document.getElementById("tasks-flow-selector-container")));Pe(this,Ge,Be).call(this)}babelHelpers.createClass(e,[{key:"show",value:function e(t){if(!n.Type.isDomNode(t)){throw new TypeError("HTMLElement for render flow entity selector not found")}Pe(this,We,Qe).call(this)}}]);return e}();function Be(){BX.PULL.subscribe({type:BX.PullClient.SubscriptionType.Server,moduleId:"tasks",command:"task_update",callback:Pe(this,Oe,Me).bind(this)})}function Me(e,t,r){return Re.apply(this,arguments)}function Re(){Re=babelHelpers.asyncToGenerator(me().mark((function e(t,r,a){var i;var o,s,l,c,u;return me().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:o=parseInt(t===null||t===void 0?void 0:t.TASK_ID,10)===babelHelpers.classPrivateFieldGet(this,Le);s=!n.Type.isUndefined(t.AFTER.FLOW_ID);if(!(!o||!s)){r.next=4;break}return r.abrupt("return");case 4:l=Number((i=t.AFTER.FLOW_ID)!==null&&i!==void 0?i:0);c=babelHelpers.classPrivateFieldGet(this,xe).id!==l;if(c){r.next=8;break}return r.abrupt("return");case 8:u={id:0,name:"",efficiency:0};if(!(l!==0)){r.next=13;break}r.next=12;return Pe(this,Ce,ze).call(this,l);case 12:u=r.sent;case 13:Pe(this,Ne,Ye).call(this,u);case 14:case"end":return r.stop()}}),e,this)})));return Re.apply(this,arguments)}function ze(e){return Xe.apply(this,arguments)}function Xe(){Xe=babelHelpers.asyncToGenerator(me().mark((function e(t){var r;return me().wrap((function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return n.ajax.runAction("tasks.flow.Flow.get",{data:{flowId:t}});case 2:r=a.sent;return a.abrupt("return",r.data);case 4:case"end":return a.stop()}}),e)})));return Xe.apply(this,arguments)}function Ye(e){babelHelpers.classPrivateFieldGet(this,xe).id=e.id;babelHelpers.classPrivateFieldGet(this,xe).name=e.name;babelHelpers.classPrivateFieldGet(this,xe).efficiency=e.efficiency;this.show(babelHelpers.classPrivateFieldGet(this,He).getContainer())}function Qe(){var e=this;babelHelpers.classPrivateFieldGet(this,He).addClass("tasks-flow__selector");babelHelpers.classPrivateFieldGet(this,He).setDropdown(true);babelHelpers.classPrivateFieldGet(this,He).setState(babelHelpers.classPrivateFieldGet(this,Se)?"":i.ButtonState.DISABLED);babelHelpers.classPrivateFieldGet(this,He).setIcon(babelHelpers.classPrivateFieldGet(this,xe).isFeatureEnabled?"":i.ButtonIcon.LOCK,"right");if(babelHelpers.classPrivateFieldGet(this,xe).id){babelHelpers.classPrivateFieldGet(this,He).setText(babelHelpers.classPrivateFieldGet(this,xe).name);if(babelHelpers.classPrivateFieldGet(this,He).hasAirDesign()){babelHelpers.classPrivateFieldGet(this,He).setStyle(i.AirButtonStyle.SELECTION);babelHelpers.classPrivateFieldGet(this,He).setRightCounter(null);babelHelpers.classPrivateFieldGet(this,He).setRightCounter({color:i.ButtonCounterColor.PRIMARY,style:i.ButtonCounterStyle.FILLED_INVERTED,value:babelHelpers.classPrivateFieldGet(this,xe).efficiency,useSymbolPercent:true,maxValue:100})}else{babelHelpers.classPrivateFieldGet(this,He).setColor(i.ButtonColor.SECONDARY_LIGHT);babelHelpers.classPrivateFieldGet(this,He).setCounter(Pe(this,je,Ke).call(this,babelHelpers.classPrivateFieldGet(this,xe).efficiency))}babelHelpers.classPrivateFieldGet(this,He).setMaxWidth(350)}else{babelHelpers.classPrivateFieldGet(this,He).setText(n.Loc.getMessage("TASKS_FLOW_ENTITY_SELECTOR_FLOW_EMPTY"));if(babelHelpers.classPrivateFieldGet(this,He).hasAirDesign()){babelHelpers.classPrivateFieldGet(this,He).setStyle(i.AirButtonStyle.OUTLINE);babelHelpers.classPrivateFieldGet(this,He).setRightCounter(null)}else{babelHelpers.classPrivateFieldGet(this,He).setColor(i.ButtonColor.BASE_LIGHT);babelHelpers.classPrivateFieldGet(this,He).setCounter(null)}babelHelpers.classPrivateFieldGet(this,He).setMaxWidth(null);if(babelHelpers.classPrivateFieldGet(this,Se)===false){babelHelpers.classPrivateFieldGet(this,He).addClass("--hide")}else{babelHelpers.classPrivateFieldGet(this,He).removeClass("--hide")}}if(babelHelpers.classPrivateFieldGet(this,Se)){n.Event.bind(babelHelpers.classPrivateFieldGet(this,He).getContainer(),"click",(function(){var t;babelHelpers.classPrivateFieldSet(e,Ie,(t=babelHelpers.classPrivateFieldGet(e,Ie))!==null&&t!==void 0?t:Pe(e,Ae,Ue).call(e));babelHelpers.classPrivateFieldGet(e,Ie).show(babelHelpers.classPrivateFieldGet(e,He).getContainer())}))}}function Ue(){babelHelpers.classPrivateFieldSet(this,Ie,new oe({isExtranet:babelHelpers.classPrivateFieldGet(this,_e),toggleFlowParams:babelHelpers.classPrivateFieldGet(this,ke),flowParams:babelHelpers.classPrivateFieldGet(this,xe)}));return babelHelpers.classPrivateFieldGet(this,Ie)}function Ke(e){return"".concat(e,"%")}e.EmptyStub=we;e.Footer=p;e.EntitySelector=De})(this.BX.Tasks.Flow=this.BX.Tasks.Flow||{},BX.UI,BX.Event,BX,BX.UI.EntitySelector,BX.UI);
//# sourceMappingURL=entity-selector.bundle.map.js