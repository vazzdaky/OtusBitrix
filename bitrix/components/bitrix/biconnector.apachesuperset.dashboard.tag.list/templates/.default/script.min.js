(function(e,t,n,a,i,o){"use strict";function r(e,t){c(e,t);t.add(e)}function s(e,t,n){c(e,t);t.set(e,n)}function c(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function l(e,t,n){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return n}var d=new WeakMap;var E=new WeakSet;var T=new WeakSet;var g=new WeakSet;var u=new WeakSet;var S=function(){function e(i){var o,c=this;babelHelpers.classCallCheck(this,e);r(this,u);r(this,g);r(this,T);r(this,E);s(this,d,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,d,(o=BX.Main.gridManager.getById(i.gridId))===null||o===void 0?void 0:o.instance);t.EditableColumnManager.init(i.gridId,[{name:"TITLE",saveEndpoint:"biconnector.dashboardTag.rename",onValueCheck:function e(t){if(t.trim()===""){a.UI.Notification.Center.notify({content:n.Loc.getMessage("BICONNECTOR_APACHE_SUPERSET_DASHBOARD_TAG_LIST_TITLE_ERROR_EMPTY")});return false}return true},onSave:function e(t,i){var o=n.Loc.getMessage("BICONNECTOR_APACHE_SUPERSET_DASHBOARD_TAG_LIST_RENAME_TITLE_SUCCESS",{"#NEW_TITLE#":n.Text.encode(i)});a.UI.Notification.Center.notify({content:o});l(c,g,C).call(c,t,i)}}])}babelHelpers.createClass(e,[{key:"getGrid",value:function e(){return babelHelpers.classPrivateFieldGet(this,d)}},{key:"deleteTag",value:function e(t){var a=this;var o=this.getGrid();var r=o.getRows().getById(t);var s=r.getEditData().DASHBOARD_COUNT;if(!s){l(this,T,f).call(this,t);return}var c=i.MessageBox.confirm(n.Loc.getMessage("BICONNECTOR_APACHE_SUPERSET_DASHBOARD_TAG_LIST_DELETE_POPUP"),(function(){l(a,T,f).call(a,t);c.close()}),n.Loc.getMessage("BICONNECTOR_APACHE_SUPERSET_DASHBOARD_TAG_LIST_DELETE_POPUP_YES"))}}]);return e}();function _(e){if(e[0]&&e[0].message){BX.UI.Notification.Center.notify({content:n.Text.encode(e[0].message)})}}function f(e){var t=this;return n.ajax.runAction("biconnector.dashboardTag.delete",{data:{id:e}}).then((function(){t.getGrid().removeRow(e,null,null,(function(){l(t,u,I).call(t,e)}));var i=n.Loc.getMessage("BICONNECTOR_APACHE_SUPERSET_DASHBOARD_TAG_LIST_DELETE_SUCCESS");a.UI.Notification.Center.notify({content:i})}))["catch"]((function(e){if(e.errors){l(t,E,_).call(t,e.errors)}}))}function C(e,t){if(o.SidePanel.Instance){o.SidePanel.Instance.postMessage(window,"BIConnector.Superset.DashboardTagGrid:onTagChange",{tagId:e,title:t})}}function I(e){if(o.SidePanel.Instance){o.SidePanel.Instance.postMessage(window,"BIConnector.Superset.DashboardTagGrid:onTagDelete",{tagId:e})}}n.Reflection.namespace("BX.BIConnector").SupersetDashboardTagGridManager=S})(this.window=this.window||{},BX.BIConnector.Grid,BX,BX,BX.UI.Dialogs,BX);
//# sourceMappingURL=script.map.js