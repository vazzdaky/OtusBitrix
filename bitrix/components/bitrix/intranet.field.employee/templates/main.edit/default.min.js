this.BX=this.BX||{};this.BX.Default=this.BX.Default||{};this.BX.Default.Field=this.BX.Default.Field||{};(function(e){"use strict";BX.Default.Field.Employee=function(e){this.init(e)};BX.Default.Field.Employee.prototype={init:function(e){this.selectorName=e["selectorName"]||"";this.isMultiple=e["isMultiple"]||"";this.fieldNameJs=e["fieldNameJs"]||"";this.selectControl=this.createSelectControl();this.entity=this.createEntity();BX.addCustomEvent(this.selectControl,"onUpdateValue",BX.delegate(this.updateHandler,this));BX.addCustomEvent(this.entity,"BX.Intranet.UserFieldEmployeeEntity:remove",BX.delegate(this.removeHandler,this))},createSelectControl:function(){return new BX.Intranet.UserFieldEmployee(this.selectorName,{multiple:this.isMultiple})},createEntity:function(){return new BX.Intranet.UserFieldEmployeeEntity({field:`field_${this.selectorName}`,multiple:this.isMultiple})},updateHandler:function(e,t){if(this.isMultiple){let l=[];for(let i=0;i<e.length;i++){l.push({name:t[e[i]].name,value:e[i]})}this.setData(l)}else{if(e===null){this.setData(null)}else{this.setData({name:t[e].name,value:e})}}},removeHandler:function(e){let t=this.isMultiple?[]:null;let l=this.isMultiple?[]:null;for(let i=0;i<e.length;i++){let s={name:e[i].label,value:e[i].value};if(!this.isMultiple){l=s.value;t=s;break}else{l.push(s.value);t.push(s)}}this.selectControl.setValue(l);this.setData(t)},setData:function(e){let t=BX(`value_${this.selectorName}`);let l="";if(this.isMultiple){if(e.length>0){let t=[];for(let i=0;i<e.length;i++){t.push({value:e[i].value,label:e[i].name});l+=`<input type="hidden" name="${this.fieldNameJs}" value="${BX.util.htmlspecialchars(e[i].value)}">`}this.entity.setData(t)}else{this.entity.removeSquares()}}else{if(e!==null){this.entity.setData(e.name,e.value);l+=`<input type="hidden" name="${this.fieldNameJs}" value="${BX.util.htmlspecialchars(e.value)}">`}else{this.entity.removeSquares()}}if(l.length<=0){l=`<input type="hidden" name="${this.fieldNameJs}" value="">`}t.innerHTML=l;BX.defer((function(){BX.fireEvent(t.firstChild,"change")}))()}}})(this.BX.Default.Field.String=this.BX.Default.Field.String||{});
//# sourceMappingURL=default.map.js