this.BX=this.BX||{},function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){babelHelpers.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};babelHelpers.classCallCheck(this,e),this.categoryName=t,this.commonAdditionalInfo=n}return babelHelpers.createClass(e,null,[{key:"sendAnalytics",value:function(n,o){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.sendData(r({tool:e.toolName,c_section:e.sectionName,category:n,event:o},c))}},{key:"buildAppIdForAnalyticRequest",value:function(t){if(!t)return"reportAppId_empty";var n=o(e,e,i).call(e,t);return"reportAppId_".concat(n)}},{key:"buildScopeForAnalyticRequest",value:function(t){if(!t)return"scope_empty";var n=o(e,e,i).call(e,t);return"scope_".concat(n)}}]),e}();function i(e){for(var t=e.split("_"),n=1;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join("")}babelHelpers.defineProperty(c,"toolName","BI_Builder"),babelHelpers.defineProperty(c,"sectionName","BI_Builder");var a=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){top.BX.addCustomEvent(top,"crm-analytics-source-edit",e.handleSourceEdit)}},{key:"handleSourceEdit",value:function(t){e.editEvent=t}},{key:"handleSliderClose",value:function(){var t;e.editEvent.row&&(null!==(t=e.editEvent.row)&&void 0!==t&&t.ID?e.editEvent.updated?c.sendAnalytics("web","connection_edit",{status:"success",p1:"connectionType_".concat(e.editEvent.row.CODE)}):e.editEvent.added?c.sendAnalytics("web","connection",{status:"success",p1:"connectionType_".concat(e.editEvent.row.CODE)}):c.sendAnalytics("web","connection_edit",{status:"error",p1:"connectionType_".concat(e.editEvent.row.CODE)}):c.sendAnalytics("web","connection",{status:"error",p1:"connectionType_".concat(e.editEvent.row.CODE)}),e.editEvent={})}}]),e}();babelHelpers.defineProperty(a,"editEvent",{}),e.ApacheSupersetAnalytics=c,e.TrackingAnalyticsHandler=a}(this.BX.BIConnector=this.BX.BIConnector||{},BX.UI.Analytics);
