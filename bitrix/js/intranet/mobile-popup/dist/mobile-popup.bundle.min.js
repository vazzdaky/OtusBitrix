this.BX=this.BX||{};(function(e,s,t,i,l,a,o){"use strict";let r=e=>e,n,b,p;var c=babelHelpers.classPrivateFieldLooseKey("popup");var d=babelHelpers.classPrivateFieldLooseKey("authLink");var u=babelHelpers.classPrivateFieldLooseKey("isTablet");var v=babelHelpers.classPrivateFieldLooseKey("continueInMobileBrowserClicked");var h=babelHelpers.classPrivateFieldLooseKey("continueInTabletBrowserClicked");var P=babelHelpers.classPrivateFieldLooseKey("collabId");var L=babelHelpers.classPrivateFieldLooseKey("isCollaber");var B=babelHelpers.classPrivateFieldLooseKey("isMobileContinueButton");var H=babelHelpers.classPrivateFieldLooseKey("isTabletContinueButton");var F=babelHelpers.classPrivateFieldLooseKey("position");var f=babelHelpers.classPrivateFieldLooseKey("calculatePopupPosition");var _=babelHelpers.classPrivateFieldLooseKey("createPopup");var m=babelHelpers.classPrivateFieldLooseKey("getContent");var w=babelHelpers.classPrivateFieldLooseKey("renderImage");var y=babelHelpers.classPrivateFieldLooseKey("renderFooter");var E=babelHelpers.classPrivateFieldLooseKey("renderContinueButton");var g=babelHelpers.classPrivateFieldLooseKey("renderHideButton");var I=babelHelpers.classPrivateFieldLooseKey("sendAnalytics");class T extends i.EventEmitter{constructor(){super();Object.defineProperty(this,I,{value:M});Object.defineProperty(this,g,{value:R});Object.defineProperty(this,E,{value:j});Object.defineProperty(this,y,{value:S});Object.defineProperty(this,w,{value:K});Object.defineProperty(this,m,{value:O});Object.defineProperty(this,_,{value:C});Object.defineProperty(this,f,{value:N});Object.defineProperty(this,c,{writable:true,value:null});Object.defineProperty(this,d,{writable:true,value:null});Object.defineProperty(this,u,{writable:true,value:false});Object.defineProperty(this,v,{writable:true,value:false});Object.defineProperty(this,h,{writable:true,value:false});Object.defineProperty(this,P,{writable:true,value:null});Object.defineProperty(this,L,{writable:true,value:false});Object.defineProperty(this,B,{writable:true,value:false});Object.defineProperty(this,H,{writable:true,value:false});Object.defineProperty(this,F,{writable:true,value:void 0});this.setEventNamespace("BX.Intranet.MobilePopup");babelHelpers.classPrivateFieldLooseBase(this,d)[d]=s.Extension.getSettings("intranet.mobile-popup").authLink;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=s.Extension.getSettings("intranet.mobile-popup").collabId;babelHelpers.classPrivateFieldLooseBase(this,L)[L]=s.Extension.getSettings("intranet.mobile-popup").isCollaber;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=s.Extension.getSettings("intranet.mobile-popup").continueInMobileBrowserClicked;babelHelpers.classPrivateFieldLooseBase(this,h)[h]=s.Extension.getSettings("intranet.mobile-popup").continueInTabletBrowserClicked;babelHelpers.classPrivateFieldLooseBase(this,B)[B]=s.Extension.getSettings("intranet.mobile-popup").isMobileContinueButton;babelHelpers.classPrivateFieldLooseBase(this,H)[H]=s.Extension.getSettings("intranet.mobile-popup").isTabletContinueButton;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=window.screen.width>=768;babelHelpers.classPrivateFieldLooseBase(this,I)[I]("push_mobapp_show")}show(){if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]&&babelHelpers.classPrivateFieldLooseBase(this,h)[h]||!babelHelpers.classPrivateFieldLooseBase(this,u)[u]&&babelHelpers.classPrivateFieldLooseBase(this,v)[v]){return}o.BannerDispatcher.critical.toQueue((e=>{var t,i,l;babelHelpers.classPrivateFieldLooseBase(this,f)[f]();(i=(t=babelHelpers.classPrivateFieldLooseBase(this,c))[c])!=null?i:t[c]=babelHelpers.classPrivateFieldLooseBase(this,_)[_](e);(l=babelHelpers.classPrivateFieldLooseBase(this,c)[c])==null?void 0:l.show();document.body.scrollIntoView();s.Event.bind(window,"touchmove",this.stopToucEvent,{passive:false})}))}stopToucEvent(e){e.preventDefault()}}function N(){const e=602;const s=babelHelpers.classPrivateFieldLooseBase(this,u)[u]?375:321;const t=window.screen.height-e>=0?(window.screen.height-e)/2:0;const i=window.screen.width-s>=0?(window.screen.width-s)/2:0;babelHelpers.classPrivateFieldLooseBase(this,F)[F]={minHeight:e,minWidth:s,offsetTop:t-window.screen.height,offsetLeft:i}}function C(e){return t.PopupWindowManager.create("main-intranet-mobile-popup",document.body,{overlay:true,borderRadius:"24px",contentBorderRadius:"24px",closeIcon:false,minWidth:babelHelpers.classPrivateFieldLooseBase(this,F)[F].minWidth,minHeight:babelHelpers.classPrivateFieldLooseBase(this,F)[F].minHeight,content:babelHelpers.classPrivateFieldLooseBase(this,m)[m](),disableScroll:true,padding:0,offsetTop:babelHelpers.classPrivateFieldLooseBase(this,F)[F].offsetTop,offsetLeft:babelHelpers.classPrivateFieldLooseBase(this,F)[F].offsetLeft,className:"intranet-mobile-popup-wrapper",events:{onClose:()=>{this.emit("onClose");e()}}})}function O(){return s.Tag.render(n||(n=r`
			<div class="intranet-mobile-popup">
				<div class="intranet-mobile-popup__content-wrapper">
					<div class="intranet-mobile-popup__main">
						<span class="intranet-mobile-popup__title">${0}</span>
						${0}
						<p class="intranet-mobile-popup__description">${0}</p>
						${0}
					</div>
					${0}
				</div>
			</div>
		`),s.Loc.getMessage("INTRANET_RECOGNIZE_LINKS_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,w)[w](),s.Loc.getMessage("INTRANET_RECOGNIZE_LINKS_DESCRIPTION"),babelHelpers.classPrivateFieldLooseBase(this,E)[E](),babelHelpers.classPrivateFieldLooseBase(this,y)[y]())}function K(){return s.Tag.render(b||(b=r`
			<div class="intranet-mobile-popup__image"></div>
		`))}function S(){if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]&&babelHelpers.classPrivateFieldLooseBase(this,H)[H]||!babelHelpers.classPrivateFieldLooseBase(this,u)[u]&&babelHelpers.classPrivateFieldLooseBase(this,B)[B]){return s.Tag.render(p||(p=r`
				<div class="intranet-mobile-popup__footer">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,g)[g]())}return null}function j(){let e=s.Loc.getMessage("INTRANET_RECOGNIZE_LINKS_CONTINUE");if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]&&babelHelpers.classPrivateFieldLooseBase(this,H)[H]||!babelHelpers.classPrivateFieldLooseBase(this,u)[u]&&babelHelpers.classPrivateFieldLooseBase(this,B)[B]){e=s.Loc.getMessage("INTRANET_RECOGNIZE_LINKS_OPEN_APP")}return new l.Button({text:e,className:"intranet-mobile-popup__button intranet-mobile-popup__button--continue",size:l.Button.Size.LARGE,color:l.Button.Color.SUCCESS,round:true,onclick:()=>{var e;(e=babelHelpers.classPrivateFieldLooseBase(this,c)[c])==null?void 0:e.close();babelHelpers.classPrivateFieldLooseBase(this,I)[I]("push_mobapp_click_start");s.Event.unbind(window,"touchmove",this.stopToucEvent);setTimeout((()=>{window.location.href=babelHelpers.classPrivateFieldLooseBase(this,d)[d]}))}}).render()}function R(){return new l.CloseButton({text:s.Loc.getMessage("INTRANET_RECOGNIZE_LINKS_CONTINUE_IN_BROWSER"),className:"intranet-mobile-popup__button intranet-mobile-popup__button--hide",size:l.Button.Size.SMALL,onclick:()=>{var e;(e=babelHelpers.classPrivateFieldLooseBase(this,c)[c])==null?void 0:e.close();s.Event.unbind(window,"touchmove",this.stopToucEvent);babelHelpers.classPrivateFieldLooseBase(this,I)[I]("push_mobapp_click_stay_browser");const t=babelHelpers.classPrivateFieldLooseBase(this,u)[u]?"tabletPopupContinueToApp":"mobilePopupContinueToApp";BX.userOptions.save("intranet",t,null,"Y")}}).render()}function M(e){const s={tool:"intranet",category:"activation",event:e,type:"inside_portal",c_sub_section:"push_to_mobapp",p2:`popupClosable_${babelHelpers.classPrivateFieldLooseBase(this,u)[u]?"Y":"N"}`};if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]){s.p5=`collabId_${babelHelpers.classPrivateFieldLooseBase(this,P)[P]}`}a.sendData(s)}e.MobilePopup=T})(this.BX.Intranet=this.BX.Intranet||{},BX,BX.Main,BX.Event,BX.UI,BX.UI.Analytics,BX.UI);
//# sourceMappingURL=mobile-popup.bundle.map.js