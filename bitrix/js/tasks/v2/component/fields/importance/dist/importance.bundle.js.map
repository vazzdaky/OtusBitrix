{"version":3,"file":"importance.bundle.js","sources":["../src/importance.js"],"sourcesContent":["import { BIcon } from 'ui.icon-set.api.vue';\nimport { Outline } from 'ui.icon-set.api.core';\nimport 'ui.icon-set.outline';\n\nimport { Model } from 'tasks.v2.const';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport './importance.css';\n\n// @vue/component\nexport const Importance = {\n\tcomponents: {\n\t\tBIcon,\n\t},\n\tprops: {\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t};\n\t},\n\tcomputed: {\n\t\ttask(): TaskModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/getById`](this.taskId);\n\t\t},\n\t\treadonly(): boolean\n\t\t{\n\t\t\treturn !this.task.rights.edit;\n\t\t},\n\t},\n\tmethods: {\n\t\thandleClick(): void\n\t\t{\n\t\t\tif (this.readonly)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isImportant = !this.task.isImportant;\n\n\t\t\tvoid taskService.update(\n\t\t\t\tthis.taskId,\n\t\t\t\t{ isImportant },\n\t\t\t);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tclass=\"tasks-field-importance\"\n\t\t\t:class=\"{ '--active': task.isImportant, '--readonly': readonly }\"\n\t\t\t:data-task-id=\"taskId\"\n\t\t\t:data-task-field-id=\"'isImportant'\"\n\t\t\t:data-task-field-value=\"task.isImportant\"\n\t\t\t@click=\"handleClick\"\n\t\t>\n\t\t\t<BIcon :name=\"task.isImportant ? Outline.FIRE_SOLID : Outline.FIRE\" :hoverable=\"false\"/>\n\t\t</div>\n\t`,\n};\n"],"names":["Importance","components","BIcon","props","taskId","type","Number","String","required","setup","Outline","computed","task","$store","getters","Model","Tasks","readonly","rights","edit","methods","handleClick","isImportant","taskService","update","template"],"mappings":";;;;;;;;CAUA;AACA,OAAaA,UAAU,GAAG;GACzBC,UAAU,EAAE;YACXC;IACA;GACDC,KAAK,EAAE;KACNC,MAAM,EAAE;OACPC,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;OACtBC,QAAQ,EAAE;;IAEX;GACDC,KAAK,GACL;KACC,OAAO;gBACNC;MACA;IACD;GACDC,QAAQ,EAAE;KACTC,IAAI,GACJ;OACC,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,UAAS,CAAC,CAAC,IAAI,CAACZ,MAAM,CAAC;MACjE;KACDa,QAAQ,GACR;OACC,OAAO,CAAC,IAAI,CAACL,IAAI,CAACM,MAAM,CAACC,IAAI;;IAE9B;GACDC,OAAO,EAAE;KACRC,WAAW,GACX;OACC,IAAI,IAAI,CAACJ,QAAQ,EACjB;SACC;;OAGD,MAAMK,WAAW,GAAG,CAAC,IAAI,CAACV,IAAI,CAACU,WAAW;OAE1C,KAAKC,iDAAW,CAACC,MAAM,CACtB,IAAI,CAACpB,MAAM,EACX;SAAEkB;QAAa,CACf;;IAEF;GACDG,QAAQ,EAAG;;;;;;;;;;;;CAYZ,CAAC;;;;;;;;"}