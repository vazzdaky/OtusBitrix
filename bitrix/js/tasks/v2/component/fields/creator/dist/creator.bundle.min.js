this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Component=this.BX.Tasks.V2.Component||{};(function(t,e,s,a,i,n,r){"use strict";const o=Object.freeze({id:"creatorId",title:i.Loc.getMessage("TASKS_V2_CREATOR_TITLE"),dialogOptions:(t="tasks-card-participant")=>{const e=n.Core.getParams().limits;return{context:t,multiple:false,enableSearch:true,entities:[{id:r.EntitySelectorEntity.User,options:{emailUsers:true,inviteGuestLink:true,analyticsSource:"tasks",lockGuestLink:!e.mailUserIntegration,lockGuestLinkFeatureId:e.mailUserIntegrationFeatureId}},{id:"department"}]}}});const d={name:"TaskCreator",components:{Participant:s.Participant},props:{taskId:{type:[Number,String],required:true},context:{type:String,required:true},selectorWithActionMenu:{type:Boolean,default:false}},data(){return{localContext:`${this.context}-${this.$options.name}`}},computed:{...e.mapGetters({currentUserId:`${r.Model.Interface}/currentUserId`}),task(){return this.$store.getters[`${r.Model.Tasks}/getById`](this.taskId)},dialogOptions(){return o.dialogOptions(this.localContext)},preselected(){return[["user",this.task.creatorId||this.currentUserId]]},cantChangeHint(){if(this.task.flowId>0){return this.loc("TASKS_V2_CREATOR_CANT_CHANGE_FLOW")}return this.loc("TASKS_V2_CREATOR_CANT_CHANGE")},dataset(){return{"data-task-id":this.taskId,"data-task-field-id":o.id,"data-task-field-value":this.task.creatorId}},readonly(){return!this.task.rights.edit}},methods:{handleHintClick(){if(this.task.flowId>0){return}void a.taskService.update(this.taskId,{responsibleId:this.currentUserId})},updateTask(t){void this.$store.dispatch(`${r.Model.Users}/upsert`,t);void a.taskService.update(this.taskId,{creatorId:t.id})}},template:`\n\t\t<Participant\n\t\t\t:taskId="taskId"\n\t\t\t:dialogOptions="dialogOptions"\n\t\t\t:preselected="preselected"\n\t\t\t:canChange="() => task.responsibleId === currentUserId && (task.flowId ?? 0) <= 0"\n\t\t\t:cantChangeHint="cantChangeHint"\n\t\t\t:hintClickHandler="handleHintClick"\n\t\t\t:selectorWithActionMenu="selectorWithActionMenu"\n\t\t\t:dataset="dataset"\n\t\t\t:readonly="readonly"\n\t\t\t@update="updateTask"\n\t\t/>\n\t`};t.Creator=d;t.creatorMeta=o})(this.BX.Tasks.V2.Component.Fields=this.BX.Tasks.V2.Component.Fields||{},BX.Vue3.Vuex,BX.Tasks.V2.Component.Elements,BX.Tasks.V2.Provider.Service,BX,BX.Tasks.V2,BX.Tasks.V2.Const);
//# sourceMappingURL=creator.bundle.map.js