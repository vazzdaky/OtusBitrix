{"version":3,"file":"pull-manager.bundle.map.js","names":["this","BX","Tasks","V2","Provider","exports","pull_queuemanager","main_core_events","tasks_v2_core","tasks_v2_provider_service_taskService","tasks_v2_provider_service_groupService","tasks_v2_provider_service_flowService","tasks_v2_provider_service_userService","main_core","tasks_v2_const","BasePullHandler","constructor","TypeError","getMap","getDelayedMap","mapPushToModel","AFTER","after","TASK_ID","id","_after$STAGE_INFO","task","title","prepareValue","TITLE","isImportant","PRIORITY","creatorId","CREATED_BY","responsibleId","RESPONSIBLE_ID","deadlineTs","DEADLINE","checklist","undefined","groupId","GROUP_ID","stageId","STAGE","STAGE_INFO","flowId","FLOW_ID","status","STATUS","mapStatus","statusChangedTs","Date","now","accomplicesIds","ACCOMPLICES","mapUserIds","auditorsIds","AUDITORS","Object","fromEntries","entries","filter","value","Type","isUndefined","_$3$4$5$6$status","TaskStatus","Pending","InProgress","SupposedlyCompleted","Completed","Deferred","users","split","map","Number","mappedValue","_handleTaskAdded","babelHelpers","classPrivateFieldLooseKey","_handleTaskUpdated","_handleTaskUpdatedDelayed","_handleTaskViewed","_handleTaskDeleted","_handleDefaultDeadlineChanged","_upsertStage","_loadTask","_needToLoadTask","_loadGroup","_needToLoadGroup","_loadFlow","_needToLoadFlow","_loadUsers","_needToLoadUsers","_getUsersIds","_loadRights","_currentUserId","TaskPullHandler","args","super","defineProperty","get","_get_currentUserId","set","_loadRights2","_getUsersIds2","_needToLoadUsers2","_loadUsers2","_needToLoadFlow2","_loadFlow2","_needToLoadGroup2","_loadGroup2","_needToLoadTask2","_loadTask2","_upsertStage2","writable","data","features","Core","getParams","showTaskAddedBalloon","USER_ID","classPrivateFieldLooseBase","isMiniformEnabled","isV2Enabled","_data$AFTER$URL","url","URL","UI","Notification","Center","notify","Text","getRandom","content","Loc","getMessage","actions","events","click","event","balloon","close","SidePanel","Instance","open","async","Promise","all","fields","$store","dispatch","Model","EventEmitter","emit","EventName","CloseFullCard","Interface","defaultDeadlineDate","defaultDeadlineInSeconds","deadline","task_add","task_update","task_view","task_remove","default_deadline_changed","getStore","stageDto","stage","GroupMappers","mapStageDtoToModel","Stages","taskService","getById","notPushableFields","Set","keys","some","field","has","groupService","getGroup","getters","Groups","flowService","getFlow","Boolean","Flows","userService","list","hasUsers","_task$accomplicesIds","_task$auditorsIds","getRights","_params","_loadItemsDelay","_handlers","_onBeforePull","_onPull","_onBeforeQueueExecute","_onQueueExecute","_onReload","_executeQueue","PullManager","_params2","_executeQueue2","_onReload2","_onQueueExecute2","_onBeforeQueueExecute2","_onPull2","_onBeforePull2","initQueueManager","QueueManager","moduleId","Module","userId","currentUserId","config","loadItemsDelay","additionalData","onBeforePull","baseEvent","onPull","callbacks","onBeforeQueueExecute","items","onQueueExecute","onReload","pullData","command","params","handler","_handler$getMap$comma","_handler$getMap","call","promises","_params$entityId","push","resolve","entityId","forEach","item","_handler$getDelayedMa","_handler$getDelayedMa2","Pull","Event","Service","Const"],"sources":["pull-manager.bundle.js"],"mappings":"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","ignoreList":[]}