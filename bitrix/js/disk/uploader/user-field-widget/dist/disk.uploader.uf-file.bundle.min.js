this.BX=this.BX||{};this.BX.Disk=this.BX.Disk||{};(function(e,t,s,i,l,a,o,r,n,d,c,u,b){"use strict";var p=babelHelpers.classPrivateFieldLooseKey("form");var v=babelHelpers.classPrivateFieldLooseKey("parserId");var h=babelHelpers.classPrivateFieldLooseKey("tag");var g=babelHelpers.classPrivateFieldLooseKey("regexp");var m=babelHelpers.classPrivateFieldLooseKey("init");var F=babelHelpers.classPrivateFieldLooseKey("parse");var f=babelHelpers.classPrivateFieldLooseKey("unparse");var P=babelHelpers.classPrivateFieldLooseKey("getIds");class L{constructor(e){Object.defineProperty(this,P,{value:I});Object.defineProperty(this,f,{value:H});Object.defineProperty(this,F,{value:B});Object.defineProperty(this,m,{value:D});Object.defineProperty(this,p,{writable:true,value:null});Object.defineProperty(this,v,{writable:true,value:"diskfile0"});Object.defineProperty(this,h,{writable:true,value:"[DISK FILE ID=#id#]"});Object.defineProperty(this,g,{writable:true,value:/\[(?:DOCUMENT ID|DISK FILE ID)=(n?[0-9]+)\]/gi});this.syncHighlightsDebounced=null;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e;this.syncHighlightsDebounced=n.Runtime.debounce(this.syncHighlights,500,this);i.EventEmitter.emit(babelHelpers.classPrivateFieldLooseBase(this,p)[p].getEventObject(),"OnParserRegister",this.getParser())}getParser(){return{id:babelHelpers.classPrivateFieldLooseBase(this,v)[v],init:babelHelpers.classPrivateFieldLooseBase(this,m)[m].bind(this),parse:babelHelpers.classPrivateFieldLooseBase(this,F)[F].bind(this),unparse:babelHelpers.classPrivateFieldLooseBase(this,f)[f].bind(this)}}getHtmlEditor(){return babelHelpers.classPrivateFieldLooseBase(this,p)[p].getHtmlEditor()}insertFile(e){const t=e.isImage()?"\n":" ";const s=e.isImage()?"<br>":"&nbsp;";i.EventEmitter.emit(this.getHtmlEditor(),"OnInsertContent",[t+this.createItemBBCode(e)+t,s+this.createItemHtml(e)+s]);this.syncHighlights()}removeFile(e){if(this.getHtmlEditor().GetViewMode()==="wysiwyg"){const t=this.getHtmlEditor().GetIframeDoc();Object.keys(this.getHtmlEditor().bxTags).forEach((s=>{const i=this.getHtmlEditor().bxTags[s];if(i.tag===babelHelpers.classPrivateFieldLooseBase(this,v)[v]&&i.serverFileId===e.serverFileId){const e=t.getElementById(s);if(e){e.parentNode.removeChild(e)}}}));this.getHtmlEditor().SaveContent()}else{const e=this.getHtmlEditor().GetContent().replace(babelHelpers.classPrivateFieldLooseBase(this,g)[g],((e,t)=>{const{objectId:s,attachedId:i}=babelHelpers.classPrivateFieldLooseBase(this,P)[P](t);const l=babelHelpers.classPrivateFieldLooseBase(this,p)[p].getUserFieldControl().getItems();const a=l.find((e=>e.serverFileId===i||e.customData.objectId===s));return a?"":e}));this.getHtmlEditor().SetContent(e);this.getHtmlEditor().Focus()}this.syncHighlights()}selectItem(e){e.setCustomData("tileSelected",true)}deselectItem(e){e.setCustomData("tileSelected",false)}syncHighlights(){const e=this.getHtmlEditor().GetIframeDoc();const t=new Set;Object.keys(this.getHtmlEditor().bxTags).forEach((s=>{const i=this.getHtmlEditor().bxTags[s];if(i.tag===babelHelpers.classPrivateFieldLooseBase(this,v)[v]&&e.getElementById(s)){t.add(i.serverFileId)}}));let s=false;const i=babelHelpers.classPrivateFieldLooseBase(this,p)[p].getUserFieldControl().getFiles();i.forEach((e=>{if(t.has(e.getServerFileId())){s=true;this.selectItem(e)}else{this.deselectItem(e)}}));if(babelHelpers.classPrivateFieldLooseBase(this,p)[p].getUserFieldControl().getPhotoTemplateMode()==="auto"){babelHelpers.classPrivateFieldLooseBase(this,p)[p].getUserFieldControl().setPhotoTemplate(s?"gallery":"grid")}}createItemHtml(e,t){const s=this.getHtmlEditor().SetBxTag(false,{tag:babelHelpers.classPrivateFieldLooseBase(this,v)[v],serverFileId:e.getServerFileId(),hideContextMenu:true,fileId:e.getServerFileId()});if(e.isImage()){const t=this.getHtmlEditor().bbCode?e.getPreviewUrl():e.getServerPreviewUrl();const i=this.getHtmlEditor().bbCode?e.getPreviewWidth():e.getServerPreviewWidth();const l=this.getHtmlEditor().bbCode?e.getPreviewHeight():e.getServerPreviewHeight();const a=600;const o=600;const r=a/i;const d=o/l;const c=Math.min(r,d);const u=c>1;const b=u?i:i*c;const p=u?l:l*c;return`<img style="max-width: 90%;" width="${b}" height="${p}" data-bx-file-id="${n.Text.encode(e.getServerFileId())}" id="${s}" src="${t}" title="${n.Text.encode(e.getName())}" data-bx-paste-check="Y" />`}else if(e.getCustomData("fileType")==="player"){return`<img contenteditable="false" class="bxhtmled-player-surrogate" data-bx-file-id="${n.Text.encode(e.getServerFileId())}" id="${s}" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-bx-paste-check="Y" />`}return`<span contenteditable="false" data-bx-file-id="${n.Text.encode(e.getServerFileId())}" id="${s}" style="color: #2067B0; border-bottom: 1px dashed #2067B0; margin:0 2px;">${n.Text.encode(e.getName())}</span>`}createItemBBCode(e){return babelHelpers.classPrivateFieldLooseBase(this,h)[h].replace("#id#",e.getServerFileId())}}function D(e){}function B(e){if(!babelHelpers.classPrivateFieldLooseBase(this,g)[g].test(e)){return e}this.syncHighlightsDebounced();return e.replace(babelHelpers.classPrivateFieldLooseBase(this,g)[g],((e,t)=>{const{objectId:s,attachedId:i}=babelHelpers.classPrivateFieldLooseBase(this,P)[P](t);const l=babelHelpers.classPrivateFieldLooseBase(this,p)[p].getUserFieldControl().getFiles();const a=l.find((e=>e.getServerFileId()===i||e.getCustomData("objectId")===s));if(a){this.selectItem(a);return this.createItemHtml(a,t)}return e}))}function H(e){const{serverFileId:t}=e;const s=babelHelpers.classPrivateFieldLooseBase(this,p)[p].getUserFieldControl().getFiles();const i=s.find((e=>e.getServerFileId()===t));if(i){return this.createItemBBCode(i)}return""}function I(e){let t=null;let s=null;if(e[0]==="n"){t=n.Text.toInteger(e.replace("n",""))}else{s=n.Text.toInteger(e)}return{objectId:t,attachedId:s}}let y=e=>e,E;var C=babelHelpers.classPrivateFieldLooseKey("userFieldControl");var O=babelHelpers.classPrivateFieldLooseKey("createDocumentButton");var T=babelHelpers.classPrivateFieldLooseKey("eventObject");var k=babelHelpers.classPrivateFieldLooseKey("htmlParser");var w=babelHelpers.classPrivateFieldLooseKey("htmlEditor");var S=babelHelpers.classPrivateFieldLooseKey("inited");var U=babelHelpers.classPrivateFieldLooseKey("handleDocumentReady");var A=babelHelpers.classPrivateFieldLooseKey("handlePostFormReady");var j=babelHelpers.classPrivateFieldLooseKey("init");var x=babelHelpers.classPrivateFieldLooseKey("getPostForm");var _=babelHelpers.classPrivateFieldLooseKey("bindEventObject");var M=babelHelpers.classPrivateFieldLooseKey("bindAdapterEvents");var K=babelHelpers.classPrivateFieldLooseKey("handleReinitializeBefore");var R=babelHelpers.classPrivateFieldLooseKey("addCreateDocumentButton");var X=babelHelpers.classPrivateFieldLooseKey("handleButtonClick");var W=babelHelpers.classPrivateFieldLooseKey("handleUploaderPanelToggle");var $=babelHelpers.classPrivateFieldLooseKey("handleDocumentPanelToggle");class N extends i.EventEmitter{constructor(e,t){super();Object.defineProperty(this,$,{value:se});Object.defineProperty(this,W,{value:te});Object.defineProperty(this,X,{value:ee});Object.defineProperty(this,R,{value:Z});Object.defineProperty(this,K,{value:J});Object.defineProperty(this,M,{value:Q});Object.defineProperty(this,_,{value:q});Object.defineProperty(this,x,{value:Y});Object.defineProperty(this,j,{value:z});Object.defineProperty(this,A,{value:V});Object.defineProperty(this,U,{value:G});Object.defineProperty(this,C,{writable:true,value:null});Object.defineProperty(this,O,{writable:true,value:null});Object.defineProperty(this,T,{writable:true,value:null});Object.defineProperty(this,k,{writable:true,value:null});Object.defineProperty(this,w,{writable:true,value:null});Object.defineProperty(this,S,{writable:true,value:false});this.setEventNamespace("BX.Disk.Uploader.Integration");babelHelpers.classPrivateFieldLooseBase(this,C)[C]=e;babelHelpers.classPrivateFieldLooseBase(this,T)[T]=t.eventObject;babelHelpers.classPrivateFieldLooseBase(this,_)[_]();this.subscribeFromOptions(t.events);this.subscribeOnce("onReady",(()=>{if(babelHelpers.classPrivateFieldLooseBase(this,C)[C].canCreateDocuments()){babelHelpers.classPrivateFieldLooseBase(this,R)[R]()}}));babelHelpers.classPrivateFieldLooseBase(this,C)[C].subscribe("onUploaderPanelToggle",babelHelpers.classPrivateFieldLooseBase(this,W)[W].bind(this));babelHelpers.classPrivateFieldLooseBase(this,C)[C].subscribe("onDocumentPanelToggle",babelHelpers.classPrivateFieldLooseBase(this,$)[$].bind(this));n.Event.ready(babelHelpers.classPrivateFieldLooseBase(this,U)[U].bind(this))}getUserFieldControl(){return babelHelpers.classPrivateFieldLooseBase(this,C)[C]}getParser(){return babelHelpers.classPrivateFieldLooseBase(this,k)[k]}getHtmlEditor(){return babelHelpers.classPrivateFieldLooseBase(this,w)[w]}getEventObject(){return babelHelpers.classPrivateFieldLooseBase(this,T)[T]}selectFileButton(){const e=new i.BaseEvent({data:"show",compatData:["user-field-widget"]});i.EventEmitter.emit(babelHelpers.classPrivateFieldLooseBase(this,T)[T],"onShowControllers",e)}deselectFileButton(){const e=new i.BaseEvent({data:"hide",compatData:["user-field-widget"]});i.EventEmitter.emit(babelHelpers.classPrivateFieldLooseBase(this,T)[T],"onShowControllers",e)}selectCreateDocumentButton(){if(babelHelpers.classPrivateFieldLooseBase(this,O)[O]){const e=babelHelpers.classPrivateFieldLooseBase(this,O)[O].closest('[data-id="disk-document"]');if(e){e.setAttribute("data-bx-button-status","active")}}}deselectCreateDocumentButton(){if(babelHelpers.classPrivateFieldLooseBase(this,O)[O]){const e=babelHelpers.classPrivateFieldLooseBase(this,O)[O].closest('[data-id="disk-document"]');if(e){e.removeAttribute("data-bx-button-status")}}}insertIntoText(e){const t=babelHelpers.classPrivateFieldLooseBase(this,C)[C].getFile(e.id);babelHelpers.classPrivateFieldLooseBase(this,k)[k].insertFile(t)}}function G(){const e=babelHelpers.classPrivateFieldLooseBase(this,x)[x]();if(e===null){setTimeout((()=>{const e=babelHelpers.classPrivateFieldLooseBase(this,x)[x]();if(e){babelHelpers.classPrivateFieldLooseBase(this,A)[A](e)}else{console.error("Disk User Field: Post Form Not Found.")}}),100)}else{babelHelpers.classPrivateFieldLooseBase(this,A)[A](e)}}function V(e){if(e.isReady){babelHelpers.classPrivateFieldLooseBase(this,j)[j](e)}else{i.EventEmitter.subscribe(e,"OnEditorIsLoaded",(()=>{babelHelpers.classPrivateFieldLooseBase(this,j)[j](e)}))}}function z(e){babelHelpers.classPrivateFieldLooseBase(this,M)[M]();babelHelpers.classPrivateFieldLooseBase(this,w)[w]=e.getEditor();babelHelpers.classPrivateFieldLooseBase(this,k)[k]=new L(this);i.EventEmitter.subscribe(babelHelpers.classPrivateFieldLooseBase(this,w)[w],"OnContentChanged",(e=>{babelHelpers.classPrivateFieldLooseBase(this,k)[k].syncHighlightsDebounced()}));i.EventEmitter.subscribe(babelHelpers.classPrivateFieldLooseBase(this,w)[w],"BXEditor:onBeforePasteAsync",(e=>new Promise(((t,s)=>{const i=e.getData().clipboardEvent;const l=i.clipboardData;i.stopImmediatePropagation();if(!l||!c.isFilePasted(l)){t();return}i.preventDefault();e.preventDefault();c.getFilesFromDataTransfer(l).then((e=>{e.forEach((e=>{this.getUserFieldControl().getUploader().addFile(e,{events:{[c.FileEvent.LOAD_ERROR]:()=>{},[c.FileEvent.UPLOAD_ERROR]:()=>{},[c.FileEvent.LOAD_COMPLETE]:e=>{},[c.FileEvent.UPLOAD_COMPLETE]:e=>{const t=e.getTarget();this.getUserFieldControl().showUploaderPanel();this.getParser().insertFile(t)}}})}));t()})).catch((()=>{t()}))}))));this.emit("onReady");babelHelpers.classPrivateFieldLooseBase(this,S)[S]=true}function Y(){const e=n.Reflection.getClass("BX.Main.PostForm");if(!e){return null}let t=null;e.repo.forEach((e=>{if(e.getEventObject()===this.getEventObject()){t=e}}));return t}function q(){i.EventEmitter.subscribe(this.getEventObject(),"onShowControllers",(e=>{if(n.Type.isArrayFilled(e.getCompatData())&&e.getCompatData()[0]==="user-field-widget"){return}const t=n.Type.isArray(e.getData())?e.getData().shift():e.getData();if(t==="show"){this.getUserFieldControl().showUploaderPanel()}else{this.getUserFieldControl().hide()}}));i.EventEmitter.subscribe(this.getEventObject(),"onReinitializeBeforeAsync",(e=>new Promise((t=>{if(babelHelpers.classPrivateFieldLooseBase(this,S)[S]){babelHelpers.classPrivateFieldLooseBase(this,K)[K](e).then((()=>t()))}else{this.subscribeOnce("onReady",(()=>{babelHelpers.classPrivateFieldLooseBase(this,K)[K](e).then((()=>t()))}))}}))));i.EventEmitter.subscribe(this.getEventObject(),"onCollectControllers",(e=>{const t=e.getData();const s=this.getUserFieldControl().getUploader().getHiddenFieldName();const i=this.getUserFieldControl().getItems().map((e=>e.serverFileId));t[s]={storage:"disk",tag:"[DISK FILE ID=#id#]",values:i,handler:{selectFile:(e,t,s)=>{Object.values(s).forEach((e=>{this.getUserFieldControl().getUploader().addFile(e)}))},removeFiles:e=>{if(e!==undefined&&Array.isArray(e)){const t=this.getUserFieldControl().getUploader();const s=t.getFiles();let i=e.map((e=>s.find((t=>t.getServerFileId()===e)).getId()));i.forEach((e=>{t.removeFile(e)}))}}}}}));i.EventEmitter.subscribe(this.getEventObject(),"OnVideoHasCaught",(e=>{e.stopImmediatePropagation();this.getUserFieldControl().getUploader().addFile(e.getData(),{events:{[c.FileEvent.UPLOAD_COMPLETE]:e=>{const t=e.getTarget();this.getUserFieldControl().showUploaderPanel();this.getParser().insertFile(t)}}})}));i.EventEmitter.subscribe(this.getEventObject(),"OnImageHasCaught",(e=>{e.stopImmediatePropagation();return new Promise(((t,s)=>{this.getUserFieldControl().getUploader().addFile(e.getData(),{events:{[c.FileEvent.LOAD_ERROR]:e=>{const t=e.getData().error;s(t)},[c.FileEvent.UPLOAD_ERROR]:()=>e=>{const t=e.getData().error;s(t)},[c.FileEvent.UPLOAD_COMPLETE]:e=>{const i=e.getTarget();const l=this.getUserFieldControl().getItem(i.getId());if(l){this.getParser().syncHighlights();t({image:{src:i.getPreviewUrl(),width:i.getPreviewWidth(),height:i.getPreviewHeight()},html:this.getParser().createItemHtml(i)})}else{s(new c.UploaderError("WRONG_FILE_SOURCE"))}}}})}))}));i.EventEmitter.subscribe(this.getEventObject(),"onFilesHaveCaught",(e=>{e.stopImmediatePropagation()}));i.EventEmitter.subscribe(this.getEventObject(),"onFilesHaveDropped",(e=>{e.stopImmediatePropagation();const t=e.getData().event;c.getFilesFromDataTransfer(t.dataTransfer).then((e=>{this.getUserFieldControl().getUploader().addFiles(e)})).catch((()=>{}))}))}function Q(){const e=this.getUserFieldControl().getAdapter();e.subscribe("Item:onAdd",(()=>{i.EventEmitter.emit(this.getEventObject(),"onShowControllers:File:Increment")}));e.subscribe("Item:onRemove",(e=>{i.EventEmitter.emit(this.getEventObject(),"onShowControllers:File:Decrement");const t=e.getData().item;if(this.getParser()){this.getParser().removeFile(t)}}))}function J(e){this.getUserFieldControl().clear();const[,t]=e.getData();const s=this.getUserFieldControl().getUploader().getHiddenFieldName();const i=t&&t[s]&&t[s]["USER_TYPE_ID"]==="disk_file"?t[s]:null;if(i!==null){if(n.Type.isPlainObject(i["CUSTOM_DATA"])&&n.Type.isStringFilled(i["CUSTOM_DATA"]["PHOTO_TEMPLATE"])){this.getUserFieldControl().setPhotoTemplateMode("manual");this.getUserFieldControl().setPhotoTemplate(i["CUSTOM_DATA"]["PHOTO_TEMPLATE"])}else{this.getUserFieldControl().setPhotoTemplateMode("auto")}}else{this.getUserFieldControl().setPhotoTemplateMode("auto");this.getUserFieldControl().setPhotoTemplate("grid")}if(i===null){return Promise.resolve()}if(n.Type.isArray(i["FILES"])){return babelHelpers.classPrivateFieldLooseBase(this,C)[C].nextTick().then((()=>{i["FILES"].forEach((e=>{if(!this.getUserFieldControl().getUploader().getFile(e.serverFileId)){this.getUserFieldControl().getUploader().addFile(e)}}));if(this.getUserFieldControl().getUploader().getFiles().length>0){babelHelpers.classPrivateFieldLooseBase(this,C)[C].enableAutoCollapse()}}))}else if(n.Type.isArrayFilled(i["VALUE"])){return babelHelpers.classPrivateFieldLooseBase(this,C)[C].nextTick().then((()=>new Promise((e=>{let t=i["VALUE"];t=t.filter((e=>!this.getUserFieldControl().getUploader().getFile(e)));let s=0;let l=[];const a=()=>{s++;if(s===l.length){e()}};const o={[c.FileEvent.LOAD_COMPLETE]:a,[c.FileEvent.LOAD_ERROR]:a};const r=t.map((e=>[e,{events:o}]));if(r.length>0){l=this.getUserFieldControl().getUploader().addFiles(r);if(l.length===0){e()}else{babelHelpers.classPrivateFieldLooseBase(this,C)[C].enableAutoCollapse()}}else{e()}}))))}return Promise.resolve()}function Z(){babelHelpers.classPrivateFieldLooseBase(this,O)[O]=n.Tag.render(E||(E=y`
			<div onclick="${0}">
				<i></i>
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,X)[X].bind(this),n.Loc.getMessage("DISK_UF_WIDGET_CREATE_DOCUMENT"));i.EventEmitter.emit(this.getEventObject(),"OnAddButton",[{BODY:babelHelpers.classPrivateFieldLooseBase(this,O)[O],ID:"disk-document"},"file"])}function ee(){const e=babelHelpers.classPrivateFieldLooseBase(this,O)[O].closest('[data-id="disk-document"]');if(e&&e.hasAttribute("data-bx-button-status")){this.getUserFieldControl().hide()}else{this.getUserFieldControl().showDocumentPanel()}}function te(e){const t=e.getData().isOpen;if(t){this.selectFileButton()}else{this.deselectFileButton()}}function se(e){const t=e.getData().isOpen;if(t){this.selectCreateDocumentButton()}else{this.deselectCreateDocumentButton()}}const ie=Object.freeze({Google:"gdrive",Office:"office365",Dropbox:"dropbox",Onedrive:"onedrive",OnlyOffice:"onlyoffice",Local:"l"});const le=Object.freeze({Docx:"docx",Xlsx:"xlsx",Pptx:"pptx",Board:"board"});const ae=n.Extension.getSettings("disk.uploader.user-field-widget");class oe{canCreateDocuments(){return ae.get("canCreateDocuments",false)}getDocumentServices(){const e=ae.get("documentHandlers",{});if(n.Type.isPlainObject(e)){return e}return{}}getImportServices(){const e=ae.get("importHandlers",{});if(n.Type.isPlainObject(e)){return e}return{}}canUseImportService(){return ae.get("canUseImport",true)}getImportFeatureId(){return ae.get("importFeatureId","")}isBoardsEnabled(){return ae.get("isBoardsEnabled",false)}}const re=new oe;let ne=e=>e,de,ce;const ue=new Map;var be=babelHelpers.classPrivateFieldLooseKey("id");var pe=babelHelpers.classPrivateFieldLooseKey("adapter");var ve=babelHelpers.classPrivateFieldLooseKey("mainPostForm");var he=babelHelpers.classPrivateFieldLooseKey("allowDocumentFieldName");var ge=babelHelpers.classPrivateFieldLooseKey("photoTemplateFieldName");var me=babelHelpers.classPrivateFieldLooseKey("photoTemplateInput");var Fe=babelHelpers.classPrivateFieldLooseKey("photoTemplateMode");var fe=babelHelpers.classPrivateFieldLooseKey("widgetComponent");var Pe=babelHelpers.classPrivateFieldLooseKey("bindHandlers");var Le=babelHelpers.classPrivateFieldLooseKey("unbindHandlers");var De=babelHelpers.classPrivateFieldLooseKey("handleItemAdd");var Be=babelHelpers.classPrivateFieldLooseKey("handleItemComplete");var He=babelHelpers.classPrivateFieldLooseKey("handleItemRemove");class Ie extends i.EventEmitter{constructor(e){super();Object.defineProperty(this,Le,{value:Ee});Object.defineProperty(this,Pe,{value:ye});Object.defineProperty(this,be,{writable:true,value:null});Object.defineProperty(this,pe,{writable:true,value:null});Object.defineProperty(this,ve,{writable:true,value:null});Object.defineProperty(this,he,{writable:true,value:null});Object.defineProperty(this,ge,{writable:true,value:null});Object.defineProperty(this,me,{writable:true,value:null});Object.defineProperty(this,Fe,{writable:true,value:"auto"});Object.defineProperty(this,fe,{writable:true,value:null});Object.defineProperty(this,De,{writable:true,value:e=>{const t=e.getData().item;this.emit("Item:onAdd",{item:t})}});Object.defineProperty(this,Be,{writable:true,value:e=>{const t=e.getData().item;this.setDocumentEdit(t);this.emit("Item:onComplete",{item:t})}});Object.defineProperty(this,He,{writable:true,value:e=>{const t=e.getData().item;this.removeAllowDocumentEditInput(t);this.emit("Item:onRemove",{item:t})}});this.setEventNamespace("BX.Disk.Uploader.Integration");babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]=e;babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=e.adapter;const t=n.Type.isPlainObject(e.widgetOptions)?e.widgetOptions:{};babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=n.Type.isStringFilled(t.photoTemplateFieldName)?t.photoTemplateFieldName:null;babelHelpers.classPrivateFieldLooseBase(this,he)[he]=n.Type.isStringFilled(t.allowDocumentFieldName)?t.allowDocumentFieldName:null;babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]();if(t.disableLocalEdit){BX.Disk.Document.Local.Instance.disable()}if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]!==null&&this.getUploader().getHiddenFieldsContainer()!==null){babelHelpers.classPrivateFieldLooseBase(this,me)[me]=n.Tag.render(de||(de=ne`
				<input 
					name="${0}" 
					value="${0}"
					type="hidden" 
				/>
			`),babelHelpers.classPrivateFieldLooseBase(this,ge)[ge],n.Type.isStringFilled(t.photoTemplate)?t.photoTemplate:"grid");this.setPhotoTemplateMode(t.photoTemplateMode);n.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,me)[me],this.getUploader().getHiddenFieldsContainer())}if(this.getUploader().getHiddenFieldsContainer()===null&&(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]!==null||babelHelpers.classPrivateFieldLooseBase(this,he)[he]!==null)){console.warn('DiskUserField: to use "photoTemplateFieldName" or "allowDocumentFieldName" options '+'you have to set "hiddenFieldsContainer" in the uploader options.')}this.subscribeFromOptions(t.events);const s=n.Type.isElementNode(t.eventObject)?t.eventObject:null;if(s){babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=new N(this,{eventObject:s,events:{onReady:()=>{this.getUploader().addFiles(t.files);if(this.getUploader().getFiles().length>0){this.showUploaderPanel();this.enableAutoCollapse()}}}})}else{this.getUploader().addFiles(t.files)}babelHelpers.classPrivateFieldLooseBase(this,be)[be]=n.Type.isStringFilled(t.mainPostFormId)?t.mainPostFormId:`user-field-control-${n.Text.getRandom().toLowerCase()}`;ue.set(babelHelpers.classPrivateFieldLooseBase(this,be)[be],this)}destroy(){babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]()}static getById(e){return ue.get(e)||null}static getInstances(){return[...ue.values()]}canCreateDocuments(){const e=re.canCreateDocuments();return e&&babelHelpers.classPrivateFieldLooseBase(this,fe)[fe].widgetOptions.canCreateDocuments!==false}getAdapter(){return babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]}getMainPostForm(){return babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]}getItems(){return babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].getItems()}getItem(e){return babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].getItem(e)}getFiles(){return babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].getUploader().getFiles()}getFile(e){return babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].getUploader().getFile(e)}getUploader(){return babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].getUploader()}nextTick(){return babelHelpers.classPrivateFieldLooseBase(this,fe)[fe].$nextTick()}hide(){babelHelpers.classPrivateFieldLooseBase(this,fe)[fe].priorityVisibility="hidden";this.emit("onUploaderPanelToggle",{isOpen:false});this.emit("onDocumentPanelToggle",{isOpen:false})}showUploaderPanel(){babelHelpers.classPrivateFieldLooseBase(this,fe)[fe].priorityVisibility="uploader";this.emit("onUploaderPanelToggle",{isOpen:true});this.emit("onDocumentPanelToggle",{isOpen:false})}showDocumentPanel(){if(!this.canCreateDocuments()){return}babelHelpers.classPrivateFieldLooseBase(this,fe)[fe].priorityVisibility="documents";this.emit("onUploaderPanelToggle",{isOpen:false});this.emit("onDocumentPanelToggle",{isOpen:true})}clear(){this.getUploader().removeFiles({removeFromServer:false})}enableAutoCollapse(){babelHelpers.classPrivateFieldLooseBase(this,fe)[fe].enableAutoCollapse()}canAllowDocumentEdit(){return babelHelpers.classPrivateFieldLooseBase(this,he)[he]!==null&&this.getUploader().getHiddenFieldsContainer()!==null}canItemAllowEdit(e){return this.canAllowDocumentEdit()&&e.customData.isEditable===true&&e.customData.canUpdate===true}getAllowDocumentEditInput(e){const t=`input[name='${babelHelpers.classPrivateFieldLooseBase(this,he)[he]}[${e.serverFileId}]']`;if(this.getUploader().getHiddenFieldsContainer()!==null){return this.getUploader().getHiddenFieldsContainer().querySelector(t)}return null}removeAllowDocumentEditInput(e){const t=this.getAllowDocumentEditInput(e);if(t!==null){n.Dom.remove(t)}}setDocumentEdit(e,t=null){if(!this.canItemAllowEdit(e)){return}let s=this.getAllowDocumentEditInput(e);if(s===null){s=n.Tag.render(ce||(ce=ne`<input name="${0}[${0}]" type="hidden" />`),babelHelpers.classPrivateFieldLooseBase(this,he)[he],e.serverFileId);n.Dom.append(s,this.getUploader().getHiddenFieldsContainer())}t=t===null?e.customData.allowEdit===true:t;s.value=t?1:0;const i=this.getFile(e.id);i.setCustomData("allowEdit",t)}canChangePhotoTemplate(){return babelHelpers.classPrivateFieldLooseBase(this,me)[me]!==null}setPhotoTemplate(e){if(n.Type.isStringFilled(e)&&babelHelpers.classPrivateFieldLooseBase(this,me)[me]!==null){babelHelpers.classPrivateFieldLooseBase(this,me)[me].value=e}}getPhotoTemplate(){return babelHelpers.classPrivateFieldLooseBase(this,me)[me]!==null?babelHelpers.classPrivateFieldLooseBase(this,me)[me].value:""}setPhotoTemplateMode(e){if(e==="auto"||e==="manual"){babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]=e}}getPhotoTemplateMode(){return babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]}getDocumentServices(){return re.getDocumentServices()}getCurrentDocumentService(){let e=BX.Disk.getDocumentService();if(!e&&BX.Disk.isAvailableOnlyOffice()){e=ie.OnlyOffice}else if(!e){e=ie.Local}return this.getDocumentServices()[e]||null}}function ye(){babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].subscribe("Item:onAdd",babelHelpers.classPrivateFieldLooseBase(this,De)[De]);babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].subscribe("Item:onComplete",babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]);babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].subscribe("Item:onRemove",babelHelpers.classPrivateFieldLooseBase(this,He)[He])}function Ee(){babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].unsubscribe("Item:onAdd",babelHelpers.classPrivateFieldLooseBase(this,De)[De]);babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].unsubscribe("Item:onComplete",babelHelpers.classPrivateFieldLooseBase(this,Be)[Be]);babelHelpers.classPrivateFieldLooseBase(this,pe)[pe].unsubscribe("Item:onRemove",babelHelpers.classPrivateFieldLooseBase(this,He)[He])}const Ce=(e,t={})=>new Promise((s=>{n.Runtime.loadExtension("disk.legacy.file-dialog").then((()=>{const l=t=>{const[a]=t.getData();if(e===a){i.EventEmitter.unsubscribe(BX.DiskFileDialog,"inited",l);s()}};i.EventEmitter.subscribe(BX.DiskFileDialog,"inited",l);n.ajax.get(Oe(e,t))}))}));const Oe=(e,t={})=>{const s=`/bitrix/tools/disk/uf.php?action=openDialog&SITE_ID=${n.Loc.getMessage("SITE_ID")}&dialog2=Y&ACTION=SELECT&MULTI=Y&dialogName=${e}`;return n.Uri.addParam(s,t)};let Te=e=>e,ke,we;var Se=babelHelpers.classPrivateFieldLooseKey("userFieldControl");var Ue=babelHelpers.classPrivateFieldLooseKey("item");var Ae=babelHelpers.classPrivateFieldLooseKey("menu");var je=babelHelpers.classPrivateFieldLooseKey("folderDialogId");var xe=babelHelpers.classPrivateFieldLooseKey("showRenameMenu");class _e{constructor(e,t,s){Object.defineProperty(this,xe,{value:Me});Object.defineProperty(this,Se,{writable:true,value:null});Object.defineProperty(this,Ue,{writable:true,value:null});Object.defineProperty(this,Ae,{writable:true,value:null});Object.defineProperty(this,je,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]=e;babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]=t;babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae]=s;babelHelpers.classPrivateFieldLooseBase(this,je)[je]=`folder-dialog-${n.Text.getRandom(5)}`}build(){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].getPopupWindow().setMaxWidth(500);if(babelHelpers.classPrivateFieldLooseBase(this,Se)[Se].canItemAllowEdit(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue])){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].addMenuItem({delimiter:true});babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].addMenuItem({id:"allow-edit",className:babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.allowEdit===true?"disk-user-field-item-checked":"",text:n.Loc.getMessage("DISK_UF_WIDGET_ALLOW_DOCUMENT_EDIT"),onclick:(e,t)=>{if(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.allowEdit===true){babelHelpers.classPrivateFieldLooseBase(this,Se)[Se].setDocumentEdit(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue],false)}else{babelHelpers.classPrivateFieldLooseBase(this,Se)[Se].setDocumentEdit(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue],true)}t.getMenuWindow().close()}})}if(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.canRename){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].addMenuItem({delimiter:true});babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].addMenuItem({id:"rename",text:n.Loc.getMessage("DISK_UF_WIDGET_RENAME_FILE_MENU_TITLE"),events:{"SubMenu:onShow":e=>{const t=e.getTarget();babelHelpers.classPrivateFieldLooseBase(this,xe)[xe](t)}},items:[{id:"rename-textarea",html:'<div class="disk-user-field-rename-loading"></div>',className:"disk-user-field-rename-menu-item"}]})}if(n.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.storage)){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].addMenuItem({delimiter:true});if(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.canMove){babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].addMenuItem({id:"storage",text:`${babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.storage}&mldr;`,onclick:()=>{this.openFolderDialog();babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].close()},disabled:babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.tileSelected===true})}else{babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae].addMenuItem({id:"storage",text:babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.storage,disabled:true})}}}rename(e){return new Promise(((t,s)=>{n.ajax.runAction("disk.api.commonActions.rename",{data:{objectId:babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.objectId,newName:e,autoCorrect:true,generateUniqueName:true}}).then((e=>{var s,i;if((e==null?void 0:e.status)==="success"&&(e==null?void 0:(s=e.data)==null?void 0:(i=s.object)==null?void 0:i.name)!==babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].name){const t=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se].getFile(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].id);const s=e.data.object.name;t.setName(s)}t()})).catch((e=>{BX.Disk.showModalWithStatusAction(e);s()}))}))}openFolderDialog(){Ce(babelHelpers.classPrivateFieldLooseBase(this,je)[je],{wish:"fakemove"}).then((()=>{BX.DiskFileDialog.obCallback[babelHelpers.classPrivateFieldLooseBase(this,je)[je]]={saveButton:(e,t,s,i)=>{const l=Object.values(s)[0]||i;if(!l){return}const a=l.id==="root"?e.rootObjectId:l.id;n.ajax.runAction("disk.api.commonActions.move",{data:{objectId:babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].customData.objectId,toFolderId:a}}).then((t=>{if((t==null?void 0:t.status)==="success"){const s=babelHelpers.classPrivateFieldLooseBase(this,Se)[Se].getFile(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].id);const i=t.data.object.name;const a=t.data.object.id;s.setServerFileId(`n${a}`);s.setName(i);if(l.id==="root"){s.setCustomData("storage",`${e.name} / `)}else{s.setCustomData("storage",`${e.name} / ${l.name}`)}}})).catch((e=>{BX.Disk.showModalWithStatusAction(e)}))}};if(BX.DiskFileDialog.popupWindow===null){BX.DiskFileDialog.openDialog(babelHelpers.classPrivateFieldLooseBase(this,je)[je])}})).catch((()=>{}))}}function Me(e){n.Runtime.loadExtension("ui.buttons").then((t=>{const s=t.Button;const i=t.ButtonSize;const l=t.ButtonColor;const a=t.CancelButton;const o=e=>{if(e.code==="Enter"){d()}};const r=c.getFilenameWithoutExtension(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].name);const d=()=>{const t=u.value.trim();if(!n.Type.isStringFilled(t)||t===r){e.getMenuWindow().close();return}b.setWaiting(true);const s=`${t}.${c.getFileExtension(babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue].name)}`;this.rename(s).then((()=>{b.setWaiting(false);e.getMenuWindow().close()})).catch((()=>{b.setWaiting(false)}))};const u=n.Tag.render(ke||(ke=Te`
				<textarea 
					class="disk-user-field-rename-textarea" 
					onkeydown="${0}"
				>${0}</textarea>
			`),o,n.Text.encode(r));const b=new s({text:n.Loc.getMessage("DISK_UF_WIDGET_RENAME_FILE_BUTTON_TITLE"),color:l.PRIMARY,size:i.SMALL,onclick:d});const p=new a({size:i.SMALL,onclick:()=>{e.getMenuWindow().close()}});const v=e.getSubMenu();const h=v.getMenuItem("rename-textarea");h.setText(n.Tag.render(we||(we=Te`
					<div class="disk-user-field-rename-form">
						${0}
						<div class="disk-user-field-rename-buttons">${0}</div>
					</div>
				`),u,[b.render(),p.render()]),true);e.showSubMenu()}))}var Ke=babelHelpers.classPrivateFieldLooseKey("userFieldControl");var Re=babelHelpers.classPrivateFieldLooseKey("menu");var Xe=babelHelpers.classPrivateFieldLooseKey("getItems");class We{constructor(e){Object.defineProperty(this,Xe,{value:$e});Object.defineProperty(this,Ke,{writable:true,value:null});Object.defineProperty(this,Re,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]=e}getMenu(e){var t,s;(s=(t=babelHelpers.classPrivateFieldLooseBase(this,Re))[Re])!=null?s:t[Re]=new d.Menu({bindElement:e.getContainer(),angle:true,autoHide:true,offsetLeft:16,items:babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe](),events:{onShow:()=>e.select(),onClose:()=>e.deselect()}});return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]}show(e){this.getMenu(e).show()}toggle(e){var t,s;if((t=babelHelpers.classPrivateFieldLooseBase(this,Re)[Re])!=null&&(s=t.getPopup())!=null&&s.isShown()){babelHelpers.classPrivateFieldLooseBase(this,Re)[Re].close()}else{this.show(e)}}hide(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,Re)[Re])==null?void 0:e.close()}hasItems(){return babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]().length>0}}function $e(){if(!babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke].canChangePhotoTemplate()){return[]}return[{isSelected:babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke].getPhotoTemplate()==="grid",title:n.Loc.getMessage("DISK_UF_WIDGET_ALLOW_PHOTO_COLLAGE"),onClick:()=>{babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke].setPhotoTemplateMode("manual");if(babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke].getPhotoTemplate()==="grid"){babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke].setPhotoTemplate("gallery")}else{babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke].setPhotoTemplate("grid")}babelHelpers.classPrivateFieldLooseBase(this,Re)[Re].updateItems(babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]())}}]}const Ne=new Set;const Ge=e=>{e=n.Type.isPlainObject(e)?e:{};const t=n.Type.isStringFilled(e.dialogId)?e.dialogId:`file-dialog-${n.Text.getRandom(5)}`;const s=n.Type.isFunction(e.onLoad)?e.onLoad:null;const i=n.Type.isFunction(e.onSelect)?e.onSelect:null;const l=n.Type.isFunction(e.onClose)?e.onClose:null;const a=e.uploader instanceof c.Uploader?e.uploader:null;if(Ne.has(t)){return}Ne.add(t);Ce(t).then((()=>{Ne.delete(t);if(s!==null){s()}BX.DiskFileDialog.obCallback[t]={saveButton:(e,t,s)=>{Object.values(s).forEach((e=>{if(a!==null){a.addFile(e.id,{name:e.name,preload:true})}}));if(i!==null){i(e,t,s)}},popupDestroy:()=>{Ne.delete(t);if(l!==null){l()}}};if(BX.DiskFileDialog.popupWindow===null){BX.DiskFileDialog.openDialog(t)}}))};class Ve extends c.AbstractLoadController{constructor(e,t={}){super(e,t)}load(e){this.emit("onProgress",{progress:100});this.emit("onLoad")}abort(){}}var ze=babelHelpers.classPrivateFieldLooseKey("fileId");var Ye=babelHelpers.classPrivateFieldLooseKey("serviceId");class qe extends c.AbstractUploadController{constructor(e,t={}){super(e,t);Object.defineProperty(this,ze,{writable:true,value:null});Object.defineProperty(this,Ye,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,ze)[ze]=t.fileId;babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]=t.serviceId}upload(e){BX.Disk.ExternalLoader.startLoad({file:{id:babelHelpers.classPrivateFieldLooseBase(this,ze)[ze],service:babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]},onFinish:e=>{this.emit("onUpload",{fileInfo:e.fileInfo})},onProgress:e=>{this.emit("onProgress",{progress:e})},onError:e=>{this.emit("onError",{error:c.UploaderError.createFromAjaxErrors(e)})}})}abort(){}}const Qe=new Set;const Je=e=>{if(!re.canUseImportService()){a.FeaturePromotersRegistry.getPromoter({featureId:re.getImportFeatureId()}).show();return}e=n.Type.isPlainObject(e)?e:{};const t=n.Type.isStringFilled(e.dialogId)?e.dialogId:`cloud-dialog-${n.Text.getRandom(5)}`;const s=n.Type.isStringFilled(e.serviceId)?e.serviceId:ie.Google;const i=n.Type.isFunction(e.onLoad)?e.onLoad:null;const l=n.Type.isFunction(e.onSelect)?e.onSelect:null;const o=n.Type.isFunction(e.onClose)?e.onClose:null;const r=e.uploader instanceof c.Uploader?e.uploader:null;if(Qe.has(t)){return}Qe.add(t);Ce(t,{service:s,cloudImport:1}).then((()=>{Qe.delete(t);if(i!==null){i()}BX.DiskFileDialog.obCallback[t]={saveButton:(e,t,s)=>{n.Runtime.loadExtension("disk.legacy.external-loader").then((()=>{Object.values(s).forEach((e=>{if(e.type==="file"&&r!==null){r.addFile({id:e.id,serverFileId:e.id,name:e.name,size:n.Text.toNumber(e.sizeInt),loadController:new Ve(r.getServer(),{fileId:e.id,serviceId:e.provider}),uploadController:new qe(r.getServer(),{fileId:e.id,serviceId:e.provider})})}}));if(l!==null){l(e,t,s)}}))},popupDestroy:()=>{Qe.delete(t);if(o!==null){o()}}};if(s===ie.Google){n.ajax({url:"/bitrix/tools/disk/uf.php?action=getGoogleAppData",dataType:"json",onsuccess(s){if(s.authUrl){Ze(s.authUrl,e);return}et(s,t).then((e=>{e.loadAndShowPicker()})).catch((e=>{console.error(e)}))},onfailure(e){BX.DiskFileDialog.sendRequest=false}});return}if(BX.DiskFileDialog.popupWindow===null){BX.DiskFileDialog.openDialog(t)}}))};const Ze=function(e,t){BX.util.popup(e,1030,700);n.Event.bind(window,"hashchange",(()=>{const e=document.location.hash.match(/external-auth-(\w+)/);if(!e){return}BX.DiskFileDialog.sendRequest=false;Je(t)}))};const et=async function(e,t){return n.Runtime.loadExtension("disk.google-drive-picker").then((({GoogleDrivePicker:s})=>new s(e.clientId,e.appId,e.apiKey,e.accessToken,BX.DiskFileDialog.obCallback[t])))};const tt=(e={})=>{const t=e.uploader instanceof c.Uploader?e.uploader:null;const s=n.Type.isStringFilled(e.documentType)?e.documentType:null;const i=n.Type.isFunction(e.onAddFile)?e.onAddFile:null;if(!BX.Disk.getDocumentService()){const e=BX.Disk.isAvailableOnlyOffice()?ie.OnlyOffice:ie.Local;BX.Disk.saveDocumentService(e)}let l=null;if(s===le.Board){l=window.open("","_blank")}if(BX.Disk.Document.Local.Instance.isSetWorkWithLocalBDisk()||s==="board"){BX.Disk.Document.Local.Instance.createFile({type:s}).then((e=>{if(e.status==="success"){if(s==="board"){BX.UI.Analytics.sendData({event:"create",tool:"boards",category:"boards",c_element:"docs_attach_uploader_widget"})}t.addFile(`n${e.object.id}`,{name:e.object.name,preload:true});i==null?void 0:i();if(l!==null&&e.openUrl){l.location.href=e.openUrl}}}))}else{const e=new BX.Disk.Document.CreateProcess({typeFile:s,serviceCode:BX.Disk.getDocumentService(),onAfterSave:e=>{if(e.status!=="success"){return}if(e.object){t.addFile(`n${e.object.id}`,{name:e.object.name,size:e.object.size,preload:true});i==null?void 0:i()}}});e.start()}};const st={name:"Loader",props:{size:{type:Number,default:70},color:{type:String,default:"#2fc6f6"},offset:{type:Object,default:null},mode:{type:String,default:""}},created(){this.loader=null},mounted(){n.Runtime.loadExtension("main.loader").then((e=>{const{Loader:t}=e;this.loader=new t({target:this.$refs.container,size:this.size,color:this.color,offset:this.offset,mode:this.mode});this.loader.show()}))},beforeUnmount(){if(this.loader){this.loader.destroy();this.loader=null}},template:'<span ref="container"></span>'};const it={name:"ControlPanel",components:{Loader:st},inject:["userFieldControl","uploader","getMessage"],setup(){return{DocumentService:ie,importServices:re.getImportServices()}},data:()=>({showDialogLoader:false,showCloudDialogLoader:false,currentServiceId:null}),created(){this.fileDialogId=`file-dialog-${n.Text.getRandom(5)}`;this.cloudDialogId=`cloud-dialog-${n.Text.getRandom(5)}`},mounted(){this.uploader.assignBrowse(this.$refs.upload)},methods:{openDiskFileDialog(){if(this.showDialogLoader){return}this.showDialogLoader=true;Ge({dialogId:this.fileDialogId,uploader:this.uploader,onLoad:()=>{this.showDialogLoader=false},onClose:()=>{this.showDialogLoader=false}})},openCloudFileDialog(e){if(this.showCloudDialogLoader){return}this.currentServiceId=e;this.showCloudDialogLoader=true;const t=()=>{this.showCloudDialogLoader=false;this.currentServiceId=null};Je({dialogId:this.cloudDialogId,uploader:this.uploader,serviceId:e,onLoad:t,onClose:t})}},template:`\n\t\t<div class="disk-user-field-panel">\n\t\t\t<div class="disk-user-field-panel-file-wrap">\n\t\t\t\t<div class="disk-user-field-panel-card-box disk-user-field-panel-card-file" ref="upload">\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card-icon--upload">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-content">\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ getMessage('DISK_UF_WIDGET_UPLOAD_FILES') }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="disk-user-field-panel-card-box disk-user-field-panel-card-file" @click="openDiskFileDialog">\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card-icon--b24">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-content">\n\t\t\t\t\t\t\t<Loader v-if="showDialogLoader" :offset="{ top: '-7px' }" />\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ getMessage('DISK_UF_WIDGET_MY_DRIVE') }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="disk-user-field-panel-card-divider"></div>\n\t\t\t\t<div \n\t\t\t\t\tclass="disk-user-field-panel-card-box disk-user-field-panel-card-file"\n\t\t\t\t\tv-if="importServices[DocumentService.Google]"\n\t\t\t\t\t@click="openCloudFileDialog(DocumentService.Google)"\n\t\t\t\t>\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card-icon--google-docs">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-content">\n\t\t\t\t\t\t\t<Loader v-if="showCloudDialogLoader && currentServiceId === DocumentService.Google" :offset="{ top: '-7px' }" />\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ importServices[DocumentService.Google]['name'] }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div \n\t\t\t\t\tclass="disk-user-field-panel-card-box disk-user-field-panel-card-file"\n\t\t\t\t\tv-if="importServices[DocumentService.Office]"\n\t\t\t\t\t@click="openCloudFileDialog(DocumentService.Office)"\n\t\t\t\t>\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card-icon--office365">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-content">\n\t\t\t\t\t\t\t<Loader v-if="showCloudDialogLoader && currentServiceId === DocumentService.Office" :offset="{ top: '-7px' }" />\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ importServices[DocumentService.Office].name }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div \n\t\t\t\t\tclass="disk-user-field-panel-card-box disk-user-field-panel-card-file"\n\t\t\t\t\tv-if="importServices[DocumentService.Dropbox]"\n\t\t\t\t\t@click="openCloudFileDialog(DocumentService.Dropbox)"\n\t\t\t\t>\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card-icon--dropbox">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-content">\n\t\t\t\t\t\t\t<Loader v-if="showCloudDialogLoader && currentServiceId === DocumentService.Dropbox" :offset="{ top: '-7px' }" />\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ importServices[DocumentService.Dropbox].name }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`};const lt={name:"DocumentPanel",components:{RichLoc:r.RichLoc},inject:["uploader","userFieldControl","getMessage"],setup(){return{DocumentType:le,isBoardsEnabled:re.isBoardsEnabled()}},data(){var e;return{currentServiceName:(e=this.userFieldControl.getCurrentDocumentService())==null?void 0:e.name}},computed:{createServiceFormatted(){const e=n.Loc.getMessage("DISK_UF_WIDGET_EDIT_SERVICE_LABEL");const t="#NAME#";const s=e.indexOf(t);const i=e.slice(0,s);const l=e.slice(s+t.length);return`${i}[link]${this.currentServiceName}[/link]${l}`}},methods:{renderSvg(e){return new u.FileIcon({name:e,size:36,align:"center"}).generate().outerHTML},createDocument(e){tt({uploader:this.uploader,documentType:e,onAddFile:()=>this.userFieldControl.showUploaderPanel()})},openMenu(){var e;(e=this.menu)!=null?e:this.menu=new d.Menu({bindElement:this.$refs.service,autoHide:true,offsetTop:5,items:this.getMenuItems()});this.menu.show()},getMenuItems(){var e;const t=Object.values(re.getDocumentServices());const s=(e=this.userFieldControl.getCurrentDocumentService())==null?void 0:e.code;return t.map((e=>({title:e.name,isSelected:s===e.code,onClick:()=>{BX.Disk.saveDocumentService(e.code);this.currentServiceName=e.name;this.menu.updateItems(this.getMenuItems())}})))}},template:`\n\t\t<div class="disk-user-field-panel">\n\t\t\t<div class="disk-user-field-panel-doc-wrap">\n\t\t\t\t<div class="disk-user-field-panel-card-box" @click="createDocument(DocumentType.Docx)">\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card--doc">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon" v-html="renderSvg(DocumentType.Docx)"></div>\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ getMessage('DISK_UF_WIDGET_CREATE_DOCX') }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="disk-user-field-panel-card-box" @click="createDocument(DocumentType.Xlsx)">\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card--xls">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon" v-html="renderSvg(DocumentType.Xlsx)"></div>\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ getMessage('DISK_UF_WIDGET_CREATE_XLSX') }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="disk-user-field-panel-card-box" @click="createDocument(DocumentType.Pptx)">\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card--ppt">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon" v-html="renderSvg(DocumentType.Pptx)"></div>\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ getMessage('DISK_UF_WIDGET_CREATE_PPTX') }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="disk-user-field-panel-card-box" @click="createDocument(DocumentType.Board)" v-if="isBoardsEnabled">\n\t\t\t\t\t<div class="disk-user-field-panel-card disk-user-field-panel-card--board">\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-icon"></div>\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-btn"></div>\n\t\t\t\t\t\t<div class="disk-user-field-panel-card-name">{{ getMessage('DISK_UF_WIDGET_CREATE_BOARD') }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="disk-user-field-create-document-by-service" @click="openMenu">\n\t\t\t\t<RichLoc :text="createServiceFormatted" placeholder="[link]">\n\t\t\t\t\t<template #link="{ text }">\n\t\t\t\t\t\t<span class="disk-user-field-document-current-service" ref="service">{{ text }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t</RichLoc>\n\t\t\t</div>\n\t\t</div>\n\t`};const at={name:"UserFieldWidget",components:{TileWidgetComponent:s.TileWidgetComponent,DocumentPanel:lt},extends:t.VueUploaderComponent,provide(){return{userFieldControl:this.userFieldControl,postForm:this.userFieldControl.getMainPostForm(),getMessage:this.getMessage}},props:{visibility:{type:String,default(e){const t=n.Type.isElementNode(e.widgetOptions.eventObject);return t?"hidden":"both"}}},setup(){return{customUploaderOptions:ot.getDefaultUploaderOptions()}},data(){return{documentsCollapsed:this.visibility==="both",priorityVisibility:null}},computed:{tileWidgetOptions(){const e=this.widgetOptions;const t=n.Type.isPlainObject(e.tileWidgetOptions)?{...e.tileWidgetOptions}:{};t.slots=n.Type.isPlainObject(t.slots)?t.slots:{};if(e.withControlPanel!==false){t.slots[s.TileWidgetSlot.AFTER_TILE_LIST]=it}t.insertIntoText=n.Type.isBoolean(e.insertIntoText)?e.insertIntoText:this.userFieldControl.getMainPostForm()!==null;t.showItemMenuButton=true;t.events=t.events||{};t.events["TileItem:onMenuCreate"]=e=>{const{item:t,menu:s}=e.getData();const i=new _e(this.userFieldControl,t,s);i.build()};if(this.userFieldControl.getMainPostForm()!==null){t.events.onInsertIntoText=e=>{const{item:t}=e.getData();this.userFieldControl.getMainPostForm().insertIntoText(t)};t.enableDropzone=false}const i=new We(this.userFieldControl);if(i.hasItems()){t.showSettingsButton=true;t.events["SettingsButton:onClick"]=e=>{const{button:t}=e.getData();i.toggle(t)}}return t},shouldShowCreateDocumentLink(){return this.userFieldControl.canCreateDocuments()&&this.documentsCollapsed&&this.finalVisibility==="both"},shouldShowDocuments(){return this.userFieldControl.canCreateDocuments()&&(this.finalVisibility==="documents"||this.finalVisibility==="both"&&!this.documentsCollapsed)},finalVisibility(){if(this.priorityVisibility!==null){return this.priorityVisibility}return this.visibility}},beforeCreate(){this.userFieldControl=new Ie(this)},beforeUnmount(){this.userFieldControl.destroy()},methods:{getMessage(e,t){return n.Loc.getMessage(e,t)},enableAutoCollapse(){this.$refs.tileWidget.enableAutoCollapse()},getUploaderOptions(){return ot.prepareUploaderOptions(this.uploaderOptions)},getUserFieldControl(){return this.userFieldControl}},template:`\n\t\t<div\n\t\t\tclass="disk-user-field-control"\n\t\t\t:class="{ '--has-files': items.length > 0, '--embedded': widgetOptions.isEmbedded }"\n\t\t\t:style="{ display: finalVisibility === 'hidden' ? 'none' : 'block' }"\n\t\t\tref="container"\n\t\t>\n\t\t\t<div \n\t\t\t\tclass="disk-user-field-uploader-panel"\n\t\t\t\t:class="[{ '--hidden': finalVisibility !== 'uploader' && finalVisibility !== 'both' }]"\n\t\t\t\tref="uploader-container"\n\t\t\t>\n\t\t\t\t<TileWidgetComponent\n\t\t\t\t\t:widgetOptions="tileWidgetOptions"\n\t\t\t\t\t:uploader-adapter="adapter"\n\t\t\t\t\tref="tileWidget"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass="disk-user-field-create-document"\n\t\t\t\tv-if="shouldShowCreateDocumentLink"\n\t\t\t\t@click="documentsCollapsed = false"\n\t\t\t>{{ getMessage('DISK_UF_WIDGET_CREATE_DOCUMENT') }}</div>\n\t\t\t<div\n\t\t\t\tclass="disk-user-field-document-panel"\n\t\t\t\t:class="{ '--single': finalVisibility !== 'both' }"\n\t\t\t\tref="document-container"\n\t\t\t\tv-if="shouldShowDocuments"\n\t\t\t>\n\t\t\t\t<DocumentPanel />\n\t\t\t</div>\n\t\t</div>\n\t`};class ot extends t.VueUploaderWidget{constructor(e,t){const s=n.Type.isPlainObject(t)?{...t}:{};super(ot.prepareUploaderOptions(e),s)}defineComponent(){return at}static prepareUploaderOptions(e){return{...ot.getDefaultUploaderOptions(),...n.Type.isPlainObject(e)?e:{}}}static getDefaultUploaderOptions(){return{controller:"disk.uf.integration.diskUploaderController",multiple:true,maxFileSize:null}}}const rt="create-document";const nt="create-document-service";const dt=re.getImportServices();const ct=re.getDocumentServices();var ut=babelHelpers.classPrivateFieldLooseKey("params");var bt=babelHelpers.classPrivateFieldLooseKey("menu");var pt=babelHelpers.classPrivateFieldLooseKey("browseElement");var vt=babelHelpers.classPrivateFieldLooseKey("getSections");var ht=babelHelpers.classPrivateFieldLooseKey("getItems");var gt=babelHelpers.classPrivateFieldLooseKey("browse");var mt=babelHelpers.classPrivateFieldLooseKey("getSelectImportServiceItem");var Ft=babelHelpers.classPrivateFieldLooseKey("getImportDocumentItem");var ft=babelHelpers.classPrivateFieldLooseKey("getCreateDocumentItem");var Pt=babelHelpers.classPrivateFieldLooseKey("getCreateDocumentTitle");var Lt=babelHelpers.classPrivateFieldLooseKey("getDocumentSvg");var Dt=babelHelpers.classPrivateFieldLooseKey("getSelectCreateServiceItem");var Bt=babelHelpers.classPrivateFieldLooseKey("canCreateDocument");class Ht{constructor(e){Object.defineProperty(this,Bt,{value:Ut});Object.defineProperty(this,Dt,{value:St});Object.defineProperty(this,Lt,{value:wt});Object.defineProperty(this,Pt,{value:kt});Object.defineProperty(this,ft,{value:Tt});Object.defineProperty(this,Ft,{value:Ot});Object.defineProperty(this,mt,{value:Ct});Object.defineProperty(this,gt,{value:Et});Object.defineProperty(this,ht,{value:yt});Object.defineProperty(this,vt,{value:It});Object.defineProperty(this,ut,{writable:true,value:void 0});Object.defineProperty(this,bt,{writable:true,value:void 0});Object.defineProperty(this,pt,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ut)[ut]=e;if(!BX.Disk.getDocumentService()){const e=BX.Disk.isAvailableOnlyOffice()?ie.OnlyOffice:ie.Local;BX.Disk.saveDocumentService(e)}}getMenu(){return babelHelpers.classPrivateFieldLooseBase(this,bt)[bt]}show(e){var t,s;(s=(t=babelHelpers.classPrivateFieldLooseBase(this,bt))[bt])!=null?s:t[bt]=new d.Menu({id:`disk-user-field-menu-${Date.now()}`,minWidth:250,sections:babelHelpers.classPrivateFieldLooseBase(this,vt)[vt](),items:babelHelpers.classPrivateFieldLooseBase(this,ht)[ht](),...babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].menuOptions});babelHelpers.classPrivateFieldLooseBase(this,bt)[bt].show(e)}}function It(){return[{code:rt,title:n.Loc.getMessage("DISK_UF_WIDGET_CREATE")},{code:nt}]}function yt(){const e=[{title:n.Loc.getMessage("DISK_UF_WIDGET_UPLOAD_FILES"),icon:b.Outline.DOWNLOAD,onClick:()=>babelHelpers.classPrivateFieldLooseBase(this,gt)[gt]()},{title:n.Loc.getMessage("DISK_UF_WIDGET_MY_DRIVE"),icon:b.Outline.UPLOAD,onClick:()=>Ge({dialogId:babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].dialogId,uploader:babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].uploader})}];if(babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].compact===true){return e}e.push(babelHelpers.classPrivateFieldLooseBase(this,mt)[mt](),babelHelpers.classPrivateFieldLooseBase(this,ft)[ft](le.Docx),babelHelpers.classPrivateFieldLooseBase(this,ft)[ft](le.Xlsx),babelHelpers.classPrivateFieldLooseBase(this,ft)[ft](le.Pptx),babelHelpers.classPrivateFieldLooseBase(this,ft)[ft](le.Board),babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt]());return e}function Et(){if(!babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]){babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]=document.createElement("div");babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].uploader.assignBrowse(babelHelpers.classPrivateFieldLooseBase(this,pt)[pt])}babelHelpers.classPrivateFieldLooseBase(this,pt)[pt].click()}function Ct(){const e=[babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft](ie.Google),babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft](ie.Office),babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft](ie.Dropbox)].filter((e=>e));if(e.length===0){return null}return{title:n.Loc.getMessage("DISK_UF_WIDGET_EXTERNAL_DRIVES"),subMenu:{items:e}}}function Ot(e){if(!dt[e]){return null}return{title:dt[e].name,onClick:()=>Je({dialogId:babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].dialogId,uploader:babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].uploader,serviceId:e})}}function Tt(e){const t=!babelHelpers.classPrivateFieldLooseBase(this,Bt)[Bt]();const s=e===le.Board&&!re.isBoardsEnabled();if(t||s){return null}return{sectionCode:rt,title:babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt](e),svg:babelHelpers.classPrivateFieldLooseBase(this,Lt)[Lt](e),onClick:()=>tt({uploader:babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].uploader,documentType:e})}}function kt(e){return{[le.Docx]:n.Loc.getMessage("DISK_UF_WIDGET_CREATE_DOCX"),[le.Xlsx]:n.Loc.getMessage("DISK_UF_WIDGET_CREATE_XLSX"),[le.Pptx]:n.Loc.getMessage("DISK_UF_WIDGET_CREATE_PPTX"),[le.Board]:n.Loc.getMessage("DISK_UF_WIDGET_CREATE_BOARD")}[e]}function wt(e){const t=20;const s=new u.FileIcon({name:e,size:t}).generate();n.Dom.style(s,"width",`${t}px`);n.Dom.style(s,"height",`${t}px`);return s}function St(){if(!babelHelpers.classPrivateFieldLooseBase(this,Bt)[Bt]()){return null}return{sectionCode:nt,title:n.Loc.getMessage("DISK_UF_WIDGET_CREATE_WITH"),subtitle:ct[BX.Disk.getDocumentService()].name,closeOnSubItemClick:false,subMenu:{items:Object.keys(ct).map((e=>({title:ct[e].name,isSelected:BX.Disk.getDocumentService()===e,onClick:()=>{BX.Disk.saveDocumentService(e);babelHelpers.classPrivateFieldLooseBase(this,bt)[bt].updateItems(babelHelpers.classPrivateFieldLooseBase(this,ht)[ht]())}})))}}}function Ut(){return re.canCreateDocuments()&&Object.keys(ct).length>0}e.UserFieldWidget=ot;e.UserFieldWidgetComponent=at;e.UserFieldControl=Ie;e.UserFieldMenu=Ht;e.loadDiskFileDialog=Ce;e.openDiskFileDialog=Ge;e.openCloudFileDialog=Je;e.createDocumentDialog=tt})(this.BX.Disk.Uploader=this.BX.Disk.Uploader||{},BX.UI.Uploader,BX.UI.Uploader,BX.Event,BX.UI,BX.UI,BX,BX.UI.Vue3.Components,BX,BX.UI.System,BX.UI.Uploader,BX.UI.Icons.Generator,BX.UI.IconSet);
//# sourceMappingURL=disk.uploader.uf-file.bundle.map.js